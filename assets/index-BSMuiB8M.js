(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function CS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var em={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function IS(){if(dv)return ql;dv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return ql.Fragment=e,ql.jsx=n,ql.jsxs=n,ql}var mv;function DS(){return mv||(mv=1,em.exports=IS()),em.exports}var oe=DS(),tm={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function NS(){if(gv)return Le;gv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,Y={};function H(V,ne,me){this.props=V,this.context=ne,this.refs=Y,this.updater=me||L}H.prototype.isReactComponent={},H.prototype.setState=function(V,ne){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ne,"setState")},H.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function re(){}re.prototype=H.prototype;function X(V,ne,me){this.props=V,this.context=ne,this.refs=Y,this.updater=me||L}var se=X.prototype=new re;se.constructor=X,K(se,H.prototype),se.isPureReactComponent=!0;var Ee=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},ke=Object.prototype.hasOwnProperty;function O(V,ne,me,fe,Te,Be){return me=Be.ref,{$$typeof:r,type:V,key:ne,ref:me!==void 0?me:null,props:Be}}function R(V,ne){return O(V.type,ne,void 0,void 0,void 0,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var ne={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(me){return ne[me]})}var N=/\/+/g;function M(V,ne){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):ne.toString(36)}function w(){}function Me(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(w,w):(V.status="pending",V.then(function(ne){V.status==="pending"&&(V.status="fulfilled",V.value=ne)},function(ne){V.status==="pending"&&(V.status="rejected",V.reason=ne)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Ue(V,ne,me,fe,Te){var Be=typeof V;(Be==="undefined"||Be==="boolean")&&(V=null);var Re=!1;if(V===null)Re=!0;else switch(Be){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(V.$$typeof){case r:case e:Re=!0;break;case E:return Re=V._init,Ue(Re(V._payload),ne,me,fe,Te)}}if(Re)return Te=Te(V),Re=fe===""?"."+M(V,0):fe,Ee(Te)?(me="",Re!=null&&(me=Re.replace(N,"$&/")+"/"),Ue(Te,ne,me,"",function(dn){return dn})):Te!=null&&(C(Te)&&(Te=R(Te,me+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(N,"$&/")+"/")+Re)),ne.push(Te)),1;Re=0;var bt=fe===""?".":fe+":";if(Ee(V))for(var We=0;We<V.length;We++)fe=V[We],Be=bt+M(fe,We),Re+=Ue(fe,ne,me,Be,Te);else if(We=b(V),typeof We=="function")for(V=We.call(V),We=0;!(fe=V.next()).done;)fe=fe.value,Be=bt+M(fe,We++),Re+=Ue(fe,ne,me,Be,Te);else if(Be==="object"){if(typeof V.then=="function")return Ue(Me(V),ne,me,fe,Te);throw ne=String(V),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Re}function Q(V,ne,me){if(V==null)return V;var fe=[],Te=0;return Ue(V,fe,"","",function(Be){return ne.call(me,Be,Te++)}),fe}function le(V){if(V._status===-1){var ne=V._result;ne=ne(),ne.then(function(me){(V._status===0||V._status===-1)&&(V._status=1,V._result=me)},function(me){(V._status===0||V._status===-1)&&(V._status=2,V._result=me)}),V._status===-1&&(V._status=0,V._result=ne)}if(V._status===1)return V._result.default;throw V._result}var ve=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function ze(){}return Le.Children={map:Q,forEach:function(V,ne,me){Q(V,function(){ne.apply(this,arguments)},me)},count:function(V){var ne=0;return Q(V,function(){ne++}),ne},toArray:function(V){return Q(V,function(ne){return ne})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Le.Component=H,Le.Fragment=n,Le.Profiler=o,Le.PureComponent=X,Le.StrictMode=s,Le.Suspense=y,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Le.__COMPILER_RUNTIME={__proto__:null,c:function(V){return he.H.useMemoCache(V)}},Le.cache=function(V){return function(){return V.apply(null,arguments)}},Le.cloneElement=function(V,ne,me){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var fe=K({},V.props),Te=V.key,Be=void 0;if(ne!=null)for(Re in ne.ref!==void 0&&(Be=void 0),ne.key!==void 0&&(Te=""+ne.key),ne)!ke.call(ne,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ne.ref===void 0||(fe[Re]=ne[Re]);var Re=arguments.length-2;if(Re===1)fe.children=me;else if(1<Re){for(var bt=Array(Re),We=0;We<Re;We++)bt[We]=arguments[We+2];fe.children=bt}return O(V.type,Te,void 0,void 0,Be,fe)},Le.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Le.createElement=function(V,ne,me){var fe,Te={},Be=null;if(ne!=null)for(fe in ne.key!==void 0&&(Be=""+ne.key),ne)ke.call(ne,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Te[fe]=ne[fe]);var Re=arguments.length-2;if(Re===1)Te.children=me;else if(1<Re){for(var bt=Array(Re),We=0;We<Re;We++)bt[We]=arguments[We+2];Te.children=bt}if(V&&V.defaultProps)for(fe in Re=V.defaultProps,Re)Te[fe]===void 0&&(Te[fe]=Re[fe]);return O(V,Be,void 0,void 0,null,Te)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(V){return{$$typeof:m,render:V}},Le.isValidElement=C,Le.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:le}},Le.memo=function(V,ne){return{$$typeof:p,type:V,compare:ne===void 0?null:ne}},Le.startTransition=function(V){var ne=he.T,me={};he.T=me;try{var fe=V(),Te=he.S;Te!==null&&Te(me,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ze,ve)}catch(Be){ve(Be)}finally{he.T=ne}},Le.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Le.use=function(V){return he.H.use(V)},Le.useActionState=function(V,ne,me){return he.H.useActionState(V,ne,me)},Le.useCallback=function(V,ne){return he.H.useCallback(V,ne)},Le.useContext=function(V){return he.H.useContext(V)},Le.useDebugValue=function(){},Le.useDeferredValue=function(V,ne){return he.H.useDeferredValue(V,ne)},Le.useEffect=function(V,ne,me){var fe=he.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(V,ne)},Le.useId=function(){return he.H.useId()},Le.useImperativeHandle=function(V,ne,me){return he.H.useImperativeHandle(V,ne,me)},Le.useInsertionEffect=function(V,ne){return he.H.useInsertionEffect(V,ne)},Le.useLayoutEffect=function(V,ne){return he.H.useLayoutEffect(V,ne)},Le.useMemo=function(V,ne){return he.H.useMemo(V,ne)},Le.useOptimistic=function(V,ne){return he.H.useOptimistic(V,ne)},Le.useReducer=function(V,ne,me){return he.H.useReducer(V,ne,me)},Le.useRef=function(V){return he.H.useRef(V)},Le.useState=function(V){return he.H.useState(V)},Le.useSyncExternalStore=function(V,ne,me){return he.H.useSyncExternalStore(V,ne,me)},Le.useTransition=function(){return he.H.useTransition()},Le.version="19.1.1",Le}var pv;function Wm(){return pv||(pv=1,tm.exports=NS()),tm.exports}var Z=Wm();const Un=CS(Z);var nm={exports:{}},Hl={},im={exports:{}},rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function OS(){return yv||(yv=1,(function(r){function e(Q,le){var ve=Q.length;Q.push(le);e:for(;0<ve;){var ze=ve-1>>>1,V=Q[ze];if(0<o(V,le))Q[ze]=le,Q[ve]=V,ve=ze;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var le=Q[0],ve=Q.pop();if(ve!==le){Q[0]=ve;e:for(var ze=0,V=Q.length,ne=V>>>1;ze<ne;){var me=2*(ze+1)-1,fe=Q[me],Te=me+1,Be=Q[Te];if(0>o(fe,ve))Te<V&&0>o(Be,fe)?(Q[ze]=Be,Q[Te]=ve,ze=Te):(Q[ze]=fe,Q[me]=ve,ze=me);else if(Te<V&&0>o(Be,ve))Q[ze]=Be,Q[Te]=ve,ze=Te;else break e}}return le}function o(Q,le){var ve=Q.sortIndex-le.sortIndex;return ve!==0?ve:Q.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var y=[],p=[],E=1,S=null,b=3,L=!1,K=!1,Y=!1,H=!1,re=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function Ee(Q){for(var le=n(p);le!==null;){if(le.callback===null)s(p);else if(le.startTime<=Q)s(p),le.sortIndex=le.expirationTime,e(y,le);else break;le=n(p)}}function he(Q){if(Y=!1,Ee(Q),!K)if(n(y)!==null)K=!0,ke||(ke=!0,M());else{var le=n(p);le!==null&&Ue(he,le.startTime-Q)}}var ke=!1,O=-1,R=5,C=-1;function P(){return H?!0:!(r.unstable_now()-C<R)}function N(){if(H=!1,ke){var Q=r.unstable_now();C=Q;var le=!0;try{e:{K=!1,Y&&(Y=!1,X(O),O=-1),L=!0;var ve=b;try{t:{for(Ee(Q),S=n(y);S!==null&&!(S.expirationTime>Q&&P());){var ze=S.callback;if(typeof ze=="function"){S.callback=null,b=S.priorityLevel;var V=ze(S.expirationTime<=Q);if(Q=r.unstable_now(),typeof V=="function"){S.callback=V,Ee(Q),le=!0;break t}S===n(y)&&s(y),Ee(Q)}else s(y);S=n(y)}if(S!==null)le=!0;else{var ne=n(p);ne!==null&&Ue(he,ne.startTime-Q),le=!1}}break e}finally{S=null,b=ve,L=!1}le=void 0}}finally{le?M():ke=!1}}}var M;if(typeof se=="function")M=function(){se(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Me=w.port2;w.port1.onmessage=N,M=function(){Me.postMessage(null)}}else M=function(){re(N,0)};function Ue(Q,le){O=re(function(){Q(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var ve=b;b=le;try{return Q()}finally{b=ve}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ve=b;b=Q;try{return le()}finally{b=ve}},r.unstable_scheduleCallback=function(Q,le,ve){var ze=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ze+ve:ze):ve=ze,Q){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ve+V,Q={id:E++,callback:le,priorityLevel:Q,startTime:ve,expirationTime:V,sortIndex:-1},ve>ze?(Q.sortIndex=ve,e(p,Q),n(y)===null&&Q===n(p)&&(Y?(X(O),O=-1):Y=!0,Ue(he,ve-ze))):(Q.sortIndex=V,e(y,Q),K||L||(K=!0,ke||(ke=!0,M()))),Q},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(Q){var le=b;return function(){var ve=b;b=le;try{return Q.apply(this,arguments)}finally{b=ve}}}})(rm)),rm}var _v;function VS(){return _v||(_v=1,im.exports=OS()),im.exports}var sm={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function MS(){if(vv)return ln;vv=1;var r=Wm();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,p,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:p,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ln.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,E)},ln.flushSync=function(y){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=p,s.p=E,s.d.f()}},ln.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},ln.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},ln.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,S=m(E,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,L=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:L}):E==="script"&&s.d.X(y,{crossOrigin:S,integrity:b,fetchPriority:L,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ln.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},ln.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,S=m(E,p.crossOrigin);s.d.L(y,E,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ln.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},ln.requestFormReset=function(y){s.d.r(y)},ln.unstable_batchedUpdates=function(y,p){return y(p)},ln.useFormState=function(y,p,E){return f.H.useFormState(y,p,E)},ln.useFormStatus=function(){return f.H.useHostTransitionStatus()},ln.version="19.1.1",ln}var Ev;function xS(){if(Ev)return sm.exports;Ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sm.exports=MS(),sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function PS(){if(Tv)return Hl;Tv=1;var r=VS(),e=Wm(),n=xS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),se=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case H:return"Profiler";case Y:return"StrictMode";case he:return"Suspense";case ke:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case se:return(t.displayName||"Context")+".Provider";case X:return(t._context.displayName||"Context")+".Consumer";case Ee:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return i=t.displayName||null,i!==null?i:Me(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Me(t(i))}catch{}}return null}var Ue=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},ze=[],V=-1;function ne(t){return{current:t}}function me(t){0>V||(t.current=ze[V],ze[V]=null,V--)}function fe(t,i){V++,ze[V]=t.current,t.current=i}var Te=ne(null),Be=ne(null),Re=ne(null),bt=ne(null);function We(t,i){switch(fe(Re,i),fe(Be,t),fe(Te,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?j_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=j_(i),t=q_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}me(Te),fe(Te,t)}function dn(){me(Te),me(Be),me(Re)}function Bi(t){t.memoizedState!==null&&fe(bt,t);var i=Te.current,a=q_(i,t.type);i!==a&&(fe(Be,t),fe(Te,a))}function Sr(t){Be.current===t&&(me(Te),me(Be)),bt.current===t&&(me(bt),Ll._currentValue=ve)}var ji=Object.prototype.hasOwnProperty,qi=r.unstable_scheduleCallback,Hi=r.unstable_cancelCallback,Aa=r.unstable_shouldYield,bs=r.unstable_requestPaint,sn=r.unstable_now,Uo=r.unstable_getCurrentPriorityLevel,Tt=r.unstable_ImmediatePriority,D=r.unstable_UserBlockingPriority,B=r.unstable_NormalPriority,$=r.unstable_LowPriority,de=r.unstable_IdlePriority,ce=r.log,ae=r.unstable_setDisableYieldValue,ye=null,Oe=null;function je(t){if(typeof ce=="function"&&ae(t),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(ye,t)}catch{}}var rt=Math.clz32?Math.clz32:Sa,br=Math.log,In=Math.LN2;function Sa(t){return t>>>=0,t===0?32:31-(br(t)/In|0)|0}var Tn=256,jn=4194304;function Dn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mn(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Dn(l):(v&=T,v!==0?h=Dn(v):a||(a=T&~t,a!==0&&(h=Dn(a))))):(T=l&~d,T!==0?h=Dn(T):v!==0?h=Dn(v):a||(a=l&~t,a!==0&&(h=Dn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function mi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Fi(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var t=Tn;return Tn<<=1,(Tn&4194048)===0&&(Tn=256),t}function wr(){var t=jn;return jn<<=1,(jn&62914560)===0&&(jn=4194304),t}function ba(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function wt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Du(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,j=t.hiddenUpdates;for(a=v&~a;0<a;){var W=31-rt(a),ee=1<<W;T[W]=0,I[W]=-1;var q=j[W];if(q!==null)for(j[W]=null,W=0;W<q.length;W++){var F=q[W];F!==null&&(F.lane&=-536870913)}a&=~ee}l!==0&&Rr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Rr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-rt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Cr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-rt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Bo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function jo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gi(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:ov(t.type))}function sf(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var gi=Math.random().toString(36).slice(2),Rt="__reactFiber$"+gi,Zt="__reactProps$"+gi,Qi="__reactContainer$"+gi,ws="__reactEvents$"+gi,Rs="__reactListeners$"+gi,af="__reactHandles$"+gi,Jn="__reactResources$"+gi,Ir="__reactMarker$"+gi;function wa(t){delete t[Rt],delete t[Zt],delete t[ws],delete t[Rs],delete t[af]}function pi(t){var i=t[Rt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Qi]||a[Rt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Q_(t);t!==null;){if(a=t[Rt])return a;t=Q_(t)}return i}t=a,a=t.parentNode}return null}function yi(t){if(t=t[Rt]||t[Qi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Dr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Nr(t){var i=t[Jn];return i||(i=t[Jn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ct(t){t[Ir]=!0}var Nu=new Set,Cs={};function _i(t,i){vi(t,i),vi(t+"Capture",i)}function vi(t,i){for(Cs[t]=i,t=0;t<i.length;t++)Nu.add(i[t])}var Is=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ei={},Ra={};function of(t){return ji.call(Ra,t)?!0:ji.call(Ei,t)?!1:Is.test(t)?Ra[t]=!0:(Ei[t]=!0,!1)}function Ds(t,i,a){if(of(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Ns(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function qn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Os,Ca;function Ki(t){if(Os===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Os=i&&i[1]||"",Ca=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Os+t+Ca}var Ia=!1;function Da(t,i){if(!t||Ia)return"";Ia=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(F){var q=F}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(F){q=F}t.call(ee.prototype)}}else{try{throw Error()}catch(F){q=F}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),j=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===j.length)for(l=I.length-1,h=j.length-1;1<=l&&0<=h&&I[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==j[h]){var W=`
`+I[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{Ia=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ki(a):""}function lf(t){switch(t.tag){case 26:case 27:case 5:return Ki(t.type);case 16:return Ki("Lazy");case 13:return Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 15:return Da(t.type,!1);case 11:return Da(t.type.render,!1);case 1:return Da(t.type,!0);case 31:return Ki("Activity");default:return""}}function ei(t){try{var i="";do i+=lf(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Or(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vs(t){var i=Or(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Vr(t){t._valueTracker||(t._valueTracker=Vs(t))}function st(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Or(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Yi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ms=/[\n"\\]/g;function Gt(t){return t.replace(Ms,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function qo(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+pt(i)):t.value!==""+pt(i)&&(t.value=""+pt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Fo(t,v,pt(i)):a!=null?Fo(t,v,pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+pt(T):t.removeAttribute("name")}function Ho(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+pt(a):"",i=i!=null?""+pt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Fo(t,i,a){i==="number"&&Yi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Mr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ou(t,i,a){if(i!=null&&(i=""+pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+pt(a):""}function Vu(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ue(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Hn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Xi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Xi.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Qo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Go(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Go(t,d,i[d])}function Na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ti(t){return xu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ko=null;function Yo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xr=null,gn=null;function Pu(t){var i=yi(t);if(i&&(t=i.stateNode)){var a=t[Zt]||null;e:switch(t=i.stateNode,i.type){case"input":if(qo(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Gt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Zt]||null;if(!h)throw Error(s(90));qo(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&st(l)}break e;case"textarea":Ou(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Mr(t,!!a.multiple,i,!1)}}}var xs=!1;function Ps(t,i,a){if(xs)return t(i,a);xs=!0;try{var l=t(i);return l}finally{if(xs=!1,(xr!==null||gn!==null)&&(bc(),xr&&(i=xr,t=gn,gn=xr=null,Pu(i),t)))for(i=0;i<t.length;i++)Pu(t[i])}}function Pr(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Zt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$i=!1;if(pn)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){$i=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{$i=!1}var Fn=null,ct=null,Oa=null;function ku(){if(Oa)return Oa;var t,i=ct,a=i.length,l,h="value"in Fn?Fn.value:Fn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Oa=h.slice(t,1<l?1-l:void 0)}function ks(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ls(){return!0}function Xo(){return!1}function zt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ls:Xo,this.isPropagationStopped=Xo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ls)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ls)},persist:function(){},isPersistent:Ls}),i}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Us=zt(an),zs=E({},an,{view:0,detail:0}),Bs=zt(zs),Va,js,Ti,qs=E({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(Va=t.screenX-Ti.screenX,js=t.screenY-Ti.screenY):js=Va=0,Ti=t),Va)},movementY:function(t){return"movementY"in t?t.movementY:js}}),Hs=zt(qs),uf=E({},qs,{dataTransfer:0}),Lu=zt(uf),Fs=E({},zs,{relatedTarget:0}),Ma=zt(Fs),Uu=E({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),$o=zt(Uu),Zo=E({},an,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zu=zt(Zo),xa=E({},an,{data:0}),Wo=zt(xa),Bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ju[t])?!!i[t]:!1}function Pa(){return qu}var Hu=E({},zs,{key:function(t){if(t.key){var i=Bu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(t){return t.type==="keypress"?ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ka=zt(Hu),yn=E({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jo=zt(yn),Fu=E({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),Lr=zt(Fu),c=E({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),g=zt(c),_=E({},qs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),A=zt(_),z=E({},an,{newState:0,oldState:0}),G=zt(z),ue=[9,13,27,32],xe=pn&&"CompositionEvent"in window,ft=null;pn&&"documentMode"in document&&(ft=document.documentMode);var tt=pn&&"TextEvent"in window&&!ft,It=pn&&(!xe||ft&&8<ft&&11>=ft),Nn=" ",Ai=!1;function ni(t,i){switch(t){case"keyup":return ue.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ii(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ri=!1;function el(t,i){switch(t){case"compositionend":return ii(i);case"keypress":return i.which!==32?null:(Ai=!0,Nn);case"textInput":return t=i.data,t===Nn&&Ai?null:t;default:return null}}function eA(t,i){if(ri)return t==="compositionend"||!xe&&ni(t,i)?(t=ku(),Oa=ct=Fn=null,ri=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return It&&i.locale!=="ko"?null:i.data;default:return null}}var tA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!tA[t.type]:i==="textarea"}function np(t,i,a,l){xr?gn?gn.push(l):gn=[l]:xr=l,i=Nc(i,"onChange"),0<i.length&&(a=new Us("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var tl=null,nl=null;function nA(t){k_(t,0)}function Gu(t){var i=Dr(t);if(st(i))return t}function ip(t,i){if(t==="change")return i}var rp=!1;if(pn){var cf;if(pn){var hf="oninput"in document;if(!hf){var sp=document.createElement("div");sp.setAttribute("oninput","return;"),hf=typeof sp.oninput=="function"}cf=hf}else cf=!1;rp=cf&&(!document.documentMode||9<document.documentMode)}function ap(){tl&&(tl.detachEvent("onpropertychange",op),nl=tl=null)}function op(t){if(t.propertyName==="value"&&Gu(nl)){var i=[];np(i,nl,t,Yo(t)),Ps(nA,i)}}function iA(t,i,a){t==="focusin"?(ap(),tl=i,nl=a,tl.attachEvent("onpropertychange",op)):t==="focusout"&&ap()}function rA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gu(nl)}function sA(t,i){if(t==="click")return Gu(i)}function aA(t,i){if(t==="input"||t==="change")return Gu(i)}function oA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var On=typeof Object.is=="function"?Object.is:oA;function il(t,i){if(On(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ji.call(i,h)||!On(t[h],i[h]))return!1}return!0}function lp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function up(t,i){var a=lp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=lp(a)}}function cp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?cp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function hp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Yi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Yi(t.document)}return i}function ff(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var lA=pn&&"documentMode"in document&&11>=document.documentMode,La=null,df=null,rl=null,mf=!1;function fp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mf||La==null||La!==Yi(l)||(l=La,"selectionStart"in l&&ff(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=Nc(df,"onSelect"),0<l.length&&(i=new Us("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=La)))}function Gs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ua={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},gf={},dp={};pn&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Qs(t){if(gf[t])return gf[t];if(!Ua[t])return t;var i=Ua[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in dp)return gf[t]=i[a];return t}var mp=Qs("animationend"),gp=Qs("animationiteration"),pp=Qs("animationstart"),uA=Qs("transitionrun"),cA=Qs("transitionstart"),hA=Qs("transitioncancel"),yp=Qs("transitionend"),_p=new Map,pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pf.push("scrollEnd");function si(t,i){_p.set(t,i),_i(i,[t])}var vp=new WeakMap;function Gn(t,i){if(typeof t=="object"&&t!==null){var a=vp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ei(i)},vp.set(t,i),i)}return{value:t,source:i,stack:ei(i)}}var Qn=[],za=0,yf=0;function Qu(){for(var t=za,i=yf=za=0;i<t;){var a=Qn[i];Qn[i++]=null;var l=Qn[i];Qn[i++]=null;var h=Qn[i];Qn[i++]=null;var d=Qn[i];if(Qn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Ep(a,h,d)}}function Ku(t,i,a,l){Qn[za++]=t,Qn[za++]=i,Qn[za++]=a,Qn[za++]=l,yf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _f(t,i,a,l){return Ku(t,i,a,l),Yu(t)}function Ba(t,i){return Ku(t,null,null,i),Yu(t)}function Ep(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-rt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Yu(t){if(50<Dl)throw Dl=0,bd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ja={};function fA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,i,a,l){return new fA(t,i,a,l)}function vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,i){var a=t.alternate;return a===null?(a=Vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Tp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Xu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")vf(t)&&(v=1);else if(typeof t=="string")v=mS(t,a,Te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Vn(31,a,i,h),t.elementType=C,t.lanes=d,t;case K:return Ks(a.children,h,d,i);case Y:v=8,h|=24;break;case H:return t=Vn(12,a,i,h|2),t.elementType=H,t.lanes=d,t;case he:return t=Vn(13,a,i,h),t.elementType=he,t.lanes=d,t;case ke:return t=Vn(19,a,i,h),t.elementType=ke,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:case se:v=10;break e;case X:v=9;break e;case Ee:v=11;break e;case O:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Vn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ks(t,i,a,l){return t=Vn(7,t,l,i),t.lanes=a,t}function Ef(t,i,a){return t=Vn(6,t,null,i),t.lanes=a,t}function Tf(t,i,a){return i=Vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var qa=[],Ha=0,$u=null,Zu=0,Kn=[],Yn=0,Ys=null,Ji=1,er="";function Xs(t,i){qa[Ha++]=Zu,qa[Ha++]=$u,$u=t,Zu=i}function Ap(t,i,a){Kn[Yn++]=Ji,Kn[Yn++]=er,Kn[Yn++]=Ys,Ys=t;var l=Ji;t=er;var h=32-rt(l)-1;l&=~(1<<h),a+=1;var d=32-rt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ji=1<<32-rt(i)+h|a<<h|l,er=d+t}else Ji=1<<d|a<<h|l,er=t}function Af(t){t.return!==null&&(Xs(t,1),Ap(t,1,0))}function Sf(t){for(;t===$u;)$u=qa[--Ha],qa[Ha]=null,Zu=qa[--Ha],qa[Ha]=null;for(;t===Ys;)Ys=Kn[--Yn],Kn[Yn]=null,er=Kn[--Yn],Kn[Yn]=null,Ji=Kn[--Yn],Kn[Yn]=null}var _n=null,At=null,Je=!1,$s=null,Si=!1,bf=Error(s(519));function Zs(t){var i=Error(s(418,""));throw ol(Gn(i,t)),bf}function Sp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Rt]=t,i[Zt]=l,a){case"dialog":Ge("cancel",i),Ge("close",i);break;case"iframe":case"object":case"embed":Ge("load",i);break;case"video":case"audio":for(a=0;a<Ol.length;a++)Ge(Ol[a],i);break;case"source":Ge("error",i);break;case"img":case"image":case"link":Ge("error",i),Ge("load",i);break;case"details":Ge("toggle",i);break;case"input":Ge("invalid",i),Ho(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Vr(i);break;case"select":Ge("invalid",i);break;case"textarea":Ge("invalid",i),Vu(i,l.value,l.defaultValue,l.children),Vr(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||B_(i.textContent,a)?(l.popover!=null&&(Ge("beforetoggle",i),Ge("toggle",i)),l.onScroll!=null&&Ge("scroll",i),l.onScrollEnd!=null&&Ge("scrollend",i),l.onClick!=null&&(i.onclick=Oc),i=!0):i=!1,i||Zs(t)}function bp(t){for(_n=t.return;_n;)switch(_n.tag){case 5:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:_n=_n.return}}function sl(t){if(t!==_n)return!1;if(!Je)return bp(t),Je=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bd(t.type,t.memoizedProps)),a=!a),a&&At&&Zs(t),bp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){At=oi(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}At=null}}else i===27?(i=At,Jr(t.type)?(t=Fd,Fd=null,At=t):At=i):At=_n?oi(t.stateNode.nextSibling):null;return!0}function al(){At=_n=null,Je=!1}function wp(){var t=$s;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),$s=null),t}function ol(t){$s===null?$s=[t]:$s.push(t)}var wf=ne(null),Ws=null,tr=null;function Ur(t,i,a){fe(wf,i._currentValue),i._currentValue=a}function nr(t){t._currentValue=wf.current,me(wf)}function Rf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Cf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Rf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Rf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ll(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;On(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===bt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}h=h.return}t!==null&&Cf(i,t,a,l),i.flags|=262144}function Wu(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Js(t){Ws=t,tr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return Rp(Ws,t)}function Ju(t,i){return Ws===null&&Js(t),Rp(t,i)}function Rp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},tr===null){if(t===null)throw Error(s(308));tr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else tr=tr.next=i;return a}var dA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},mA=r.unstable_scheduleCallback,gA=r.unstable_NormalPriority,Bt={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new dA,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&mA(gA,function(){t.controller.abort()})}var cl=null,Df=0,Fa=0,Ga=null;function pA(t,i){if(cl===null){var a=cl=[];Df=0,Fa=Od(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,i.then(Cp,Cp),i}function Cp(){if(--Df===0&&cl!==null){Ga!==null&&(Ga.status="fulfilled");var t=cl;cl=null,Fa=0,Ga=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function yA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ip=Q.S;Q.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&pA(t,i),Ip!==null&&Ip(t,i)};var ea=ne(null);function Nf(){var t=ea.current;return t!==null?t:ht.pooledCache}function ec(t,i){i===null?fe(ea,ea.current):fe(ea,i.pool)}function Dp(){var t=Nf();return t===null?null:{parent:Bt._currentValue,pool:t}}var hl=Error(s(460)),Np=Error(s(474)),tc=Error(s(542)),Of={then:function(){}};function Op(t){return t=t.status,t==="fulfilled"||t==="rejected"}function nc(){}function Vp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(nc,nc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,xp(t),t;default:if(typeof i.status=="string")i.then(nc,nc);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,xp(t),t}throw fl=i,hl}}var fl=null;function Mp(){if(fl===null)throw Error(s(459));var t=fl;return fl=null,t}function xp(t){if(t===hl||t===tc)throw Error(s(483))}var zr=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Br(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function jr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Yu(t),Ep(t,null,a),i}return Ku(t,l,i,a),Yu(t)}function dl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Cr(t,a)}}function xf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Pf=!1;function ml(){if(Pf){var t=Ga;if(t!==null)throw t}}function gl(t,i,a,l){Pf=!1;var h=t.updateQueue;zr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,j=I.next;I.next=null,v===null?d=j:v.next=j,v=I;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=j:T.next=j,W.lastBaseUpdate=I))}if(d!==null){var ee=h.baseState;v=0,W=j=I=null,T=d;do{var q=T.lane&-536870913,F=q!==T.lane;if(F?(Xe&q)===q:(l&q)===q){q!==0&&q===Fa&&(Pf=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var De=t,we=T;q=i;var lt=a;switch(we.tag){case 1:if(De=we.payload,typeof De=="function"){ee=De.call(lt,ee,q);break e}ee=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=we.payload,q=typeof De=="function"?De.call(lt,ee,q):De,q==null)break e;ee=E({},ee,q);break e;case 2:zr=!0}}q=T.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(j=W=F,I=ee):W=W.next=F,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);W===null&&(I=ee),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Xr|=v,t.lanes=v,t.memoizedState=ee}}function Pp(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function kp(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Pp(a[t],i)}var Qa=ne(null),ic=ne(0);function Lp(t,i){t=ur,fe(ic,t),fe(Qa,i),ur=t|i.baseLanes}function kf(){fe(ic,ur),fe(Qa,Qa.current)}function Lf(){ur=ic.current,me(Qa),me(ic)}var qr=0,qe=null,at=null,Vt=null,rc=!1,Ka=!1,ta=!1,sc=0,pl=0,Ya=null,_A=0;function Dt(){throw Error(s(321))}function Uf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!On(t[a],i[a]))return!1;return!0}function zf(t,i,a,l,h,d){return qr=d,qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?Ey:Ty,ta=!1,d=a(l,h),ta=!1,Ka&&(d=zp(i,a,l,h)),Up(t),d}function Up(t){Q.H=hc;var i=at!==null&&at.next!==null;if(qr=0,Vt=at=qe=null,rc=!1,pl=0,Ya=null,i)throw Error(s(300));t===null||Qt||(t=t.dependencies,t!==null&&Wu(t)&&(Qt=!0))}function zp(t,i,a,l){qe=t;var h=0;do{if(Ka&&(Ya=null),pl=0,Ka=!1,25<=h)throw Error(s(301));if(h+=1,Vt=at=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=wA,d=i(a,l)}while(Ka);return d}function vA(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?yl(i):i,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(qe.flags|=1024),i}function Bf(){var t=sc!==0;return sc=0,t}function jf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function qf(t){if(rc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}rc=!1}qr=0,Vt=at=qe=null,Ka=!1,pl=sc=0,Ya=null}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?qe.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Mt(){if(at===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var i=Vt===null?qe.memoizedState:Vt.next;if(i!==null)Vt=i,at=t;else{if(t===null)throw qe.alternate===null?Error(s(467)):Error(s(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Vt===null?qe.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var i=pl;return pl+=1,Ya===null&&(Ya=[]),t=Vp(Ya,t,i),i=qe,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Ey:Ty),t}function ac(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===se)return on(t)}throw Error(s(438,String(t)))}function Ff(t){var i=null,a=qe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=qe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Hf(),qe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=P;return i.index++,a}function ir(t,i){return typeof i=="function"?i(t):i}function oc(t){var i=Mt();return Gf(i,at,t)}function Gf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,I=null,j=i,W=!1;do{var ee=j.lane&-536870913;if(ee!==j.lane?(Xe&ee)===ee:(qr&ee)===ee){var q=j.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ee===Fa&&(W=!0);else if((qr&q)===q){j=j.next,q===Fa&&(W=!0);continue}else ee={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=ee,v=d):I=I.next=ee,qe.lanes|=q,Xr|=q;ee=j.action,ta&&a(d,ee),d=j.hasEagerState?j.eagerState:a(d,ee)}else q={lane:ee,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=q,v=d):I=I.next=q,qe.lanes|=ee,Xr|=ee;j=j.next}while(j!==null&&j!==i);if(I===null?v=d:I.next=T,!On(d,t.memoizedState)&&(Qt=!0,W&&(a=Ga,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qf(t){var i=Mt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);On(d,i.memoizedState)||(Qt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Bp(t,i,a){var l=qe,h=Mt(),d=Je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!On((at||h).memoizedState,a);v&&(h.memoizedState=a,Qt=!0),h=h.queue;var T=Hp.bind(null,l,h,t);if(_l(2048,8,T,[t]),h.getSnapshot!==i||v||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,Xa(9,lc(),qp.bind(null,l,h,a,i),null),ht===null)throw Error(s(349));d||(qr&124)!==0||jp(l,i,a)}return a}function jp(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=qe.updateQueue,i===null?(i=Hf(),qe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function qp(t,i,a,l){i.value=a,i.getSnapshot=l,Fp(i)&&Gp(t)}function Hp(t,i,a){return a(function(){Fp(i)&&Gp(t)})}function Fp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!On(t,a)}catch{return!0}}function Gp(t){var i=Ba(t,2);i!==null&&Ln(i,t,2)}function Kf(t){var i=An();if(typeof t=="function"){var a=t;if(t=a(),ta){je(!0);try{a()}finally{je(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:t},i}function Qp(t,i,a,l){return t.baseState=a,Gf(t,at,typeof l=="function"?l:ir)}function EA(t,i,a,l,h){if(cc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Kp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Kp(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,v={};Q.T=v;try{var T=a(h,l),I=Q.S;I!==null&&I(v,T),Yp(t,i,T)}catch(j){Yf(t,i,j)}finally{Q.T=d}}else try{d=a(h,l),Yp(t,i,d)}catch(j){Yf(t,i,j)}}function Yp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Xp(t,i,l)},function(l){return Yf(t,i,l)}):Xp(t,i,a)}function Xp(t,i,a){i.status="fulfilled",i.value=a,$p(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Kp(t,a)))}function Yf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,$p(i),i=i.next;while(i!==l)}t.action=null}function $p(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Zp(t,i){return i}function Wp(t,i){if(Je){var a=ht.formState;if(a!==null){e:{var l=qe;if(Je){if(At){t:{for(var h=At,d=Si;h.nodeType!==8;){if(!d){h=null;break t}if(h=oi(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){At=oi(h.nextSibling),l=h.data==="F!";break e}}Zs(l)}l=!1}l&&(i=a[0])}}return a=An(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zp,lastRenderedState:i},a.queue=l,a=yy.bind(null,qe,l),l.dispatch=a,l=Kf(!1),d=Jf.bind(null,qe,!1,l.queue),l=An(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=EA.bind(null,qe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Jp(t){var i=Mt();return ey(i,at,t)}function ey(t,i,a){if(i=Gf(t,i,Zp)[0],t=oc(ir)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=yl(i)}catch(v){throw v===hl?tc:v}else l=i;i=Mt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(qe.flags|=2048,Xa(9,lc(),TA.bind(null,h,a),null)),[l,d,t]}function TA(t,i){t.action=i}function ty(t){var i=Mt(),a=at;if(a!==null)return ey(i,a,t);Mt(),i=i.memoizedState,a=Mt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Xa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=qe.updateQueue,i===null&&(i=Hf(),qe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function lc(){return{destroy:void 0,resource:void 0}}function ny(){return Mt().memoizedState}function uc(t,i,a,l){var h=An();l=l===void 0?null:l,qe.flags|=t,h.memoizedState=Xa(1|i,lc(),a,l)}function _l(t,i,a,l){var h=Mt();l=l===void 0?null:l;var d=h.memoizedState.inst;at!==null&&l!==null&&Uf(l,at.memoizedState.deps)?h.memoizedState=Xa(i,d,a,l):(qe.flags|=t,h.memoizedState=Xa(1|i,d,a,l))}function iy(t,i){uc(8390656,8,t,i)}function ry(t,i){_l(2048,8,t,i)}function sy(t,i){return _l(4,2,t,i)}function ay(t,i){return _l(4,4,t,i)}function oy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ly(t,i,a){a=a!=null?a.concat([t]):null,_l(4,4,oy.bind(null,i,t),a)}function Xf(){}function uy(t,i){var a=Mt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Uf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function cy(t,i){var a=Mt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Uf(i,l[1]))return l[0];if(l=t(),ta){je(!0);try{t()}finally{je(!1)}}return a.memoizedState=[l,i],l}function $f(t,i,a){return a===void 0||(qr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=d_(),qe.lanes|=t,Xr|=t,a)}function hy(t,i,a,l){return On(a,i)?a:Qa.current!==null?(t=$f(t,a,l),On(t,i)||(Qt=!0),t):(qr&42)===0?(Qt=!0,t.memoizedState=a):(t=d_(),qe.lanes|=t,Xr|=t,i)}function fy(t,i,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var v=Q.T,T={};Q.T=T,Jf(t,!1,i,a);try{var I=h(),j=Q.S;if(j!==null&&j(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=yA(I,l);vl(t,i,W,kn(t))}else vl(t,i,l,kn(t))}catch(ee){vl(t,i,{then:function(){},status:"rejected",reason:ee},kn())}finally{le.p=d,Q.T=v}}function AA(){}function Zf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=dy(t).queue;fy(t,h,i,ve,a===null?AA:function(){return my(t),a(l)})}function dy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:ve},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function my(t){var i=dy(t).next.queue;vl(t,i,{},kn())}function Wf(){return on(Ll)}function gy(){return Mt().memoizedState}function py(){return Mt().memoizedState}function SA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=kn();t=Br(a);var l=jr(i,t,a);l!==null&&(Ln(l,i,a),dl(l,i,a)),i={cache:If()},t.payload=i;return}i=i.return}}function bA(t,i,a){var l=kn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},cc(t)?_y(i,a):(a=_f(t,i,a,l),a!==null&&(Ln(a,t,l),vy(a,i,l)))}function yy(t,i,a){var l=kn();vl(t,i,a,l)}function vl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(cc(t))_y(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,On(T,v))return Ku(t,i,h,0),ht===null&&Qu(),!1}catch{}finally{}if(a=_f(t,i,h,l),a!==null)return Ln(a,t,l),vy(a,i,l),!0}return!1}function Jf(t,i,a,l){if(l={lane:2,revertLane:Od(),action:l,hasEagerState:!1,eagerState:null,next:null},cc(t)){if(i)throw Error(s(479))}else i=_f(t,a,l,2),i!==null&&Ln(i,t,2)}function cc(t){var i=t.alternate;return t===qe||i!==null&&i===qe}function _y(t,i){Ka=rc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function vy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Cr(t,a)}}var hc={readContext:on,use:ac,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt},Ey={readContext:on,use:ac,useCallback:function(t,i){return An().memoizedState=[t,i===void 0?null:i],t},useContext:on,useEffect:iy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,uc(4194308,4,oy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return uc(4194308,4,t,i)},useInsertionEffect:function(t,i){uc(4,2,t,i)},useMemo:function(t,i){var a=An();i=i===void 0?null:i;var l=t();if(ta){je(!0);try{t()}finally{je(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=An();if(a!==void 0){var h=a(i);if(ta){je(!0);try{a(i)}finally{je(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=bA.bind(null,qe,t),[l.memoizedState,t]},useRef:function(t){var i=An();return t={current:t},i.memoizedState=t},useState:function(t){t=Kf(t);var i=t.queue,a=yy.bind(null,qe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Xf,useDeferredValue:function(t,i){var a=An();return $f(a,t,i)},useTransition:function(){var t=Kf(!1);return t=fy.bind(null,qe,t.queue,!0,!1),An().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=qe,h=An();if(Je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ht===null)throw Error(s(349));(Xe&124)!==0||jp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,iy(Hp.bind(null,l,d,t),[t]),l.flags|=2048,Xa(9,lc(),qp.bind(null,l,d,a,i),null),a},useId:function(){var t=An(),i=ht.identifierPrefix;if(Je){var a=er,l=Ji;a=(l&~(1<<32-rt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=sc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=_A++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Wf,useFormState:Wp,useActionState:Wp,useOptimistic:function(t){var i=An();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Jf.bind(null,qe,!0,a),a.dispatch=i,[t,i]},useMemoCache:Ff,useCacheRefresh:function(){return An().memoizedState=SA.bind(null,qe)}},Ty={readContext:on,use:ac,useCallback:uy,useContext:on,useEffect:ry,useImperativeHandle:ly,useInsertionEffect:sy,useLayoutEffect:ay,useMemo:cy,useReducer:oc,useRef:ny,useState:function(){return oc(ir)},useDebugValue:Xf,useDeferredValue:function(t,i){var a=Mt();return hy(a,at.memoizedState,t,i)},useTransition:function(){var t=oc(ir)[0],i=Mt().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:Bp,useId:gy,useHostTransitionStatus:Wf,useFormState:Jp,useActionState:Jp,useOptimistic:function(t,i){var a=Mt();return Qp(a,at,t,i)},useMemoCache:Ff,useCacheRefresh:py},wA={readContext:on,use:ac,useCallback:uy,useContext:on,useEffect:ry,useImperativeHandle:ly,useInsertionEffect:sy,useLayoutEffect:ay,useMemo:cy,useReducer:Qf,useRef:ny,useState:function(){return Qf(ir)},useDebugValue:Xf,useDeferredValue:function(t,i){var a=Mt();return at===null?$f(a,t,i):hy(a,at.memoizedState,t,i)},useTransition:function(){var t=Qf(ir)[0],i=Mt().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:Bp,useId:gy,useHostTransitionStatus:Wf,useFormState:ty,useActionState:ty,useOptimistic:function(t,i){var a=Mt();return at!==null?Qp(a,at,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ff,useCacheRefresh:py},$a=null,El=0;function fc(t){var i=El;return El+=1,$a===null&&($a=[]),Vp($a,t,i)}function Tl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function dc(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ay(t){var i=t._init;return i(t._payload)}function Sy(t){function i(k,x){if(t){var U=k.deletions;U===null?(k.deletions=[x],k.flags|=16):U.push(x)}}function a(k,x){if(!t)return null;for(;x!==null;)i(k,x),x=x.sibling;return null}function l(k){for(var x=new Map;k!==null;)k.key!==null?x.set(k.key,k):x.set(k.index,k),k=k.sibling;return x}function h(k,x){return k=Wi(k,x),k.index=0,k.sibling=null,k}function d(k,x,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<x?(k.flags|=67108866,x):U):(k.flags|=67108866,x)):(k.flags|=1048576,x)}function v(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,x,U,J){return x===null||x.tag!==6?(x=Ef(U,k.mode,J),x.return=k,x):(x=h(x,U),x.return=k,x)}function I(k,x,U,J){var pe=U.type;return pe===K?W(k,x,U.props.children,J,U.key):x!==null&&(x.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&Ay(pe)===x.type)?(x=h(x,U.props),Tl(x,U),x.return=k,x):(x=Xu(U.type,U.key,U.props,null,k.mode,J),Tl(x,U),x.return=k,x)}function j(k,x,U,J){return x===null||x.tag!==4||x.stateNode.containerInfo!==U.containerInfo||x.stateNode.implementation!==U.implementation?(x=Tf(U,k.mode,J),x.return=k,x):(x=h(x,U.children||[]),x.return=k,x)}function W(k,x,U,J,pe){return x===null||x.tag!==7?(x=Ks(U,k.mode,J,pe),x.return=k,x):(x=h(x,U),x.return=k,x)}function ee(k,x,U){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Ef(""+x,k.mode,U),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case b:return U=Xu(x.type,x.key,x.props,null,k.mode,U),Tl(U,x),U.return=k,U;case L:return x=Tf(x,k.mode,U),x.return=k,x;case R:var J=x._init;return x=J(x._payload),ee(k,x,U)}if(Ue(x)||M(x))return x=Ks(x,k.mode,U,null),x.return=k,x;if(typeof x.then=="function")return ee(k,fc(x),U);if(x.$$typeof===se)return ee(k,Ju(k,x),U);dc(k,x)}return null}function q(k,x,U,J){var pe=x!==null?x.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return pe!==null?null:T(k,x,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return U.key===pe?I(k,x,U,J):null;case L:return U.key===pe?j(k,x,U,J):null;case R:return pe=U._init,U=pe(U._payload),q(k,x,U,J)}if(Ue(U)||M(U))return pe!==null?null:W(k,x,U,J,null);if(typeof U.then=="function")return q(k,x,fc(U),J);if(U.$$typeof===se)return q(k,x,Ju(k,U),J);dc(k,U)}return null}function F(k,x,U,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return k=k.get(U)||null,T(x,k,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return k=k.get(J.key===null?U:J.key)||null,I(x,k,J,pe);case L:return k=k.get(J.key===null?U:J.key)||null,j(x,k,J,pe);case R:var He=J._init;return J=He(J._payload),F(k,x,U,J,pe)}if(Ue(J)||M(J))return k=k.get(U)||null,W(x,k,J,pe,null);if(typeof J.then=="function")return F(k,x,U,fc(J),pe);if(J.$$typeof===se)return F(k,x,U,Ju(x,J),pe);dc(x,J)}return null}function De(k,x,U,J){for(var pe=null,He=null,Se=x,Ce=x=0,Yt=null;Se!==null&&Ce<U.length;Ce++){Se.index>Ce?(Yt=Se,Se=null):Yt=Se.sibling;var Ze=q(k,Se,U[Ce],J);if(Ze===null){Se===null&&(Se=Yt);break}t&&Se&&Ze.alternate===null&&i(k,Se),x=d(Ze,x,Ce),He===null?pe=Ze:He.sibling=Ze,He=Ze,Se=Yt}if(Ce===U.length)return a(k,Se),Je&&Xs(k,Ce),pe;if(Se===null){for(;Ce<U.length;Ce++)Se=ee(k,U[Ce],J),Se!==null&&(x=d(Se,x,Ce),He===null?pe=Se:He.sibling=Se,He=Se);return Je&&Xs(k,Ce),pe}for(Se=l(Se);Ce<U.length;Ce++)Yt=F(Se,k,Ce,U[Ce],J),Yt!==null&&(t&&Yt.alternate!==null&&Se.delete(Yt.key===null?Ce:Yt.key),x=d(Yt,x,Ce),He===null?pe=Yt:He.sibling=Yt,He=Yt);return t&&Se.forEach(function(rs){return i(k,rs)}),Je&&Xs(k,Ce),pe}function we(k,x,U,J){if(U==null)throw Error(s(151));for(var pe=null,He=null,Se=x,Ce=x=0,Yt=null,Ze=U.next();Se!==null&&!Ze.done;Ce++,Ze=U.next()){Se.index>Ce?(Yt=Se,Se=null):Yt=Se.sibling;var rs=q(k,Se,Ze.value,J);if(rs===null){Se===null&&(Se=Yt);break}t&&Se&&rs.alternate===null&&i(k,Se),x=d(rs,x,Ce),He===null?pe=rs:He.sibling=rs,He=rs,Se=Yt}if(Ze.done)return a(k,Se),Je&&Xs(k,Ce),pe;if(Se===null){for(;!Ze.done;Ce++,Ze=U.next())Ze=ee(k,Ze.value,J),Ze!==null&&(x=d(Ze,x,Ce),He===null?pe=Ze:He.sibling=Ze,He=Ze);return Je&&Xs(k,Ce),pe}for(Se=l(Se);!Ze.done;Ce++,Ze=U.next())Ze=F(Se,k,Ce,Ze.value,J),Ze!==null&&(t&&Ze.alternate!==null&&Se.delete(Ze.key===null?Ce:Ze.key),x=d(Ze,x,Ce),He===null?pe=Ze:He.sibling=Ze,He=Ze);return t&&Se.forEach(function(RS){return i(k,RS)}),Je&&Xs(k,Ce),pe}function lt(k,x,U,J){if(typeof U=="object"&&U!==null&&U.type===K&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case b:e:{for(var pe=U.key;x!==null;){if(x.key===pe){if(pe=U.type,pe===K){if(x.tag===7){a(k,x.sibling),J=h(x,U.props.children),J.return=k,k=J;break e}}else if(x.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&Ay(pe)===x.type){a(k,x.sibling),J=h(x,U.props),Tl(J,U),J.return=k,k=J;break e}a(k,x);break}else i(k,x);x=x.sibling}U.type===K?(J=Ks(U.props.children,k.mode,J,U.key),J.return=k,k=J):(J=Xu(U.type,U.key,U.props,null,k.mode,J),Tl(J,U),J.return=k,k=J)}return v(k);case L:e:{for(pe=U.key;x!==null;){if(x.key===pe)if(x.tag===4&&x.stateNode.containerInfo===U.containerInfo&&x.stateNode.implementation===U.implementation){a(k,x.sibling),J=h(x,U.children||[]),J.return=k,k=J;break e}else{a(k,x);break}else i(k,x);x=x.sibling}J=Tf(U,k.mode,J),J.return=k,k=J}return v(k);case R:return pe=U._init,U=pe(U._payload),lt(k,x,U,J)}if(Ue(U))return De(k,x,U,J);if(M(U)){if(pe=M(U),typeof pe!="function")throw Error(s(150));return U=pe.call(U),we(k,x,U,J)}if(typeof U.then=="function")return lt(k,x,fc(U),J);if(U.$$typeof===se)return lt(k,x,Ju(k,U),J);dc(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,x!==null&&x.tag===6?(a(k,x.sibling),J=h(x,U),J.return=k,k=J):(a(k,x),J=Ef(U,k.mode,J),J.return=k,k=J),v(k)):a(k,x)}return function(k,x,U,J){try{El=0;var pe=lt(k,x,U,J);return $a=null,pe}catch(Se){if(Se===hl||Se===tc)throw Se;var He=Vn(29,Se,null,k.mode);return He.lanes=J,He.return=k,He}finally{}}}var Za=Sy(!0),by=Sy(!1),Xn=ne(null),bi=null;function Hr(t){var i=t.alternate;fe(jt,jt.current&1),fe(Xn,t),bi===null&&(i===null||Qa.current!==null||i.memoizedState!==null)&&(bi=t)}function wy(t){if(t.tag===22){if(fe(jt,jt.current),fe(Xn,t),bi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(bi=t)}}else Fr()}function Fr(){fe(jt,jt.current),fe(Xn,Xn.current)}function rr(t){me(Xn),bi===t&&(bi=null),me(jt)}var jt=ne(0);function mc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Hd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ed(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var td={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=kn(),h=Br(l);h.payload=i,a!=null&&(h.callback=a),i=jr(t,h,l),i!==null&&(Ln(i,t,l),dl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=kn(),h=Br(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=jr(t,h,l),i!==null&&(Ln(i,t,l),dl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=kn(),l=Br(a);l.tag=2,i!=null&&(l.callback=i),i=jr(t,l,a),i!==null&&(Ln(i,t,a),dl(i,t,a))}};function Ry(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!il(a,l)||!il(h,d):!0}function Cy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&td.enqueueReplaceState(i,i.state,null)}function na(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var gc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Iy(t){gc(t)}function Dy(t){console.error(t)}function Ny(t){gc(t)}function pc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Oy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nd(t,i,a){return a=Br(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(t,i)},a}function Vy(t){return t=Br(t),t.tag=3,t}function My(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Oy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Oy(i,a,l),typeof h!="function"&&($r===null?$r=new Set([this]):$r.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function RA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ll(i,a,h,!0),a=Xn.current,a!==null){switch(a.tag){case 13:return bi===null?Rd():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Of?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Id(t,l,h)),!1;case 22:return a.flags|=65536,l===Of?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Id(t,l,h)),!1}throw Error(s(435,a.tag))}return Id(t,l,h),Rd(),!1}if(Je)return i=Xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==bf&&(t=Error(s(422),{cause:l}),ol(Gn(t,a)))):(l!==bf&&(i=Error(s(423),{cause:l}),ol(Gn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Gn(l,a),h=nd(t.stateNode,l,h),xf(t,h),St!==4&&(St=2)),!1;var d=Error(s(520),{cause:l});if(d=Gn(d,a),Il===null?Il=[d]:Il.push(d),St!==4&&(St=2),i===null)return!0;l=Gn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=nd(a.stateNode,l,t),xf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&($r===null||!$r.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Vy(h),My(h,t,a,l),xf(a,h),!1}a=a.return}while(a!==null);return!1}var xy=Error(s(461)),Qt=!1;function Wt(t,i,a,l){i.child=t===null?by(i,null,a,l):Za(i,t.child,a,l)}function Py(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Js(i),l=zf(t,i,a,v,d,h),T=Bf(),t!==null&&!Qt?(jf(t,i,h),sr(t,i,h)):(Je&&T&&Af(i),i.flags|=1,Wt(t,i,l,h),i.child)}function ky(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ly(t,i,d,l,h)):(t=Xu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!cd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(v,l)&&t.ref===i.ref)return sr(t,i,h)}return i.flags|=1,t=Wi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ly(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(il(d,l)&&t.ref===i.ref)if(Qt=!1,i.pendingProps=l=d,cd(t,h))(t.flags&131072)!==0&&(Qt=!0);else return i.lanes=t.lanes,sr(t,i,h)}return id(t,i,a,l,h)}function Uy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return zy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(i,d!==null?d.cachePool:null),d!==null?Lp(i,d):kf(),wy(i);else return i.lanes=i.childLanes=536870912,zy(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(ec(i,d.cachePool),Lp(i,d),Fr(),i.memoizedState=null):(t!==null&&ec(i,null),kf(),Fr());return Wt(t,i,h,a),i.child}function zy(t,i,a,l){var h=Nf();return h=h===null?null:{parent:Bt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&ec(i,null),kf(),wy(i),t!==null&&ll(t,i,l,!0),null}function yc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function id(t,i,a,l,h){return Js(i),a=zf(t,i,a,l,void 0,h),l=Bf(),t!==null&&!Qt?(jf(t,i,h),sr(t,i,h)):(Je&&l&&Af(i),i.flags|=1,Wt(t,i,a,h),i.child)}function By(t,i,a,l,h,d){return Js(i),i.updateQueue=null,a=zp(i,l,a,h),Up(t),l=Bf(),t!==null&&!Qt?(jf(t,i,d),sr(t,i,d)):(Je&&l&&Af(i),i.flags|=1,Wt(t,i,a,d),i.child)}function jy(t,i,a,l,h){if(Js(i),i.stateNode===null){var d=ja,v=a.contextType;typeof v=="object"&&v!==null&&(d=on(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=td,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Vf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?on(v):ja,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ed(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&td.enqueueReplaceState(d,d.state,null),gl(i,l,d,h),ml(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=na(a,T);d.props=I;var j=d.context,W=a.contextType;v=ja,typeof W=="object"&&W!==null&&(v=on(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==v)&&Cy(i,d,l,v),zr=!1;var q=i.memoizedState;d.state=q,gl(i,l,d,h),ml(),j=i.memoizedState,T||q!==j||zr?(typeof ee=="function"&&(ed(i,a,ee,l),j=i.memoizedState),(I=zr||Ry(i,a,I,l,q,j,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Mf(t,i),v=i.memoizedProps,W=na(a,v),d.props=W,ee=i.pendingProps,q=d.context,j=a.contextType,I=ja,typeof j=="object"&&j!==null&&(I=on(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||q!==I)&&Cy(i,d,l,I),zr=!1,q=i.memoizedState,d.state=q,gl(i,l,d,h),ml();var F=i.memoizedState;v!==ee||q!==F||zr||t!==null&&t.dependencies!==null&&Wu(t.dependencies)?(typeof T=="function"&&(ed(i,a,T,l),F=i.memoizedState),(W=zr||Ry(i,a,W,l,q,F,I)||t!==null&&t.dependencies!==null&&Wu(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=I,l=W):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,yc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Za(i,t.child,null,h),i.child=Za(i,null,a,h)):Wt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=sr(t,i,h),t}function qy(t,i,a,l){return al(),i.flags|=256,Wt(t,i,a,l),i.child}var rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sd(t){return{baseLanes:t,cachePool:Dp()}}function ad(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=$n),t}function Hy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(jt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Je){if(h?Hr(i):Fr(),Je){var T=At,I;if(I=T){e:{for(I=T,T=Si;I.nodeType!==8;){if(!T){T=null;break e}if(I=oi(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ys!==null?{id:Ji,overflow:er}:null,retryLane:536870912,hydrationErrors:null},I=Vn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,_n=i,At=null,I=!0):I=!1}I||Zs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Hd(T)?i.lanes=32:i.lanes=536870912,null;rr(i)}return T=l.children,l=l.fallback,h?(Fr(),h=i.mode,T=_c({mode:"hidden",children:T},h),l=Ks(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=sd(a),h.childLanes=ad(t,v,a),i.memoizedState=rd,l):(Hr(i),od(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(Hr(i),i.flags&=-257,i=ld(t,i,a)):i.memoizedState!==null?(Fr(),i.child=t.child,i.flags|=128,i=null):(Fr(),h=l.fallback,T=i.mode,l=_c({mode:"visible",children:l.children},T),h=Ks(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Za(i,t.child,null,a),l=i.child,l.memoizedState=sd(a),l.childLanes=ad(t,v,a),i.memoizedState=rd,i=h);else if(Hr(i),Hd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,ol({value:l,source:null,stack:null}),i=ld(t,i,a)}else if(Qt||ll(t,i,a,!1),v=(a&t.childLanes)!==0,Qt||v){if(v=ht,v!==null&&(l=a&-a,l=(l&42)!==0?1:Bo(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ba(t,l),Ln(v,t,l),xy;T.data==="$?"||Rd(),i=ld(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,At=oi(T.nextSibling),_n=i,Je=!0,$s=null,Si=!1,t!==null&&(Kn[Yn++]=Ji,Kn[Yn++]=er,Kn[Yn++]=Ys,Ji=t.id,er=t.overflow,Ys=i),i=od(i,l.children),i.flags|=4096);return i}return h?(Fr(),h=l.fallback,T=i.mode,I=t.child,j=I.sibling,l=Wi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,j!==null?h=Wi(j,h):(h=Ks(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=sd(a):(I=T.cachePool,I!==null?(j=Bt._currentValue,I=I.parent!==j?{parent:j,pool:j}:I):I=Dp(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=ad(t,v,a),i.memoizedState=rd,l):(Hr(i),a=t.child,t=a.sibling,a=Wi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function od(t,i){return i=_c({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _c(t,i){return t=Vn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ld(t,i,a){return Za(i,t.child,null,a),t=od(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Fy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Rf(t.return,i,a)}function ud(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Gy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Wt(t,i,l.children,a),l=jt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fy(t,a,i);else if(t.tag===19)Fy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(fe(jt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&mc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ud(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&mc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ud(i,!0,a,null,d);break;case"together":ud(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function sr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Xr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ll(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Wi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Wi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function cd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Wu(t)))}function CA(t,i,a){switch(i.tag){case 3:We(i,i.stateNode.containerInfo),Ur(i,Bt,t.memoizedState.cache),al();break;case 27:case 5:Bi(i);break;case 4:We(i,i.stateNode.containerInfo);break;case 10:Ur(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Hr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Hy(t,i,a):(Hr(i),t=sr(t,i,a),t!==null?t.sibling:null);Hr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ll(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Gy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),fe(jt,jt.current),l)break;return null;case 22:case 23:return i.lanes=0,Uy(t,i,a);case 24:Ur(i,Bt,t.memoizedState.cache)}return sr(t,i,a)}function Qy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Qt=!0;else{if(!cd(t,a)&&(i.flags&128)===0)return Qt=!1,CA(t,i,a);Qt=(t.flags&131072)!==0}else Qt=!1,Je&&(i.flags&1048576)!==0&&Ap(i,Zu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")vf(l)?(t=na(l,t),i.tag=1,i=jy(null,i,l,t,a)):(i.tag=0,i=id(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===Ee){i.tag=11,i=Py(null,i,l,t,a);break e}else if(h===O){i.tag=14,i=ky(null,i,l,t,a);break e}}throw i=Me(l)||l,Error(s(306,i,""))}}return i;case 0:return id(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=na(l,i.pendingProps),jy(t,i,l,h,a);case 3:e:{if(We(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Mf(t,i),gl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Ur(i,Bt,l),l!==d.cache&&Cf(i,[Bt],a,!0),ml(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=qy(t,i,l,a);break e}else if(l!==h){h=Gn(Error(s(424)),i),ol(h),i=qy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(At=oi(t.firstChild),_n=i,Je=!0,$s=null,Si=!0,a=by(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(al(),l===h){i=sr(t,i,a);break e}Wt(t,i,l,a)}i=i.child}return i;case 26:return yc(t,i),t===null?(a=$_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Je||(a=i.type,t=i.pendingProps,l=Vc(Re.current).createElement(a),l[Rt]=i,l[Zt]=t,en(l,a,t),Ct(l),i.stateNode=l):i.memoizedState=$_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Bi(i),t===null&&Je&&(l=i.stateNode=K_(i.type,i.pendingProps,Re.current),_n=i,Si=!0,h=At,Jr(i.type)?(Fd=h,At=oi(l.firstChild)):At=h),Wt(t,i,i.pendingProps.children,a),yc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Je&&((h=l=At)&&(l=tS(l,i.type,i.pendingProps,Si),l!==null?(i.stateNode=l,_n=i,At=oi(l.firstChild),Si=!1,h=!0):h=!1),h||Zs(i)),Bi(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Bd(h,d)?l=null:v!==null&&Bd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=zf(t,i,vA,null,null,a),Ll._currentValue=h),yc(t,i),Wt(t,i,l,a),i.child;case 6:return t===null&&Je&&((t=a=At)&&(a=nS(a,i.pendingProps,Si),a!==null?(i.stateNode=a,_n=i,At=null,t=!0):t=!1),t||Zs(i)),null;case 13:return Hy(t,i,a);case 4:return We(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Za(i,null,l,a):Wt(t,i,l,a),i.child;case 11:return Py(t,i,i.type,i.pendingProps,a);case 7:return Wt(t,i,i.pendingProps,a),i.child;case 8:return Wt(t,i,i.pendingProps.children,a),i.child;case 12:return Wt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ur(i,i.type,l.value),Wt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Js(i),h=on(h),l=l(h),i.flags|=1,Wt(t,i,l,a),i.child;case 14:return ky(t,i,i.type,i.pendingProps,a);case 15:return Ly(t,i,i.type,i.pendingProps,a);case 19:return Gy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=_c(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Wi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Uy(t,i,a);case 24:return Js(i),l=on(Bt),t===null?(h=Nf(),h===null&&(h=ht,d=If(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Vf(i),Ur(i,Bt,h)):((t.lanes&a)!==0&&(Mf(t,i),gl(i,null,null,a),ml()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ur(i,Bt,l)):(l=d.cache,Ur(i,Bt,l),l!==h.cache&&Cf(i,[Bt],a,!0))),Wt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ar(t){t.flags|=4}function Ky(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!tv(i)){if(i=Xn.current,i!==null&&((Xe&4194048)===Xe?bi!==null:(Xe&62914560)!==Xe&&(Xe&536870912)===0||i!==bi))throw fl=Of,Np;t.flags|=8192}}function vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?wr():536870912,t.lanes|=i,to|=i)}function Al(t,i){if(!Je)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function yt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function IA(t,i,a){var l=i.pendingProps;switch(Sf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(i),null;case 1:return yt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),nr(Bt),dn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(sl(i)?ar(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wp())),yt(i),null;case 26:return a=i.memoizedState,t===null?(ar(i),a!==null?(yt(i),Ky(i,a)):(yt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(ar(i),yt(i),Ky(i,a)):(yt(i),i.flags&=-16777217):(t.memoizedProps!==l&&ar(i),yt(i),i.flags&=-16777217),null;case 27:Sr(i),a=Re.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ar(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return yt(i),null}t=Te.current,sl(i)?Sp(i):(t=K_(h,l,a),i.stateNode=t,ar(i))}return yt(i),null;case 5:if(Sr(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ar(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return yt(i),null}if(t=Te.current,sl(i))Sp(i);else{switch(h=Vc(Re.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Rt]=i,t[Zt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(en(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ar(i)}}return yt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ar(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Re.current,sl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=_n,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Rt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||B_(t.nodeValue,a)),t||Zs(i)}else t=Vc(t).createTextNode(l),t[Rt]=i,i.stateNode=t}return yt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=sl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Rt]=i}else al(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;yt(i),h=!1}else h=wp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(rr(i),i):(rr(i),null)}if(rr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),vc(i,i.updateQueue),yt(i),null;case 4:return dn(),t===null&&Pd(i.stateNode.containerInfo),yt(i),null;case 10:return nr(i.type),yt(i),null;case 19:if(me(jt),h=i.memoizedState,h===null)return yt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Al(h,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=mc(t),d!==null){for(i.flags|=128,Al(h,!1),t=d.updateQueue,i.updateQueue=t,vc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Tp(a,t),a=a.sibling;return fe(jt,jt.current&1|2),i.child}t=t.sibling}h.tail!==null&&sn()>Ac&&(i.flags|=128,l=!0,Al(h,!1),i.lanes=4194304)}else{if(!l)if(t=mc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,vc(i,t),Al(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Je)return yt(i),null}else 2*sn()-h.renderingStartTime>Ac&&a!==536870912&&(i.flags|=128,l=!0,Al(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=sn(),i.sibling=null,t=jt.current,fe(jt,l?t&1|2:t&1),i):(yt(i),null);case 22:case 23:return rr(i),Lf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(yt(i),i.subtreeFlags&6&&(i.flags|=8192)):yt(i),a=i.updateQueue,a!==null&&vc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&me(ea),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),nr(Bt),yt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function DA(t,i){switch(Sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return nr(Bt),dn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Sr(i),null;case 13:if(rr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));al()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return me(jt),null;case 4:return dn(),null;case 10:return nr(i.type),null;case 22:case 23:return rr(i),Lf(),t!==null&&me(ea),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return nr(Bt),null;case 25:return null;default:return null}}function Yy(t,i){switch(Sf(i),i.tag){case 3:nr(Bt),dn();break;case 26:case 27:case 5:Sr(i);break;case 4:dn();break;case 13:rr(i);break;case 19:me(jt);break;case 10:nr(i.type);break;case 22:case 23:rr(i),Lf(),t!==null&&me(ea);break;case 24:nr(Bt)}}function Sl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){ut(i,i.return,T)}}function Gr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,j=T;try{j()}catch(W){ut(h,I,W)}}}l=l.next}while(l!==d)}}catch(W){ut(i,i.return,W)}}function Xy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{kp(i,a)}catch(l){ut(t,t.return,l)}}}function $y(t,i,a){a.props=na(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ut(t,i,l)}}function bl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ut(t,i,h)}}function wi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ut(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ut(t,i,h)}else a.current=null}function Zy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ut(t,t.return,h)}}function hd(t,i,a){try{var l=t.stateNode;$A(l,t.type,a,i),l[Zt]=i}catch(h){ut(t,t.return,h)}}function Wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Jr(t.type)||t.tag===4}function fd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Jr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Oc));else if(l!==4&&(l===27&&Jr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(dd(t,i,a),t=t.sibling;t!==null;)dd(t,i,a),t=t.sibling}function Ec(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Jr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ec(t,i,a),t=t.sibling;t!==null;)Ec(t,i,a),t=t.sibling}function Jy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);en(i,l,a),i[Rt]=t,i[Zt]=a}catch(d){ut(t,t.return,d)}}var or=!1,Nt=!1,md=!1,e_=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function NA(t,i){if(t=t.containerInfo,Ud=Uc,t=hp(t),ff(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,j=0,W=0,ee=t,q=null;t:for(;;){for(var F;ee!==a||h!==0&&ee.nodeType!==3||(T=v+h),ee!==d||l!==0&&ee.nodeType!==3||(I=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(F=ee.firstChild)!==null;)q=ee,ee=F;for(;;){if(ee===t)break t;if(q===a&&++j===h&&(T=v),q===d&&++W===l&&(I=v),(F=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=F}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(zd={focusedElem:t,selectionRange:a},Uc=!1,Kt=i;Kt!==null;)if(i=Kt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Kt=t;else for(;Kt!==null;){switch(i=Kt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var De=na(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(De,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){ut(a,a.return,we)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)qd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Kt=t;break}Kt=i.return}}function t_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Qr(t,a),l&4&&Sl(5,a);break;case 1:if(Qr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){ut(a,a.return,v)}else{var h=na(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ut(a,a.return,v)}}l&64&&Xy(a),l&512&&bl(a,a.return);break;case 3:if(Qr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{kp(t,i)}catch(v){ut(a,a.return,v)}}break;case 27:i===null&&l&4&&Jy(a);case 26:case 5:Qr(t,a),i===null&&l&4&&Zy(a),l&512&&bl(a,a.return);break;case 12:Qr(t,a);break;case 13:Qr(t,a),l&4&&r_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=zA.bind(null,a),iS(t,a))));break;case 22:if(l=a.memoizedState!==null||or,!l){i=i!==null&&i.memoizedState!==null||Nt,h=or;var d=Nt;or=l,(Nt=i)&&!d?Kr(t,a,(a.subtreeFlags&8772)!==0):Qr(t,a),or=h,Nt=d}break;case 30:break;default:Qr(t,a)}}function n_(t){var i=t.alternate;i!==null&&(t.alternate=null,n_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&wa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,Sn=!1;function lr(t,i,a){for(a=a.child;a!==null;)i_(t,i,a),a=a.sibling}function i_(t,i,a){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(ye,a)}catch{}switch(a.tag){case 26:Nt||wi(a,i),lr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||wi(a,i);var l=mt,h=Sn;Jr(a.type)&&(mt=a.stateNode,Sn=!1),lr(t,i,a),Ml(a.stateNode),mt=l,Sn=h;break;case 5:Nt||wi(a,i);case 6:if(l=mt,h=Sn,mt=null,lr(t,i,a),mt=l,Sn=h,mt!==null)if(Sn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(d){ut(a,i,d)}else try{mt.removeChild(a.stateNode)}catch(d){ut(a,i,d)}break;case 18:mt!==null&&(Sn?(t=mt,G_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),jl(t)):G_(mt,a.stateNode));break;case 4:l=mt,h=Sn,mt=a.stateNode.containerInfo,Sn=!0,lr(t,i,a),mt=l,Sn=h;break;case 0:case 11:case 14:case 15:Nt||Gr(2,a,i),Nt||Gr(4,a,i),lr(t,i,a);break;case 1:Nt||(wi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&$y(a,i,l)),lr(t,i,a);break;case 21:lr(t,i,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,lr(t,i,a),Nt=l;break;default:lr(t,i,a)}}function r_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(a){ut(i,i.return,a)}}function OA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new e_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new e_),i;default:throw Error(s(435,t.tag))}}function gd(t,i){var a=OA(t);i.forEach(function(l){var h=BA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Mn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Jr(T.type)){mt=T.stateNode,Sn=!1;break e}break;case 5:mt=T.stateNode,Sn=!1;break e;case 3:case 4:mt=T.stateNode.containerInfo,Sn=!0;break e}T=T.return}if(mt===null)throw Error(s(160));i_(d,v,h),mt=null,Sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)s_(i,t),i=i.sibling}var ai=null;function s_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(i,t),xn(t),l&4&&(Gr(3,t,t.return),Sl(3,t),Gr(5,t,t.return));break;case 1:Mn(i,t),xn(t),l&512&&(Nt||a===null||wi(a,a.return)),l&64&&or&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ai;if(Mn(i,t),xn(t),l&512&&(Nt||a===null||wi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ir]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),en(d,l,a),d[Rt]=t,Ct(d),l=d;break e;case"link":var v=J_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),en(d,l,a),h.head.appendChild(d);break;case"meta":if(v=J_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),en(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Rt]=t,Ct(d),l=d}t.stateNode=l}else ev(h,t.type,t.stateNode);else t.stateNode=W_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?ev(h,t.type,t.stateNode):W_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&hd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Mn(i,t),xn(t),l&512&&(Nt||a===null||wi(a,a.return)),a!==null&&l&4&&hd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Mn(i,t),xn(t),l&512&&(Nt||a===null||wi(a,a.return)),t.flags&32){h=t.stateNode;try{Hn(h,"")}catch(F){ut(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,hd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(md=!0);break;case 6:if(Mn(i,t),xn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){ut(t,t.return,F)}}break;case 3:if(Pc=null,h=ai,ai=Mc(i.containerInfo),Mn(i,t),ai=h,xn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(i.containerInfo)}catch(F){ut(t,t.return,F)}md&&(md=!1,a_(t));break;case 4:l=ai,ai=Mc(t.stateNode.containerInfo),Mn(i,t),xn(t),ai=l;break;case 12:Mn(i,t),xn(t);break;case 13:Mn(i,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Td=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,j=or,W=Nt;if(or=j||h,Nt=W||I,Mn(i,t),Nt=W,or=j,xn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||or||Nt||ia(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var ee=I.memoizedProps.style,q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(F){ut(I,I.return,F)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(F){ut(I,I.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gd(t,a))));break;case 19:Mn(i,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gd(t,l)));break;case 30:break;case 21:break;default:Mn(i,t),xn(t)}}function xn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Wy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=fd(t);Ec(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Hn(v,""),a.flags&=-33);var T=fd(t);Ec(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,j=fd(t);dd(t,j,I);break;default:throw Error(s(161))}}catch(W){ut(t,t.return,W)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function a_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;a_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Qr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)t_(t,i.alternate,i),i=i.sibling}function ia(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Gr(4,i,i.return),ia(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&$y(i,i.return,a),ia(i);break;case 27:Ml(i.stateNode);case 26:case 5:wi(i,i.return),ia(i);break;case 22:i.memoizedState===null&&ia(i);break;case 30:ia(i);break;default:ia(i)}t=t.sibling}}function Kr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Kr(h,d,a),Sl(4,d);break;case 1:if(Kr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ut(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Pp(I[h],T)}catch(j){ut(l,l.return,j)}}a&&v&64&&Xy(d),bl(d,d.return);break;case 27:Jy(d);case 26:case 5:Kr(h,d,a),a&&l===null&&v&4&&Zy(d),bl(d,d.return);break;case 12:Kr(h,d,a);break;case 13:Kr(h,d,a),a&&v&4&&r_(h,d);break;case 22:d.memoizedState===null&&Kr(h,d,a),bl(d,d.return);break;case 30:break;default:Kr(h,d,a)}i=i.sibling}}function pd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function yd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t))}function Ri(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)o_(t,i,a,l),i=i.sibling}function o_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ri(t,i,a,l),h&2048&&Sl(9,i);break;case 1:Ri(t,i,a,l);break;case 3:Ri(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t)));break;case 12:if(h&2048){Ri(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){ut(i,i.return,I)}}else Ri(t,i,a,l);break;case 13:Ri(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Ri(t,i,a,l):wl(t,i):d._visibility&2?Ri(t,i,a,l):(d._visibility|=2,Wa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&pd(v,i);break;case 24:Ri(t,i,a,l),h&2048&&yd(i.alternate,i);break;default:Ri(t,i,a,l)}}function Wa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,I=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:Wa(d,v,T,I,h),Sl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?Wa(d,v,T,I,h):wl(d,v):(W._visibility|=2,Wa(d,v,T,I,h)),h&&j&2048&&pd(v.alternate,v);break;case 24:Wa(d,v,T,I,h),h&&j&2048&&yd(v.alternate,v);break;default:Wa(d,v,T,I,h)}i=i.sibling}}function wl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:wl(a,l),h&2048&&pd(l.alternate,l);break;case 24:wl(a,l),h&2048&&yd(l.alternate,l);break;default:wl(a,l)}i=i.sibling}}var Rl=8192;function Ja(t){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)l_(t),t=t.sibling}function l_(t){switch(t.tag){case 26:Ja(t),t.flags&Rl&&t.memoizedState!==null&&pS(ai,t.memoizedState,t.memoizedProps);break;case 5:Ja(t);break;case 3:case 4:var i=ai;ai=Mc(t.stateNode.containerInfo),Ja(t),ai=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Rl,Rl=16777216,Ja(t),Rl=i):Ja(t));break;default:Ja(t)}}function u_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Cl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Kt=l,h_(l,t)}u_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)c_(t),t=t.sibling}function c_(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&Gr(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Tc(t)):Cl(t);break;default:Cl(t)}}function Tc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Kt=l,h_(l,t)}u_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Gr(8,i,i.return),Tc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(i));break;default:Tc(i)}t=t.sibling}}function h_(t,i){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:Gr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Kt=l;else e:for(a=t;Kt!==null;){l=Kt;var h=l.sibling,d=l.return;if(n_(l),l===a){Kt=null;break e}if(h!==null){h.return=d,Kt=h;break e}Kt=d}}}var VA={getCacheForType:function(t){var i=on(Bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},MA=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,Fe=null,Xe=0,it=0,Pn=null,Yr=!1,eo=!1,_d=!1,ur=0,St=0,Xr=0,ra=0,vd=0,$n=0,to=0,Il=null,bn=null,Ed=!1,Td=0,Ac=1/0,Sc=null,$r=null,Jt=0,Zr=null,no=null,io=0,Ad=0,Sd=null,f_=null,Dl=0,bd=null;function kn(){if((nt&2)!==0&&Xe!==0)return Xe&-Xe;if(Q.T!==null){var t=Fa;return t!==0?t:Od()}return Gi()}function d_(){$n===0&&($n=(Xe&536870912)===0||Je?zo():536870912);var t=Xn.current;return t!==null&&(t.flags|=32),$n}function Ln(t,i,a){(t===ht&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(ro(t,0),Wr(t,Xe,$n,!1)),wt(t,a),((nt&2)===0||t!==ht)&&(t===ht&&((nt&2)===0&&(ra|=a),St===4&&Wr(t,Xe,$n,!1)),Ci(t))}function m_(t,i,a){if((nt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||mi(t,i),h=l?kA(t,i):Cd(t,i,!0),d=l;do{if(h===0){eo&&!l&&Wr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!xA(a)){h=Cd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=Il;var I=T.current.memoizedState.isDehydrated;if(I&&(ro(T,v).flags|=256),v=Cd(T,v,!1),v!==2){if(_d&&!I){T.errorRecoveryDisabledLanes|=d,ra|=d,h=4;break e}d=bn,bn=h,d!==null&&(bn===null?bn=d:bn.push.apply(bn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ro(t,0),Wr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Wr(l,i,$n,!Yr);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Td+300-sn(),10<h)){if(Wr(l,i,$n,!Yr),mn(l,0,!0)!==0)break e;l.timeoutHandle=H_(g_.bind(null,l,a,bn,Sc,Ed,i,$n,ra,to,Yr,d,2,-0,0),h);break e}g_(l,a,bn,Sc,Ed,i,$n,ra,to,Yr,d,0,-0,0)}}break}while(!0);Ci(t)}function g_(t,i,a,l,h,d,v,T,I,j,W,ee,q,F){if(t.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(kl={stylesheets:null,count:0,unsuspend:gS},l_(i),ee=yS(),ee!==null)){t.cancelPendingCommit=ee(A_.bind(null,t,i,d,a,l,h,v,T,I,W,1,q,F)),Wr(t,d,v,!j);return}A_(t,i,d,a,l,h,v,T,I)}function xA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!On(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Wr(t,i,a,l){i&=~vd,i&=~ra,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-rt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Rr(t,a,i)}function bc(){return(nt&6)===0?(Nl(0),!1):!0}function wd(){if(Fe!==null){if(it===0)var t=Fe.return;else t=Fe,tr=Ws=null,qf(t),$a=null,El=0,t=Fe;for(;t!==null;)Yy(t.alternate,t),t=t.return;Fe=null}}function ro(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,WA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),wd(),ht=t,Fe=a=Wi(t.current,null),Xe=i,it=0,Pn=null,Yr=!1,eo=mi(t,i),_d=!1,to=$n=vd=ra=Xr=St=0,bn=Il=null,Ed=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-rt(l),d=1<<h;i|=t[h],l&=~d}return ur=i,Qu(),a}function p_(t,i){qe=null,Q.H=hc,i===hl||i===tc?(i=Mp(),it=3):i===Np?(i=Mp(),it=4):it=i===xy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Pn=i,Fe===null&&(St=1,pc(t,Gn(i,t.current)))}function y_(){var t=Q.H;return Q.H=hc,t===null?hc:t}function __(){var t=Q.A;return Q.A=VA,t}function Rd(){St=4,Yr||(Xe&4194048)!==Xe&&Xn.current!==null||(eo=!0),(Xr&134217727)===0&&(ra&134217727)===0||ht===null||Wr(ht,Xe,$n,!1)}function Cd(t,i,a){var l=nt;nt|=2;var h=y_(),d=__();(ht!==t||Xe!==i)&&(Sc=null,ro(t,i)),i=!1;var v=St;e:do try{if(it!==0&&Fe!==null){var T=Fe,I=Pn;switch(it){case 8:wd(),v=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(i=!0);var j=it;if(it=0,Pn=null,so(t,T,I,j),a&&eo){v=0;break e}break;default:j=it,it=0,Pn=null,so(t,T,I,j)}}PA(),v=St;break}catch(W){p_(t,W)}while(!0);return i&&t.shellSuspendCounter++,tr=Ws=null,nt=l,Q.H=h,Q.A=d,Fe===null&&(ht=null,Xe=0,Qu()),v}function PA(){for(;Fe!==null;)v_(Fe)}function kA(t,i){var a=nt;nt|=2;var l=y_(),h=__();ht!==t||Xe!==i?(Sc=null,Ac=sn()+500,ro(t,i)):eo=mi(t,i);e:do try{if(it!==0&&Fe!==null){i=Fe;var d=Pn;t:switch(it){case 1:it=0,Pn=null,so(t,i,d,1);break;case 2:case 9:if(Op(d)){it=0,Pn=null,E_(i);break}i=function(){it!==2&&it!==9||ht!==t||(it=7),Ci(t)},d.then(i,i);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Op(d)?(it=0,Pn=null,E_(i)):(it=0,Pn=null,so(t,i,d,7));break;case 5:var v=null;switch(Fe.tag){case 26:v=Fe.memoizedState;case 5:case 27:var T=Fe;if(!v||tv(v)){it=0,Pn=null;var I=T.sibling;if(I!==null)Fe=I;else{var j=T.return;j!==null?(Fe=j,wc(j)):Fe=null}break t}}it=0,Pn=null,so(t,i,d,5);break;case 6:it=0,Pn=null,so(t,i,d,6);break;case 8:wd(),St=6;break e;default:throw Error(s(462))}}LA();break}catch(W){p_(t,W)}while(!0);return tr=Ws=null,Q.H=l,Q.A=h,nt=a,Fe!==null?0:(ht=null,Xe=0,Qu(),St)}function LA(){for(;Fe!==null&&!Aa();)v_(Fe)}function v_(t){var i=Qy(t.alternate,t,ur);t.memoizedProps=t.pendingProps,i===null?wc(t):Fe=i}function E_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=By(a,i,i.pendingProps,i.type,void 0,Xe);break;case 11:i=By(a,i,i.pendingProps,i.type.render,i.ref,Xe);break;case 5:qf(i);default:Yy(a,i),i=Fe=Tp(i,ur),i=Qy(a,i,ur)}t.memoizedProps=t.pendingProps,i===null?wc(t):Fe=i}function so(t,i,a,l){tr=Ws=null,qf(i),$a=null,El=0;var h=i.return;try{if(RA(t,h,i,a,Xe)){St=1,pc(t,Gn(a,t.current)),Fe=null;return}}catch(d){if(h!==null)throw Fe=h,d;St=1,pc(t,Gn(a,t.current)),Fe=null;return}i.flags&32768?(Je||l===1?t=!0:eo||(Xe&536870912)!==0?t=!1:(Yr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),T_(i,t)):wc(i)}function wc(t){var i=t;do{if((i.flags&32768)!==0){T_(i,Yr);return}t=i.return;var a=IA(i.alternate,i,ur);if(a!==null){Fe=a;return}if(i=i.sibling,i!==null){Fe=i;return}Fe=i=t}while(i!==null);St===0&&(St=5)}function T_(t,i){do{var a=DA(t.alternate,t);if(a!==null){a.flags&=32767,Fe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=a}while(t!==null);St=6,Fe=null}function A_(t,i,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do Rc();while(Jt!==0);if((nt&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=yf,Du(t,a,d,v,T,I),t===ht&&(Fe=ht=null,Xe=0),no=i,Zr=t,io=a,Ad=d,Sd=h,f_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jA(B,function(){return C_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=le.p,le.p=2,v=nt,nt|=4;try{NA(t,i,a)}finally{nt=v,le.p=h,Q.T=l}}Jt=1,S_(),b_(),w_()}}function S_(){if(Jt===1){Jt=0;var t=Zr,i=no,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var h=nt;nt|=4;try{s_(i,t);var d=zd,v=hp(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&cp(T.ownerDocument.documentElement,T)){if(I!==null&&ff(T)){var j=I.start,W=I.end;if(W===void 0&&(W=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(W,T.value.length);else{var ee=T.ownerDocument||document,q=ee&&ee.defaultView||window;if(q.getSelection){var F=q.getSelection(),De=T.textContent.length,we=Math.min(I.start,De),lt=I.end===void 0?we:Math.min(I.end,De);!F.extend&&we>lt&&(v=lt,lt=we,we=v);var k=up(T,we),x=up(T,lt);if(k&&x&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==x.node||F.focusOffset!==x.offset)){var U=ee.createRange();U.setStart(k.node,k.offset),F.removeAllRanges(),we>lt?(F.addRange(U),F.extend(x.node,x.offset)):(U.setEnd(x.node,x.offset),F.addRange(U))}}}}for(ee=[],F=T;F=F.parentNode;)F.nodeType===1&&ee.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var J=ee[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Uc=!!Ud,zd=Ud=null}finally{nt=h,le.p=l,Q.T=a}}t.current=i,Jt=2}}function b_(){if(Jt===2){Jt=0;var t=Zr,i=no,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var h=nt;nt|=4;try{t_(t,i.alternate,i)}finally{nt=h,le.p=l,Q.T=a}}Jt=3}}function w_(){if(Jt===4||Jt===3){Jt=0,bs();var t=Zr,i=no,a=io,l=f_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Jt=5:(Jt=0,no=Zr=null,R_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&($r=null),jo(a),i=i.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(ye,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=le.p,le.p=2,Q.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Q.T=i,le.p=h}}(io&3)!==0&&Rc(),Ci(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===bd?Dl++:(Dl=0,bd=t):Dl=0,Nl(0)}}function R_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ul(i)))}function Rc(t){return S_(),b_(),w_(),C_()}function C_(){if(Jt!==5)return!1;var t=Zr,i=Ad;Ad=0;var a=jo(io),l=Q.T,h=le.p;try{le.p=32>a?32:a,Q.T=null,a=Sd,Sd=null;var d=Zr,v=io;if(Jt=0,no=Zr=null,io=0,(nt&6)!==0)throw Error(s(331));var T=nt;if(nt|=4,c_(d.current),o_(d,d.current,v,a),nt=T,Nl(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(ye,d)}catch{}return!0}finally{le.p=h,Q.T=l,R_(t,i)}}function I_(t,i,a){i=Gn(a,i),i=nd(t.stateNode,i,2),t=jr(t,i,2),t!==null&&(wt(t,2),Ci(t))}function ut(t,i,a){if(t.tag===3)I_(t,t,a);else for(;i!==null;){if(i.tag===3){I_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($r===null||!$r.has(l))){t=Gn(a,t),a=Vy(2),l=jr(i,a,2),l!==null&&(My(a,l,i,t),wt(l,2),Ci(l));break}}i=i.return}}function Id(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new MA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(_d=!0,h.add(a),t=UA.bind(null,t,i,a),i.then(t,t))}function UA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(Xe&a)===a&&(St===4||St===3&&(Xe&62914560)===Xe&&300>sn()-Td?(nt&2)===0&&ro(t,0):vd|=a,to===Xe&&(to=0)),Ci(t)}function D_(t,i){i===0&&(i=wr()),t=Ba(t,i),t!==null&&(wt(t,i),Ci(t))}function zA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),D_(t,a)}function BA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),D_(t,a)}function jA(t,i){return qi(t,i)}var Cc=null,ao=null,Dd=!1,Ic=!1,Nd=!1,sa=0;function Ci(t){t!==ao&&t.next===null&&(ao===null?Cc=ao=t:ao=ao.next=t),Ic=!0,Dd||(Dd=!0,HA())}function Nl(t,i){if(!Nd&&Ic){Nd=!0;do for(var a=!1,l=Cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-rt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,M_(l,d))}else d=Xe,d=mn(l,l===ht?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||mi(l,d)||(a=!0,M_(l,d));l=l.next}while(a);Nd=!1}}function qA(){N_()}function N_(){Ic=Dd=!1;var t=0;sa!==0&&(ZA()&&(t=sa),sa=0);for(var i=sn(),a=null,l=Cc;l!==null;){var h=l.next,d=O_(l,i);d===0?(l.next=null,a===null?Cc=h:a.next=h,h===null&&(ao=a)):(a=l,(t!==0||(d&3)!==0)&&(Ic=!0)),l=h}Nl(t)}function O_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-rt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Fi(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=ht,a=Xe,a=mn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(it===2||it===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Hi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||mi(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Hi(l),jo(a)){case 2:case 8:a=D;break;case 32:a=B;break;case 268435456:a=de;break;default:a=B}return l=V_.bind(null,t),a=qi(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Hi(l),t.callbackPriority=2,t.callbackNode=null,2}function V_(t,i){if(Jt!==0&&Jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Rc()&&t.callbackNode!==a)return null;var l=Xe;return l=mn(t,t===ht?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(m_(t,l,i),O_(t,sn()),t.callbackNode!=null&&t.callbackNode===a?V_.bind(null,t):null)}function M_(t,i){if(Rc())return null;m_(t,i,!0)}function HA(){JA(function(){(nt&6)!==0?qi(Tt,qA):N_()})}function Od(){return sa===0&&(sa=zo()),sa}function x_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ti(""+t)}function P_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function FA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=x_((h[Zt]||null).action),v=l.submitter;v&&(i=(i=v[Zt]||null)?x_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new Us("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sa!==0){var I=v?P_(h,v):new FormData(h);Zf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?P_(h,v):new FormData(h),Zf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Vd=0;Vd<pf.length;Vd++){var Md=pf[Vd],GA=Md.toLowerCase(),QA=Md[0].toUpperCase()+Md.slice(1);si(GA,"on"+QA)}si(mp,"onAnimationEnd"),si(gp,"onAnimationIteration"),si(pp,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(uA,"onTransitionRun"),si(cA,"onTransitionStart"),si(hA,"onTransitionCancel"),si(yp,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function k_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,j=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(W){gc(W)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,j=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=j;try{d(h)}catch(W){gc(W)}h.currentTarget=null,d=I}}}}function Ge(t,i){var a=i[ws];a===void 0&&(a=i[ws]=new Set);var l=t+"__bubble";a.has(l)||(L_(i,t,2,!1),a.add(l))}function xd(t,i,a){var l=0;i&&(l|=4),L_(a,t,l,i)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Pd(t){if(!t[Dc]){t[Dc]=!0,Nu.forEach(function(a){a!=="selectionchange"&&(KA.has(a)||xd(a,!1,t),xd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Dc]||(i[Dc]=!0,xd("selectionchange",!1,i))}}function L_(t,i,a,l){switch(ov(i)){case 2:var h=ES;break;case 8:h=TS;break;default:h=Xd}a=h.bind(null,i,a,t),h=void 0,!$i||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function kd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=pi(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Ps(function(){var j=d,W=Yo(a),ee=[];e:{var q=_p.get(t);if(q!==void 0){var F=Us,De=t;switch(t){case"keypress":if(ks(a)===0)break e;case"keydown":case"keyup":F=ka;break;case"focusin":De="focus",F=Ma;break;case"focusout":De="blur",F=Ma;break;case"beforeblur":case"afterblur":F=Ma;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Hs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Lr;break;case mp:case gp:case pp:F=$o;break;case yp:F=g;break;case"scroll":case"scrollend":F=Bs;break;case"wheel":F=A;break;case"copy":case"cut":case"paste":F=zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Jo;break;case"toggle":case"beforetoggle":F=G}var we=(i&4)!==0,lt=!we&&(t==="scroll"||t==="scrollend"),k=we?q!==null?q+"Capture":null:q;we=[];for(var x=j,U;x!==null;){var J=x;if(U=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||U===null||k===null||(J=Pr(x,k),J!=null&&we.push(Vl(x,J,U))),lt)break;x=x.return}0<we.length&&(q=new F(q,De,null,a,W),ee.push({event:q,listeners:we}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==Ko&&(De=a.relatedTarget||a.fromElement)&&(pi(De)||De[Qi]))break e;if((F||q)&&(q=W.window===W?W:(q=W.ownerDocument)?q.defaultView||q.parentWindow:window,F?(De=a.relatedTarget||a.toElement,F=j,De=De?pi(De):null,De!==null&&(lt=u(De),we=De.tag,De!==lt||we!==5&&we!==27&&we!==6)&&(De=null)):(F=null,De=j),F!==De)){if(we=Hs,J="onMouseLeave",k="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(we=Jo,J="onPointerLeave",k="onPointerEnter",x="pointer"),lt=F==null?q:Dr(F),U=De==null?q:Dr(De),q=new we(J,x+"leave",F,a,W),q.target=lt,q.relatedTarget=U,J=null,pi(W)===j&&(we=new we(k,x+"enter",De,a,W),we.target=U,we.relatedTarget=lt,J=we),lt=J,F&&De)t:{for(we=F,k=De,x=0,U=we;U;U=oo(U))x++;for(U=0,J=k;J;J=oo(J))U++;for(;0<x-U;)we=oo(we),x--;for(;0<U-x;)k=oo(k),U--;for(;x--;){if(we===k||k!==null&&we===k.alternate)break t;we=oo(we),k=oo(k)}we=null}else we=null;F!==null&&U_(ee,q,F,we,!1),De!==null&&lt!==null&&U_(ee,lt,De,we,!0)}}e:{if(q=j?Dr(j):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var pe=ip;else if(tp(q))if(rp)pe=aA;else{pe=rA;var He=iA}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&Na(j.elementType)&&(pe=ip):pe=sA;if(pe&&(pe=pe(t,j))){np(ee,pe,a,W);break e}He&&He(t,q,j),t==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&Fo(q,"number",q.value)}switch(He=j?Dr(j):window,t){case"focusin":(tp(He)||He.contentEditable==="true")&&(La=He,df=j,rl=null);break;case"focusout":rl=df=La=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,fp(ee,a,W);break;case"selectionchange":if(lA)break;case"keydown":case"keyup":fp(ee,a,W)}var Se;if(xe)e:{switch(t){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else ri?ni(t,a)&&(Ce="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(It&&a.locale!=="ko"&&(ri||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&ri&&(Se=ku()):(Fn=W,ct="value"in Fn?Fn.value:Fn.textContent,ri=!0)),He=Nc(j,Ce),0<He.length&&(Ce=new Wo(Ce,t,null,a,W),ee.push({event:Ce,listeners:He}),Se?Ce.data=Se:(Se=ii(a),Se!==null&&(Ce.data=Se)))),(Se=tt?el(t,a):eA(t,a))&&(Ce=Nc(j,"onBeforeInput"),0<Ce.length&&(He=new Wo("onBeforeInput","beforeinput",null,a,W),ee.push({event:He,listeners:Ce}),He.data=Se)),FA(ee,t,j,a,W)}k_(ee,i)})}function Vl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Nc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Pr(t,a),h!=null&&l.unshift(Vl(t,h,d)),h=Pr(t,i),h!=null&&l.push(Vl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function U_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,j=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||j===null||(I=j,h?(j=Pr(a,d),j!=null&&v.unshift(Vl(a,j,I))):h||(j=Pr(a,d),j!=null&&v.push(Vl(a,j,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var YA=/\r\n?/g,XA=/\u0000|\uFFFD/g;function z_(t){return(typeof t=="string"?t:""+t).replace(YA,`
`).replace(XA,"")}function B_(t,i){return i=z_(i),z_(t)===i}function Oc(){}function ot(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Hn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Hn(t,""+l);break;case"className":Ns(t,"class",l);break;case"tabIndex":Ns(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ns(t,a,l);break;case"style":Qo(t,l,d);break;case"data":if(i!=="object"){Ns(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ti(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ot(t,i,"name",h.name,h,null),ot(t,i,"formEncType",h.formEncType,h,null),ot(t,i,"formMethod",h.formMethod,h,null),ot(t,i,"formTarget",h.formTarget,h,null)):(ot(t,i,"encType",h.encType,h,null),ot(t,i,"method",h.method,h,null),ot(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ti(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Oc);break;case"onScroll":l!=null&&Ge("scroll",t);break;case"onScrollEnd":l!=null&&Ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ti(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ge("beforetoggle",t),Ge("toggle",t),Ds(t,"popover",l);break;case"xlinkActuate":qn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ds(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mu.get(a)||a,Ds(t,a,l))}}function Ld(t,i,a,l,h,d){switch(a){case"style":Qo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Hn(t,l):(typeof l=="number"||typeof l=="bigint")&&Hn(t,""+l);break;case"onScroll":l!=null&&Ge("scroll",t);break;case"onScrollEnd":l!=null&&Ge("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Oc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Zt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ds(t,a,l)}}}function en(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",t),Ge("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ot(t,i,d,v,a,null)}}h&&ot(t,i,"srcSet",a.srcSet,a,null),l&&ot(t,i,"src",a.src,a,null);return;case"input":Ge("invalid",t);var T=d=v=h=null,I=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":I=W;break;case"defaultChecked":j=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:ot(t,i,l,W,a,null)}}Ho(t,d,T,I,j,v,h,!1),Vr(t);return;case"select":Ge("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:ot(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Mr(t,!!l,i,!1):a!=null&&Mr(t,!!l,a,!0);return;case"textarea":Ge("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ot(t,i,v,T,a,null)}Vu(t,l,h,d),Vr(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ot(t,i,I,l,a,null)}return;case"dialog":Ge("beforetoggle",t),Ge("toggle",t),Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":Ge("load",t);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Ge(Ol[l],t);break;case"image":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"embed":case"source":case"link":Ge("error",t),Ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ot(t,i,j,l,a,null)}return;default:if(Na(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Ld(t,i,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ot(t,i,T,l,a,null))}function $A(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,j=null,W=null;for(F in a){var ee=a[F];if(a.hasOwnProperty(F)&&ee!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(F)||ot(t,i,F,null,l,ee)}}for(var q in l){var F=l[q];if(ee=a[q],l.hasOwnProperty(q)&&(F!=null||ee!=null))switch(q){case"type":d=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":W=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==ee&&ot(t,i,q,F,l,ee)}}qo(t,v,T,I,j,W,d,h);return;case"select":F=v=T=q=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(d)||ot(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&ot(t,i,h,d,l,I)}i=T,a=v,l=F,q!=null?Mr(t,!!a,q,!1):!!l!=!!a&&(i!=null?Mr(t,!!a,i,!0):Mr(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ot(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ot(t,i,v,h,l,d)}Ou(t,q,F);return;case"option":for(var De in a)if(q=a[De],a.hasOwnProperty(De)&&q!=null&&!l.hasOwnProperty(De))switch(De){case"selected":t.selected=!1;break;default:ot(t,i,De,null,l,q)}for(I in l)if(q=l[I],F=a[I],l.hasOwnProperty(I)&&q!==F&&(q!=null||F!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ot(t,i,I,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)q=a[we],a.hasOwnProperty(we)&&q!=null&&!l.hasOwnProperty(we)&&ot(t,i,we,null,l,q);for(j in l)if(q=l[j],F=a[j],l.hasOwnProperty(j)&&q!==F&&(q!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:ot(t,i,j,q,l,F)}return;default:if(Na(i)){for(var lt in a)q=a[lt],a.hasOwnProperty(lt)&&q!==void 0&&!l.hasOwnProperty(lt)&&Ld(t,i,lt,void 0,l,q);for(W in l)q=l[W],F=a[W],!l.hasOwnProperty(W)||q===F||q===void 0&&F===void 0||Ld(t,i,W,q,l,F);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&ot(t,i,k,null,l,q);for(ee in l)q=l[ee],F=a[ee],!l.hasOwnProperty(ee)||q===F||q==null&&F==null||ot(t,i,ee,q,l,F)}var Ud=null,zd=null;function Vc(t){return t.nodeType===9?t:t.ownerDocument}function j_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Bd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jd=null;function ZA(){var t=window.event;return t&&t.type==="popstate"?t===jd?!1:(jd=t,!0):(jd=null,!1)}var H_=typeof setTimeout=="function"?setTimeout:void 0,WA=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,JA=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(t){return F_.resolve(null).then(t).catch(eS)}:H_;function eS(t){setTimeout(function(){throw t})}function Jr(t){return t==="head"}function G_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Ml(v.documentElement),a&2&&Ml(v.body),a&4)for(a=v.head,Ml(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[Ir]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),jl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);jl(i)}function qd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qd(a),wa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function tS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ir])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=oi(t.nextSibling),t===null)break}return null}function nS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=oi(t.nextSibling),t===null))return null;return t}function Hd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function iS(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function oi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Fd=null;function Q_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function K_(t,i,a){switch(i=Vc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);wa(t)}var Zn=new Map,Y_=new Set;function Mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cr=le.d;le.d={f:rS,r:sS,D:aS,C:oS,L:lS,m:uS,X:hS,S:cS,M:fS};function rS(){var t=cr.f(),i=bc();return t||i}function sS(t){var i=yi(t);i!==null&&i.tag===5&&i.type==="form"?my(i):cr.r(t)}var lo=typeof document>"u"?null:document;function X_(t,i,a){var l=lo;if(l&&typeof i=="string"&&i){var h=Gt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Y_.has(h)||(Y_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),en(i,"link",t),Ct(i),l.head.appendChild(i)))}}function aS(t){cr.D(t),X_("dns-prefetch",t,null)}function oS(t,i){cr.C(t,i),X_("preconnect",t,i)}function lS(t,i,a){cr.L(t,i,a);var l=lo;if(l&&t&&i){var h='link[rel="preload"][as="'+Gt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Gt(a.imageSizes)+'"]')):h+='[href="'+Gt(t)+'"]';var d=h;switch(i){case"style":d=uo(t);break;case"script":d=co(t)}Zn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Zn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(xl(d))||i==="script"&&l.querySelector(Pl(d))||(i=l.createElement("link"),en(i,"link",t),Ct(i),l.head.appendChild(i)))}}function uS(t,i){cr.m(t,i);var a=lo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Gt(l)+'"][href="'+Gt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=co(t)}if(!Zn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Zn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(d)))return}l=a.createElement("link"),en(l,"link",t),Ct(l),a.head.appendChild(l)}}}function cS(t,i,a){cr.S(t,i,a);var l=lo;if(l&&t){var h=Nr(l).hoistableStyles,d=uo(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(xl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Zn.get(d))&&Gd(t,a);var I=v=l.createElement("link");Ct(I),en(I,"link",t),I._p=new Promise(function(j,W){I.onload=j,I.onerror=W}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,xc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function hS(t,i){cr.X(t,i);var a=lo;if(a&&t){var l=Nr(a).hoistableScripts,h=co(t),d=l.get(h);d||(d=a.querySelector(Pl(h)),d||(t=E({src:t,async:!0},i),(i=Zn.get(h))&&Qd(t,i),d=a.createElement("script"),Ct(d),en(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function fS(t,i){cr.M(t,i);var a=lo;if(a&&t){var l=Nr(a).hoistableScripts,h=co(t),d=l.get(h);d||(d=a.querySelector(Pl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Zn.get(h))&&Qd(t,i),d=a.createElement("script"),Ct(d),en(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function $_(t,i,a,l){var h=(h=Re.current)?Mc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=uo(a.href),a=Nr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=uo(a.href);var d=Nr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(xl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(t,a),d||dS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=co(a),a=Nr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function uo(t){return'href="'+Gt(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function Z_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function dS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),en(i,"link",a),Ct(i),t.head.appendChild(i))}function co(t){return'[src="'+Gt(t)+'"]'}function Pl(t){return"script[async]"+t}function W_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Gt(a.href)+'"]');if(l)return i.instance=l,Ct(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ct(l),en(l,"style",h),xc(l,a.precedence,t),i.instance=l;case"stylesheet":h=uo(a.href);var d=t.querySelector(xl(h));if(d)return i.state.loading|=4,i.instance=d,Ct(d),d;l=Z_(a),(h=Zn.get(h))&&Gd(l,h),d=(t.ownerDocument||t).createElement("link"),Ct(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),en(d,"link",l),i.state.loading|=4,xc(d,a.precedence,t),i.instance=d;case"script":return d=co(a.src),(h=t.querySelector(Pl(d)))?(i.instance=h,Ct(h),h):(l=a,(h=Zn.get(d))&&(l=E({},a),Qd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ct(h),en(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,xc(l,a.precedence,t));return i.instance}function xc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Gd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Pc=null;function J_(t,i,a){if(Pc===null){var l=new Map,h=Pc=new Map;h.set(a,l)}else h=Pc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ir]||d[Rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function ev(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function mS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function tv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var kl=null;function gS(){}function pS(t,i,a){if(kl===null)throw Error(s(475));var l=kl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=uo(a.href),d=t.querySelector(xl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=kc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,Ct(d);return}d=t.ownerDocument||t,a=Z_(a),(h=Zn.get(h))&&Gd(a,h),d=d.createElement("link"),Ct(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),en(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=kc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function yS(){if(kl===null)throw Error(s(475));var t=kl;return t.stylesheets&&t.count===0&&Kd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Kd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function kc(){if(this.count--,this.count===0){if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lc=null;function Kd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lc=new Map,i.forEach(_S,t),Lc=null,kc.call(t))}function _S(t,i){if(!(i.state.loading&4)){var a=Lc.get(t);if(a)var l=a.get(null);else{a=new Map,Lc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ll={$$typeof:se,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function vS(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ba(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.hiddenUpdates=ba(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function nv(t,i,a,l,h,d,v,T,I,j,W,ee){return t=new vS(t,i,a,v,T,I,j,ee),i=1,d===!0&&(i|=24),d=Vn(3,null,null,i),t.current=d,d.stateNode=t,i=If(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Vf(d),t}function iv(t){return t?(t=ja,t):ja}function rv(t,i,a,l,h,d){h=iv(h),l.context===null?l.context=h:l.pendingContext=h,l=Br(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=jr(t,l,i),a!==null&&(Ln(a,t,i),dl(a,t,i))}function sv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Yd(t,i){sv(t,i),(t=t.alternate)&&sv(t,i)}function av(t){if(t.tag===13){var i=Ba(t,67108864);i!==null&&Ln(i,t,67108864),Yd(t,67108864)}}var Uc=!0;function ES(t,i,a,l){var h=Q.T;Q.T=null;var d=le.p;try{le.p=2,Xd(t,i,a,l)}finally{le.p=d,Q.T=h}}function TS(t,i,a,l){var h=Q.T;Q.T=null;var d=le.p;try{le.p=8,Xd(t,i,a,l)}finally{le.p=d,Q.T=h}}function Xd(t,i,a,l){if(Uc){var h=$d(l);if(h===null)kd(t,i,l,zc,a),lv(t,l);else if(SS(h,t,i,a,l))l.stopPropagation();else if(lv(t,l),i&4&&-1<AS.indexOf(t)){for(;h!==null;){var d=yi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Dn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-rt(v);T.entanglements[1]|=I,v&=~I}Ci(d),(nt&6)===0&&(Ac=sn()+500,Nl(0))}}break;case 13:T=Ba(d,2),T!==null&&Ln(T,d,2),bc(),Yd(d,2)}if(d=$d(l),d===null&&kd(t,i,l,zc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else kd(t,i,l,null,a)}}function $d(t){return t=Yo(t),Zd(t)}var zc=null;function Zd(t){if(zc=null,t=pi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return zc=t,null}function ov(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Uo()){case Tt:return 2;case D:return 8;case B:case $:return 32;case de:return 268435456;default:return 32}default:return 32}}var Wd=!1,es=null,ts=null,ns=null,Ul=new Map,zl=new Map,is=[],AS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lv(t,i){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Ul.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(i.pointerId)}}function Bl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=yi(i),i!==null&&av(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function SS(t,i,a,l,h){switch(i){case"focusin":return es=Bl(es,t,i,a,l,h),!0;case"dragenter":return ts=Bl(ts,t,i,a,l,h),!0;case"mouseover":return ns=Bl(ns,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ul.set(d,Bl(Ul.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,zl.set(d,Bl(zl.get(d)||null,t,i,a,l,h)),!0}return!1}function uv(t){var i=pi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,sf(t.priority,function(){if(a.tag===13){var l=kn();l=Bo(l);var h=Ba(a,l);h!==null&&Ln(h,a,l),Yd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=$d(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ko=l,a.target.dispatchEvent(l),Ko=null}else return i=yi(a),i!==null&&av(i),t.blockedOn=a,!1;i.shift()}return!0}function cv(t,i,a){Bc(t)&&a.delete(i)}function bS(){Wd=!1,es!==null&&Bc(es)&&(es=null),ts!==null&&Bc(ts)&&(ts=null),ns!==null&&Bc(ns)&&(ns=null),Ul.forEach(cv),zl.forEach(cv)}function jc(t,i){t.blockedOn===i&&(t.blockedOn=null,Wd||(Wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bS)))}var qc=null;function hv(t){qc!==t&&(qc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qc===t&&(qc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Zd(l||a)===null)continue;break}var d=yi(a);d!==null&&(t.splice(i,3),i-=3,Zf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function jl(t){function i(I){return jc(I,t)}es!==null&&jc(es,t),ts!==null&&jc(ts,t),ns!==null&&jc(ns,t),Ul.forEach(i),zl.forEach(i);for(var a=0;a<is.length;a++){var l=is[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)uv(a),a.blockedOn===null&&is.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Zt]||null;if(typeof d=="function")v||hv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Zt]||null)T=v.formAction;else if(Zd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),hv(a)}}}function Jd(t){this._internalRoot=t}Hc.prototype.render=Jd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=kn();rv(a,l,t,i,null,null)},Hc.prototype.unmount=Jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;rv(t.current,2,null,t,null,null),bc(),i[Qi]=null}};function Hc(t){this._internalRoot=t}Hc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Gi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<is.length&&i!==0&&i<is[a].priority;a++);is.splice(a,0,t),a===0&&uv(t)}};var fv=e.version;if(fv!=="19.1.1")throw Error(s(527,fv,"19.1.1"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var wS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{ye=Fc.inject(wS),Oe=Fc}catch{}}return Hl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Iy,d=Dy,v=Ny,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=nv(t,1,!1,null,null,a,l,h,d,v,T,null),t[Qi]=i.current,Pd(t),new Jd(i)},Hl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Iy,v=Dy,T=Ny,I=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=nv(t,1,!0,i,a??null,l,h,d,v,T,I,j),i.context=iv(null),a=i.current,l=kn(),l=Bo(l),h=Br(l),h.callback=null,jr(a,h,l),a=l,i.current.lanes=a,wt(i,a),Ci(i),t[Qi]=i.current,Pd(t),new Hc(i)},Hl.version="19.1.1",Hl}var Av;function kS(){if(Av)return nm.exports;Av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nm.exports=PS(),nm.exports}var LS=kS();const US=()=>{};var Sv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},zS=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},gT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,y=o+2<r.length,p=y?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let b=(m&15)<<2|p>>6,L=p&63;y||(L=64,f||(b=64)),s.push(n[E],n[S],n[b],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(mT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):zS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||S==null)throw new BS;const b=u<<2|m>>4;if(s.push(b),p!==64){const L=m<<4&240|p>>2;if(s.push(L),S!==64){const K=p<<6&192|S;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class BS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jS=function(r){const e=mT(r);return gT.encodeByteArray(e,!0)},ch=function(r){return jS(r).replace(/\./g,"")},pT=function(r){try{return gT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=()=>qS().__FIREBASE_DEFAULTS__,FS=()=>{if(typeof process>"u"||typeof Sv>"u")return;const r=Sv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},GS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&pT(r[1]);return e&&JSON.parse(e)},Ph=()=>{try{return US()||HS()||FS()||GS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},yT=r=>Ph()?.emulatorHosts?.[r],QS=r=>{const e=yT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},_T=()=>Ph()?.config,vT=r=>Ph()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ET(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ch(JSON.stringify(n)),ch(JSON.stringify(f)),""].join(".")}const $l={};function XS(){const r={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?r.emulator.push(e):r.prod.push(e);return r}function $S(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let bv=!1;function TT(r,e){if(typeof window>"u"||typeof document>"u"||!No(window.location.host)||$l[r]===e||$l[r]||bv)return;$l[r]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=XS().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function y(b,L){b.setAttribute("width","24"),b.setAttribute("id",L),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{bv=!0,f()},b}function E(b,L){b.setAttribute("id",L),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=$S(s),L=n("text"),K=document.getElementById(L)||document.createElement("span"),Y=n("learnmore"),H=document.getElementById(Y)||document.createElement("a"),re=n("preprendIcon"),X=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const se=b.element;m(se),E(H,Y);const Ee=p();y(X,re),se.append(X,K,H,Ee),document.body.appendChild(se)}u?(K.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function WS(){const r=Ph()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nb(){const r=fn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ib(){return!WS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rb(){try{return typeof indexedDB=="object"}catch{return!1}}function sb(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="FirebaseError";class Tr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ab,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?ob(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Tr(o,m,s)}}function ob(r,e){return r.replace(lb,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const lb=/\{\$([^}]+)}/g;function ub(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function fa(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(wv(u)&&wv(f)){if(!fa(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function wv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function cb(r,e){const n=new hb(r,e);return n.subscribe.bind(n)}class hb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");fb(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=am),o.error===void 0&&(o.error=am),o.complete===void 0&&(o.complete=am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fb(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(r){return r&&r._delegate?r._delegate:r}class da{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new KS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gb(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mb(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mb(r){return r===aa?void 0:r}function gb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new db(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qe||(Qe={}));const yb={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},_b=Qe.INFO,vb={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},Eb=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=vb[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jm{constructor(e){this.name=e,this._logLevel=_b,this._logHandler=Eb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const Tb=(r,e)=>e.some(n=>r instanceof n);let Rv,Cv;function Ab(){return Rv||(Rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sb(){return Cv||(Cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AT=new WeakMap,Tm=new WeakMap,ST=new WeakMap,om=new WeakMap,eg=new WeakMap;function bb(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(hs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&AT.set(n,r)}).catch(()=>{}),eg.set(e,r),e}function wb(r){if(Tm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Tm.set(r,e)}let Am={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Tm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ST.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Rb(r){Am=r(Am)}function Cb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(lm(this),e,...n);return ST.set(s,e.sort?e.sort():[e]),hs(s)}:Sb().includes(r)?function(...e){return r.apply(lm(this),e),hs(AT.get(this))}:function(...e){return hs(r.apply(lm(this),e))}}function Ib(r){return typeof r=="function"?Cb(r):(r instanceof IDBTransaction&&wb(r),Tb(r,Ab())?new Proxy(r,Am):r)}function hs(r){if(r instanceof IDBRequest)return bb(r);if(om.has(r))return om.get(r);const e=Ib(r);return e!==r&&(om.set(r,e),eg.set(e,r)),e}const lm=r=>eg.get(r);function Db(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=hs(f);return s&&f.addEventListener("upgradeneeded",y=>{s(hs(f.result),y.oldVersion,y.newVersion,hs(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const Nb=["get","getKey","getAll","getAllKeys","count"],Ob=["put","add","delete","clear"],um=new Map;function Iv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(um.get(e))return um.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Ob.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Nb.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&y.done]))[0]};return um.set(e,u),u}Rb(r=>({...r,get:(e,n,s)=>Iv(e,n)||r.get(e,n,s),has:(e,n)=>!!Iv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mb(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Mb(r){return r.getComponent()?.type==="VERSION"}const Sm="@firebase/app",Dv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new Jm("@firebase/app"),xb="@firebase/app-compat",Pb="@firebase/analytics-compat",kb="@firebase/analytics",Lb="@firebase/app-check-compat",Ub="@firebase/app-check",zb="@firebase/auth",Bb="@firebase/auth-compat",jb="@firebase/database",qb="@firebase/data-connect",Hb="@firebase/database-compat",Fb="@firebase/functions",Gb="@firebase/functions-compat",Qb="@firebase/installations",Kb="@firebase/installations-compat",Yb="@firebase/messaging",Xb="@firebase/messaging-compat",$b="@firebase/performance",Zb="@firebase/performance-compat",Wb="@firebase/remote-config",Jb="@firebase/remote-config-compat",ew="@firebase/storage",tw="@firebase/storage-compat",nw="@firebase/firestore",iw="@firebase/ai",rw="@firebase/firestore-compat",sw="firebase",aw="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="[DEFAULT]",ow={[Sm]:"fire-core",[xb]:"fire-core-compat",[kb]:"fire-analytics",[Pb]:"fire-analytics-compat",[Ub]:"fire-app-check",[Lb]:"fire-app-check-compat",[zb]:"fire-auth",[Bb]:"fire-auth-compat",[jb]:"fire-rtdb",[qb]:"fire-data-connect",[Hb]:"fire-rtdb-compat",[Fb]:"fire-fn",[Gb]:"fire-fn-compat",[Qb]:"fire-iid",[Kb]:"fire-iid-compat",[Yb]:"fire-fcm",[Xb]:"fire-fcm-compat",[$b]:"fire-perf",[Zb]:"fire-perf-compat",[Wb]:"fire-rc",[Jb]:"fire-rc-compat",[ew]:"fire-gcs",[tw]:"fire-gcs-compat",[nw]:"fire-fst",[rw]:"fire-fst-compat",[iw]:"fire-vertex","fire-js":"fire-js",[sw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,lw=new Map,wm=new Map;function Nv(r,e){try{r.container.addComponent(e)}catch(n){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ao(r){const e=r.name;if(wm.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,r);for(const n of hh.values())Nv(n,r);for(const n of lw.values())Nv(n,r);return!0}function tg(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function li(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new gu("app","Firebase",uw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=aw;function bT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:bm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw fs.create("bad-app-name",{appName:String(o)});if(n||(n=_T()),!n)throw fs.create("no-options");const u=hh.get(o);if(u){if(fa(n,u.options)&&fa(s,u.config))return u;throw fs.create("duplicate-app",{appName:o})}const f=new pb(o);for(const y of wm.values())f.addComponent(y);const m=new cw(n,s,f);return hh.set(o,m),m}function wT(r=bm){const e=hh.get(r);if(!e&&r===bm&&_T())return bT();if(!e)throw fs.create("no-app",{appName:r});return e}function ds(r,e,n){let s=ow[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(f.join(" "));return}Ao(new da(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="firebase-heartbeat-database",fw=1,su="firebase-heartbeat-store";let cm=null;function RT(){return cm||(cm=Db(hw,fw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(su)}catch(n){console.warn(n)}}}}).catch(r=>{throw fs.create("idb-open",{originalErrorMessage:r.message})})),cm}async function dw(r){try{const n=(await RT()).transaction(su),s=await n.objectStore(su).get(CT(r));return await n.done,s}catch(e){if(e instanceof Tr)pr.warn(e.message);else{const n=fs.create("idb-get",{originalErrorMessage:e?.message});pr.warn(n.message)}}}async function Ov(r,e){try{const s=(await RT()).transaction(su,"readwrite");await s.objectStore(su).put(e,CT(r)),await s.done}catch(n){if(n instanceof Tr)pr.warn(n.message);else{const s=fs.create("idb-set",{originalErrorMessage:n?.message});pr.warn(s.message)}}}function CT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=1024,gw=30;class pw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _w(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>gw){const o=vw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Vv(),{heartbeatsToSend:n,unsentEntries:s}=yw(this._heartbeatsCache.heartbeats),o=ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return pr.warn(e),""}}}function Vv(){return new Date().toISOString().substring(0,10)}function yw(r,e=mw){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Mv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Mv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _w{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rb()?sb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ov(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Ov(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Mv(r){return ch(JSON.stringify({version:2,heartbeats:r})).length}function vw(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(r){Ao(new da("platform-logger",e=>new Vb(e),"PRIVATE")),Ao(new da("heartbeat",e=>new pw(e),"PRIVATE")),ds(Sm,Dv,r),ds(Sm,Dv,"esm2020"),ds("fire-js","")}Ew("");var Tw="firebase",Aw="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds(Tw,Aw,"app");function IT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Sw=IT,DT=new gu("auth","Firebase",IT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Jm("@firebase/auth");function bw(r,...e){fh.logLevel<=Qe.WARN&&fh.warn(`Auth (${Oo}): ${r}`,...e)}function Wc(r,...e){fh.logLevel<=Qe.ERROR&&fh.error(`Auth (${Oo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(r,...e){throw ig(r,...e)}function fi(r,...e){return ig(r,...e)}function ng(r,e,n){const s={...Sw(),[e]:n};return new gu("auth","Firebase",s).create(e,{appName:r.name})}function ca(r){return ng(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ww(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ki(r,"argument-error"),ng(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ig(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return DT.create(r,...e)}function Ne(r,e,...n){if(!r)throw ig(e,...n)}function dr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Wc(e),new Error(e)}function yr(r,e){r||dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(){return typeof self<"u"&&self.location?.href||""}function Rw(){return xv()==="http:"||xv()==="https:"}function xv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Rw()||eb()||"connection"in navigator)?navigator.onLine:!0}function Iw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=ZS()||tb()}get(){return Cw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(r,e){yr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ow=new yu(3e4,6e4);function sg(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Vo(r,e,n,s,o={}){return OT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=pu({key:r.config.apiKey,...f}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:y,...u};return JS()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&No(r.emulatorConfig.host)&&(p.credentials="include"),NT.fetch()(await VT(r,r.config.apiHost,n,m),p)})}async function OT(r,e,n){r._canInitEmulator=!1;const s={...Dw,...e};try{const o=new Mw(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Gc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,p]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(r,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Gc(r,"email-already-in-use",f);if(y==="USER_DISABLED")throw Gc(r,"user-disabled",f);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ng(r,E,p);ki(r,E)}}catch(o){if(o instanceof Tr)throw o;ki(r,"network-request-failed",{message:String(o)})}}async function Vw(r,e,n,s,o={}){const u=await Vo(r,e,n,s,o);return"mfaPendingCredential"in u&&ki(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function VT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?rg(r.config,o):`${r.config.apiScheme}://${o}`;return Nw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class Mw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(fi(this.auth,"network-request-failed")),Ow.get())})}}function Gc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=fi(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(r,e){return Vo(r,"POST","/v1/accounts:delete",e)}async function dh(r,e){return Vo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Pw(r,e=!1){const n=En(r),s=await n.getIdToken(e),o=ag(s);Ne(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Zl(hm(o.auth_time)),issuedAtTime:Zl(hm(o.iat)),expirationTime:Zl(hm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function hm(r){return Number(r)*1e3}function ag(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const o=pT(n);return o?JSON.parse(o):(Wc("Failed to decode base64 JWT payload"),null)}catch(o){return Wc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Pv(r){const e=ag(r);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Tr&&kw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function kw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(r){const e=r.auth,n=await r.getIdToken(),s=await au(r,dh(e,{idToken:n}));Ne(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?MT(o.providerUserInfo):[],f=zw(r.providerData,u),m=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!f?.length,p=m?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Cm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,E)}async function Uw(r){const e=En(r);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zw(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function MT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bw(r,e){const n=await OT(r,{},async()=>{const s=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await VT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return r.emulatorConfig&&No(r.emulatorConfig.host)&&(y.credentials="include"),NT.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jw(r,e){return Vo(r,"POST","/v2/accounts:revokeToken",sg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=Pv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Bw(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new _o;return s&&(Ne(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ne(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ne(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(r,e){Ne(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class hi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Lw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await au(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Pw(this,e)}reload(){return Uw(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(ca(this.auth));const e=await this.getIdToken();return await au(this,xw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:b,isAnonymous:L,providerData:K,stsTokenManager:Y}=n;Ne(S&&Y,e,"internal-error");const H=_o.fromJSON(this.name,Y);Ne(typeof S=="string",e,"internal-error"),ss(s,e.name),ss(o,e.name),Ne(typeof b=="boolean",e,"internal-error"),Ne(typeof L=="boolean",e,"internal-error"),ss(u,e.name),ss(f,e.name),ss(m,e.name),ss(y,e.name),ss(p,e.name),ss(E,e.name);const re=new hi({uid:S,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:p,lastLoginAt:E});return K&&Array.isArray(K)&&(re.providerData=K.map(X=>({...X}))),y&&(re._redirectEventId=y),re}static async _fromIdTokenResponse(e,n,s=!1){const o=new _o;o.updateFromServerResponse(n);const u=new hi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await mh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ne(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?MT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new _o;m.updateFromIdToken(s);const y=new hi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,p),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new Map;function mr(r){yr(r instanceof Function,"Expected a class definition");let e=kv.get(r);return e?(yr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,kv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xT.type="NONE";const Lv=xT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(r,e,n){return`firebase:${r}:${e}:${n}`}class vo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Jc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Jc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dh(this.auth,{idToken:e}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new vo(mr(Lv),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||mr(Lv);const f=Jc(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let S;if(typeof E=="string"){const b=await dh(e,{idToken:E}).catch(()=>{});if(!b)break;S=await hi._fromGetAccountInfoResponse(e,b,E)}else S=hi._fromJSON(e,E);p!==u&&(m=S),u=p;break}}catch{}const y=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new vo(u,e,s):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new vo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BT(e))return"Blackberry";if(jT(e))return"Webos";if(kT(e))return"Safari";if((e.includes("chrome/")||LT(e))&&!e.includes("edge/"))return"Chrome";if(zT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function PT(r=fn()){return/firefox\//i.test(r)}function kT(r=fn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LT(r=fn()){return/crios\//i.test(r)}function UT(r=fn()){return/iemobile/i.test(r)}function zT(r=fn()){return/android/i.test(r)}function BT(r=fn()){return/blackberry/i.test(r)}function jT(r=fn()){return/webos/i.test(r)}function og(r=fn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function qw(r=fn()){return og(r)&&!!window.navigator?.standalone}function Hw(){return nb()&&document.documentMode===10}function qT(r=fn()){return og(r)||zT(r)||jT(r)||BT(r)||/windows phone/i.test(r)||UT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(r,e=[]){let n;switch(r){case"Browser":n=Uv(fn());break;case"Worker":n=`${Uv(fn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const y=e(u);f(y)}catch(y){m(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(r,e={}){return Vo(r,"GET","/v2/passwordPolicy",sg(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=6;class Kw{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Qw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zv(this),this.idTokenSubscription=new zv(this),this.beforeStateQueue=new Fw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dh(this,{idToken:e}),s=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(li(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Iw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(ca(this));const n=e?En(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Gw(this),n=new Kw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await jw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mr(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function kh(r){return En(r)}class zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=cb(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xw(r){lg=r}function $w(r){return lg.loadJS(r)}function Zw(){return lg.gapiScript}function Ww(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(r,e){const n=tg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(fa(u,e??{}))return o;ki(o,"already-initialized")}return n.initialize({options:e})}function eR(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(mr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function tR(r,e,n){const s=kh(r);Ne(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=FT(e),{host:f,port:m}=nR(e),y=m===null?"":`:${m}`,p={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ne(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ne(fa(p,s.config.emulator)&&fa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,No(f)?(ET(`${u}//${f}${y}`),TT("Auth",!0)):iR()}function FT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function nR(r){const e=FT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Bv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Bv(f)}}}function Bv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function iR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,n){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(r,e){return Vw(r,"POST","/v1/accounts:signInWithIdp",sg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="http://localhost";class ma extends GT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ki("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ma(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Eo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Eo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eo(e,n)}buildRequest(){const e={requestUri:rR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends ug{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends _u{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ma._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return fr.credential(n,s)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends _u{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends _u{constructor(){super("twitter.com")}static credential(e,n){return ma._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ls.credential(n,s)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await hi._fromIdTokenResponse(e,s,o),f=jv(s);return new So({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=jv(s);return new So({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function jv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends Tr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new gh(e,n,s,o)}}function QT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(r,u,e,s):u})}async function sR(r,e,n=!1){const s=await au(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return So._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(r,e,n=!1){const{auth:s}=r;if(li(s.app))return Promise.reject(ca(s));const o="reauthenticate";try{const u=await au(r,QT(s,o,e,r),n);Ne(u.idToken,s,"internal-error");const f=ag(u.idToken);Ne(f,s,"internal-error");const{sub:m}=f;return Ne(r.uid===m,s,"user-mismatch"),So._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ki(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(r,e,n=!1){if(li(r.app))return Promise.reject(ca(r));const s="signIn",o=await QT(r,s,e),u=await So._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function lR(r,e,n,s){return En(r).onIdTokenChanged(e,n,s)}function uR(r,e,n){return En(r).beforeAuthStateChanged(e,n)}function cR(r,e,n,s){return En(r).onAuthStateChanged(e,n,s)}function hR(r){return En(r).signOut()}const ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ph,"1"),this.storage.removeItem(ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=1e3,dR=10;class YT extends KT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Hw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,dR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},fR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YT.type="LOCAL";const mR=YT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT extends KT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XT.type="SESSION";const $T=XT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Lh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),y=await gR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const p=cg("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const b=S;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function yR(r){Ni().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function _R(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vR(){return navigator?.serviceWorker?.controller||null}function ER(){return ZT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebaseLocalStorageDb",TR=1,yh="firebaseLocalStorage",JT="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uh(r,e){return r.transaction([yh],e?"readwrite":"readonly").objectStore(yh)}function AR(){const r=indexedDB.deleteDatabase(WT);return new vu(r).toPromise()}function Im(){const r=indexedDB.open(WT,TR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(yh,{keyPath:JT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(yh)?e(s):(s.close(),await AR(),e(await Im()))})})}async function qv(r,e,n){const s=Uh(r,!0).put({[JT]:e,value:n});return new vu(s).toPromise()}async function SR(r,e){const n=Uh(r,!1).get(e),s=await new vu(n).toPromise();return s===void 0?null:s.value}function Hv(r,e){const n=Uh(r,!0).delete(e);return new vu(n).toPromise()}const bR=800,wR=3;class e0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Im(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>wR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(ER()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _R(),!this.activeServiceWorker)return;this.sender=new pR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Im();return await qv(e,ph,"1"),await Hv(e,ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>qv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>SR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Uh(o,!1).getAll();return new vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e0.type="LOCAL";const RR=e0;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(r,e){return e?mr(e):(Ne(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends GT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function CR(r){return oR(r.auth,new hg(r),r.bypassAuthState)}function IR(r){const{auth:e,user:n}=r;return Ne(n,e,"internal-error"),aR(n,new hg(r),r.bypassAuthState)}async function DR(r){const{auth:e,user:n}=r;return Ne(n,e,"internal-error"),sR(n,new hg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CR;case"linkViaPopup":case"linkViaRedirect":return DR;case"reauthViaPopup":case"reauthViaRedirect":return IR;default:ki(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=new yu(2e3,1e4);async function OR(r,e,n){if(li(r.app))return Promise.reject(fi(r,"operation-not-supported-in-this-environment"));const s=kh(r);ww(r,e,ug);const o=t0(s,n);return new oa(s,"signInViaPopup",e,o).executeNotNull()}class oa extends n0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,oa.currentPopupAction&&oa.currentPopupAction.cancel(),oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NR.get())};e()}}oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="pendingRedirect",eh=new Map;class MR extends n0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const s=await xR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xR(r,e){const n=LR(e),s=kR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function PR(r,e){eh.set(r._key(),e)}function kR(r){return mr(r._redirectPersistence)}function LR(r){return Jc(VR,r.config.apiKey,r.name)}async function UR(r,e,n=!1){if(li(r.app))return Promise.reject(ca(r));const s=kh(r),o=t0(s,e),f=await new MR(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=600*1e3;class BR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!i0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(fi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fv(e))}saveEventToCache(e){this.cachedEventUids.add(Fv(e)),this.lastProcessedEventTime=Date.now()}}function Fv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function i0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function jR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(r,e={}){return Vo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FR=/^https?/;async function GR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await qR(r);for(const n of e)try{if(QR(n))return}catch{}ki(r,"unauthorized-domain")}function QR(r){const e=Rm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!FR.test(n))return!1;if(HR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new yu(3e4,6e4);function Gv(){const r=Ni().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function YR(r){return new Promise((e,n)=>{function s(){Gv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gv(),n(fi(r,"network-request-failed"))},timeout:KR.get()})}if(Ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ni().gapi?.load)s();else{const o=Ww("iframefcb");return Ni()[o]=()=>{gapi.load?s():n(fi(r,"network-request-failed"))},$w(`${Zw()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw th=null,e})}let th=null;function XR(r){return th=th||YR(r),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=new yu(5e3,15e3),ZR="__/auth/iframe",WR="emulator/auth/iframe",JR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tC(r){const e=r.config;Ne(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?rg(e,WR):`https://${r.config.authDomain}/${ZR}`,s={apiKey:e.apiKey,appName:r.name,v:Oo},o=eC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${pu(s).slice(1)}`}async function nC(r){const e=await XR(r),n=Ni().gapi;return Ne(n,r,"internal-error"),e.open({where:document.body,url:tC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JR,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=fi(r,"network-request-failed"),m=Ni().setTimeout(()=>{u(f)},$R.get());function y(){Ni().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rC=500,sC=600,aC="_blank",oC="http://localhost";class Qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lC(r,e,n,s=rC,o=sC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...iC,width:s.toString(),height:o.toString(),top:u,left:f},p=fn().toLowerCase();n&&(m=LT(p)?aC:n),PT(p)&&(e=e||oC,y.scrollbars="yes");const E=Object.entries(y).reduce((b,[L,K])=>`${b}${L}=${K},`,"");if(qw(p)&&m!=="_self")return uC(e||"",m),new Qv(null);const S=window.open(e||"",m,E);Ne(S,r,"popup-blocked");try{S.focus()}catch{}return new Qv(S)}function uC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="__/auth/handler",hC="emulator/auth/handler",fC=encodeURIComponent("fac");async function Kv(r,e,n,s,o,u){Ne(r.config.authDomain,r,"auth-domain-config-required"),Ne(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Oo,eventId:o};if(e instanceof ug){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",ub(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof _u){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const y=await r._getAppCheckToken(),p=y?`#${fC}=${encodeURIComponent(y)}`:"";return`${dC(r)}?${pu(m).slice(1)}${p}`}function dC({config:r}){return r.emulator?rg(r,hC):`https://${r.authDomain}/${cC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="webStorageSupport";class mC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$T,this._completeRedirectFn=UR,this._overrideRedirectResult=PR}async _openPopup(e,n,s,o){yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Kv(e,n,s,Rm(),o);return lC(e,u,cg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Kv(e,n,s,Rm(),o);return yR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await nC(e),s=new BR(e);return n.register("authEvent",o=>(Ne(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fm,{type:fm},o=>{const u=o?.[0]?.[fm];u!==void 0&&n(!!u),ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qT()||kT()||og()}}const gC=mC;var Yv="@firebase/auth",Xv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _C(r){Ao(new da("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ne(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HT(r)},p=new Yw(s,o,u,y);return eR(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ao(new da("auth-internal",e=>{const n=kh(e.getProvider("auth").getImmediate());return(s=>new pC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ds(Yv,Xv,yC(r)),ds(Yv,Xv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=300,EC=vT("authIdTokenMaxAge")||vC;let $v=null;const TC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>EC)return;const o=n?.token;$v!==o&&($v=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function AC(r=wT()){const e=tg(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Jw(r,{popupRedirectResolver:gC,persistence:[RR,mR,$T]}),s=vT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=TC(u.toString());uR(n,f,()=>f(n.currentUser)),lR(n,m=>f(m))}}const o=yT("auth");return o&&tR(n,`http://${o}`),n}function SC(){return document.getElementsByTagName("head")?.[0]??document}Xw({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=fi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",SC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_C("Browser");var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,r0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function C(){}C.prototype=R.prototype,O.F=R.prototype,O.prototype=new C,O.prototype.constructor=O,O.D=function(P,N,M){for(var w=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)w[Me-2]=arguments[Me];return R.prototype[N].apply(P,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,C){C||(C=0);const P=Array(16);if(typeof R=="string")for(var N=0;N<16;++N)P[N]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(N=0;N<16;++N)P[N]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=O.g[0],C=O.g[1],N=O.g[2];let M=O.g[3],w;w=R+(M^C&(N^M))+P[0]+3614090360&4294967295,R=C+(w<<7&4294967295|w>>>25),w=M+(N^R&(C^N))+P[1]+3905402710&4294967295,M=R+(w<<12&4294967295|w>>>20),w=N+(C^M&(R^C))+P[2]+606105819&4294967295,N=M+(w<<17&4294967295|w>>>15),w=C+(R^N&(M^R))+P[3]+3250441966&4294967295,C=N+(w<<22&4294967295|w>>>10),w=R+(M^C&(N^M))+P[4]+4118548399&4294967295,R=C+(w<<7&4294967295|w>>>25),w=M+(N^R&(C^N))+P[5]+1200080426&4294967295,M=R+(w<<12&4294967295|w>>>20),w=N+(C^M&(R^C))+P[6]+2821735955&4294967295,N=M+(w<<17&4294967295|w>>>15),w=C+(R^N&(M^R))+P[7]+4249261313&4294967295,C=N+(w<<22&4294967295|w>>>10),w=R+(M^C&(N^M))+P[8]+1770035416&4294967295,R=C+(w<<7&4294967295|w>>>25),w=M+(N^R&(C^N))+P[9]+2336552879&4294967295,M=R+(w<<12&4294967295|w>>>20),w=N+(C^M&(R^C))+P[10]+4294925233&4294967295,N=M+(w<<17&4294967295|w>>>15),w=C+(R^N&(M^R))+P[11]+2304563134&4294967295,C=N+(w<<22&4294967295|w>>>10),w=R+(M^C&(N^M))+P[12]+1804603682&4294967295,R=C+(w<<7&4294967295|w>>>25),w=M+(N^R&(C^N))+P[13]+4254626195&4294967295,M=R+(w<<12&4294967295|w>>>20),w=N+(C^M&(R^C))+P[14]+2792965006&4294967295,N=M+(w<<17&4294967295|w>>>15),w=C+(R^N&(M^R))+P[15]+1236535329&4294967295,C=N+(w<<22&4294967295|w>>>10),w=R+(N^M&(C^N))+P[1]+4129170786&4294967295,R=C+(w<<5&4294967295|w>>>27),w=M+(C^N&(R^C))+P[6]+3225465664&4294967295,M=R+(w<<9&4294967295|w>>>23),w=N+(R^C&(M^R))+P[11]+643717713&4294967295,N=M+(w<<14&4294967295|w>>>18),w=C+(M^R&(N^M))+P[0]+3921069994&4294967295,C=N+(w<<20&4294967295|w>>>12),w=R+(N^M&(C^N))+P[5]+3593408605&4294967295,R=C+(w<<5&4294967295|w>>>27),w=M+(C^N&(R^C))+P[10]+38016083&4294967295,M=R+(w<<9&4294967295|w>>>23),w=N+(R^C&(M^R))+P[15]+3634488961&4294967295,N=M+(w<<14&4294967295|w>>>18),w=C+(M^R&(N^M))+P[4]+3889429448&4294967295,C=N+(w<<20&4294967295|w>>>12),w=R+(N^M&(C^N))+P[9]+568446438&4294967295,R=C+(w<<5&4294967295|w>>>27),w=M+(C^N&(R^C))+P[14]+3275163606&4294967295,M=R+(w<<9&4294967295|w>>>23),w=N+(R^C&(M^R))+P[3]+4107603335&4294967295,N=M+(w<<14&4294967295|w>>>18),w=C+(M^R&(N^M))+P[8]+1163531501&4294967295,C=N+(w<<20&4294967295|w>>>12),w=R+(N^M&(C^N))+P[13]+2850285829&4294967295,R=C+(w<<5&4294967295|w>>>27),w=M+(C^N&(R^C))+P[2]+4243563512&4294967295,M=R+(w<<9&4294967295|w>>>23),w=N+(R^C&(M^R))+P[7]+1735328473&4294967295,N=M+(w<<14&4294967295|w>>>18),w=C+(M^R&(N^M))+P[12]+2368359562&4294967295,C=N+(w<<20&4294967295|w>>>12),w=R+(C^N^M)+P[5]+4294588738&4294967295,R=C+(w<<4&4294967295|w>>>28),w=M+(R^C^N)+P[8]+2272392833&4294967295,M=R+(w<<11&4294967295|w>>>21),w=N+(M^R^C)+P[11]+1839030562&4294967295,N=M+(w<<16&4294967295|w>>>16),w=C+(N^M^R)+P[14]+4259657740&4294967295,C=N+(w<<23&4294967295|w>>>9),w=R+(C^N^M)+P[1]+2763975236&4294967295,R=C+(w<<4&4294967295|w>>>28),w=M+(R^C^N)+P[4]+1272893353&4294967295,M=R+(w<<11&4294967295|w>>>21),w=N+(M^R^C)+P[7]+4139469664&4294967295,N=M+(w<<16&4294967295|w>>>16),w=C+(N^M^R)+P[10]+3200236656&4294967295,C=N+(w<<23&4294967295|w>>>9),w=R+(C^N^M)+P[13]+681279174&4294967295,R=C+(w<<4&4294967295|w>>>28),w=M+(R^C^N)+P[0]+3936430074&4294967295,M=R+(w<<11&4294967295|w>>>21),w=N+(M^R^C)+P[3]+3572445317&4294967295,N=M+(w<<16&4294967295|w>>>16),w=C+(N^M^R)+P[6]+76029189&4294967295,C=N+(w<<23&4294967295|w>>>9),w=R+(C^N^M)+P[9]+3654602809&4294967295,R=C+(w<<4&4294967295|w>>>28),w=M+(R^C^N)+P[12]+3873151461&4294967295,M=R+(w<<11&4294967295|w>>>21),w=N+(M^R^C)+P[15]+530742520&4294967295,N=M+(w<<16&4294967295|w>>>16),w=C+(N^M^R)+P[2]+3299628645&4294967295,C=N+(w<<23&4294967295|w>>>9),w=R+(N^(C|~M))+P[0]+4096336452&4294967295,R=C+(w<<6&4294967295|w>>>26),w=M+(C^(R|~N))+P[7]+1126891415&4294967295,M=R+(w<<10&4294967295|w>>>22),w=N+(R^(M|~C))+P[14]+2878612391&4294967295,N=M+(w<<15&4294967295|w>>>17),w=C+(M^(N|~R))+P[5]+4237533241&4294967295,C=N+(w<<21&4294967295|w>>>11),w=R+(N^(C|~M))+P[12]+1700485571&4294967295,R=C+(w<<6&4294967295|w>>>26),w=M+(C^(R|~N))+P[3]+2399980690&4294967295,M=R+(w<<10&4294967295|w>>>22),w=N+(R^(M|~C))+P[10]+4293915773&4294967295,N=M+(w<<15&4294967295|w>>>17),w=C+(M^(N|~R))+P[1]+2240044497&4294967295,C=N+(w<<21&4294967295|w>>>11),w=R+(N^(C|~M))+P[8]+1873313359&4294967295,R=C+(w<<6&4294967295|w>>>26),w=M+(C^(R|~N))+P[15]+4264355552&4294967295,M=R+(w<<10&4294967295|w>>>22),w=N+(R^(M|~C))+P[6]+2734768916&4294967295,N=M+(w<<15&4294967295|w>>>17),w=C+(M^(N|~R))+P[13]+1309151649&4294967295,C=N+(w<<21&4294967295|w>>>11),w=R+(N^(C|~M))+P[4]+4149444226&4294967295,R=C+(w<<6&4294967295|w>>>26),w=M+(C^(R|~N))+P[11]+3174756917&4294967295,M=R+(w<<10&4294967295|w>>>22),w=N+(R^(M|~C))+P[2]+718787259&4294967295,N=M+(w<<15&4294967295|w>>>17),w=C+(M^(N|~R))+P[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+M&4294967295}s.prototype.v=function(O,R){R===void 0&&(R=O.length);const C=R-this.blockSize,P=this.C;let N=this.h,M=0;for(;M<R;){if(N==0)for(;M<=C;)o(this,O,M),M+=this.blockSize;if(typeof O=="string"){for(;M<R;)if(P[N++]=O.charCodeAt(M++),N==this.blockSize){o(this,P),N=0;break}}else for(;M<R;)if(P[N++]=O[M++],N==this.blockSize){o(this,P),N=0;break}}this.h=N,this.o+=R},s.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;R=this.o*8;for(var C=O.length-8;C<O.length;++C)O[C]=R&255,R/=256;for(this.v(O),O=Array(16),R=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)O[R++]=this.g[C]>>>P&255;return O};function u(O,R){var C=m;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=R(O)}function f(O,R){this.h=R;const C=[];let P=!0;for(let N=O.length-1;N>=0;N--){const M=O[N]|0;P&&M==R||(C[N]=M,P=!1)}this.g=C}var m={};function y(O){return-128<=O&&O<128?u(O,function(R){return new f([R|0],R<0?-1:0)}):new f([O|0],O<0?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return S;if(O<0)return H(p(-O));const R=[];let C=1;for(let P=0;O>=C;P++)R[P]=O/C|0,C*=4294967296;return new f(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return H(E(O.substring(1),R));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(R,8));let P=S;for(let M=0;M<O.length;M+=8){var N=Math.min(8,O.length-M);const w=parseInt(O.substring(M,M+N),R);N<8?(N=p(Math.pow(R,N)),P=P.j(N).add(p(w))):(P=P.j(C),P=P.add(p(w)))}return P}var S=y(0),b=y(1),L=y(16777216);r=f.prototype,r.m=function(){if(Y(this))return-H(this).m();let O=0,R=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);O+=(P>=0?P:4294967296+P)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(K(this))return"0";if(Y(this))return"-"+H(this).toString(O);const R=p(Math.pow(O,6));var C=this;let P="";for(;;){const N=Ee(C,R).g;C=re(C,N.j(R));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(O);if(C=N,K(C))return M+P;for(;M.length<6;)M="0"+M;P=M+P}},r.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function K(O){if(O.h!=0)return!1;for(let R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function Y(O){return O.h==-1}r.l=function(O){return O=re(this,O),Y(O)?-1:K(O)?0:1};function H(O){const R=O.g.length,C=[];for(let P=0;P<R;P++)C[P]=~O.g[P];return new f(C,~O.h).add(b)}r.abs=function(){return Y(this)?H(this):this},r.add=function(O){const R=Math.max(this.g.length,O.g.length),C=[];let P=0;for(let N=0;N<=R;N++){let M=P+(this.i(N)&65535)+(O.i(N)&65535),w=(M>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);P=w>>>16,M&=65535,w&=65535,C[N]=w<<16|M}return new f(C,C[C.length-1]&-2147483648?-1:0)};function re(O,R){return O.add(H(R))}r.j=function(O){if(K(this)||K(O))return S;if(Y(this))return Y(O)?H(this).j(H(O)):H(H(this).j(O));if(Y(O))return H(this.j(H(O)));if(this.l(L)<0&&O.l(L)<0)return p(this.m()*O.m());const R=this.g.length+O.g.length,C=[];for(var P=0;P<2*R;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let N=0;N<O.g.length;N++){const M=this.i(P)>>>16,w=this.i(P)&65535,Me=O.i(N)>>>16,Ue=O.i(N)&65535;C[2*P+2*N]+=w*Ue,X(C,2*P+2*N),C[2*P+2*N+1]+=M*Ue,X(C,2*P+2*N+1),C[2*P+2*N+1]+=w*Me,X(C,2*P+2*N+1),C[2*P+2*N+2]+=M*Me,X(C,2*P+2*N+2)}for(O=0;O<R;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=R;O<2*R;O++)C[O]=0;return new f(C,0)};function X(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function se(O,R){this.g=O,this.h=R}function Ee(O,R){if(K(R))throw Error("division by zero");if(K(O))return new se(S,S);if(Y(O))return R=Ee(H(O),R),new se(H(R.g),H(R.h));if(Y(R))return R=Ee(O,H(R)),new se(H(R.g),R.h);if(O.g.length>30){if(Y(O)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var C=b,P=R;P.l(O)<=0;)C=he(C),P=he(P);var N=ke(C,1),M=ke(P,1);for(P=ke(P,2),C=ke(C,2);!K(P);){var w=M.add(P);w.l(O)<=0&&(N=N.add(C),M=w),P=ke(P,1),C=ke(C,1)}return R=re(O,N.j(R)),new se(N,R)}for(N=S;O.l(R)>=0;){for(C=Math.max(1,Math.floor(O.m()/R.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),M=p(C),w=M.j(R);Y(w)||w.l(O)>0;)C-=P,M=p(C),w=M.j(R);K(M)&&(M=b),N=N.add(M),O=re(O,w)}return new se(N,O)}r.B=function(O){return Ee(this,O).h},r.and=function(O){const R=Math.max(this.g.length,O.g.length),C=[];for(let P=0;P<R;P++)C[P]=this.i(P)&O.i(P);return new f(C,this.h&O.h)},r.or=function(O){const R=Math.max(this.g.length,O.g.length),C=[];for(let P=0;P<R;P++)C[P]=this.i(P)|O.i(P);return new f(C,this.h|O.h)},r.xor=function(O){const R=Math.max(this.g.length,O.g.length),C=[];for(let P=0;P<R;P++)C[P]=this.i(P)^O.i(P);return new f(C,this.h^O.h)};function he(O){const R=O.g.length+1,C=[];for(let P=0;P<R;P++)C[P]=O.i(P)<<1|O.i(P-1)>>>31;return new f(C,O.h)}function ke(O,R){const C=R>>5;R%=32;const P=O.g.length-C,N=[];for(let M=0;M<P;M++)N[M]=R>0?O.i(M+C)>>>R|O.i(M+C+1)<<32-R:O.i(M+C);return new f(N,O.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,r0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,ms=f}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var s0,Ql,a0,nh,Dm,o0,l0,u0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in _))break e;_=_[z]}c=c[c.length-1],A=_[c],g=g(A),g!=A&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var _=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&_.push([A,g[A]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function y(c,g,_){return c.call.apply(c.bind,arguments)}function p(c,g,_){return p=y,p.apply(null,arguments)}function E(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,g){function _(){}_.prototype=g.prototype,c.Z=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(A,z,G){for(var ue=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ue[xe-2]=arguments[xe];return g.prototype[z].apply(A,ue)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const g=c.length;if(g>0){const _=Array(g);for(let A=0;A<g;A++)_[A]=c[A];return _}return[]}function K(c,g){for(let A=1;A<arguments.length;A++){const z=arguments[A];var _=typeof z;if(_=_!="object"?_:z?Array.isArray(z)?"array":_:"null",_=="array"||_=="object"&&typeof z.length=="number"){_=c.length||0;const G=z.length||0;c.length=_+G;for(let ue=0;ue<G;ue++)c[_+ue]=z[ue]}else c.push(z)}}class Y{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function H(c){f.setTimeout(()=>{throw c},0)}function re(){var c=O;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class X{constructor(){this.h=this.g=null}add(g,_){const A=se.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new Y(()=>new Ee,c=>c.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ke=!1,O=new X,R=()=>{const c=Promise.resolve(void 0);he=()=>{c.then(C)}};function C(){for(var c;c=re();){try{c.h.call(c.g)}catch(_){H(_)}var g=se;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}ke=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function Me(c,g){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}S(Me,N),Me.prototype.init=function(c,g){const _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(_=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Me.Z.h.call(this)},Me.prototype.h=function(){Me.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(Math.random()*1e6|0),Q=0;function le(c,g,_,A,z){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=z,this.key=++Q,this.da=this.fa=!1}function ve(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ze(c,g,_){for(const A in c)g.call(_,c[A],A,c)}function V(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function ne(c){const g={};for(const _ in c)g[_]=c[_];return g}const me="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(c,g){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)c[_]=A[_];for(let G=0;G<me.length;G++)_=me[G],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function Te(c){this.src=c,this.g={},this.h=0}Te.prototype.add=function(c,g,_,A,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const ue=Re(c,g,A,z);return ue>-1?(g=c[ue],_||(g.fa=!1)):(g=new le(g,this.src,G,!!A,z),g.fa=_,c.push(g)),g};function Be(c,g){const _=g.type;if(_ in c.g){var A=c.g[_],z=Array.prototype.indexOf.call(A,g,void 0),G;(G=z>=0)&&Array.prototype.splice.call(A,z,1),G&&(ve(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Re(c,g,_,A){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==g&&G.capture==!!_&&G.ha==A)return z}return-1}var bt="closure_lm_"+(Math.random()*1e6|0),We={};function dn(c,g,_,A,z){if(Array.isArray(g)){for(let G=0;G<g.length;G++)dn(c,g[G],_,A,z);return null}return _=Uo(_),c&&c[Ue]?c.J(g,_,m(A)?!!A.capture:!1,z):Bi(c,g,_,!1,A,z)}function Bi(c,g,_,A,z,G){if(!g)throw Error("Invalid event type");const ue=m(z)?!!z.capture:!!z;let xe=bs(c);if(xe||(c[bt]=xe=new Te(c)),_=xe.add(g,_,A,ue,G),_.proxy)return _;if(A=Sr(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)M||(z=ue),z===void 0&&(z=!1),c.addEventListener(g.toString(),A,z);else if(c.attachEvent)c.attachEvent(Hi(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Sr(){function c(_){return g.call(c.src,c.listener,_)}const g=Aa;return c}function ji(c,g,_,A,z){if(Array.isArray(g))for(var G=0;G<g.length;G++)ji(c,g[G],_,A,z);else A=m(A)?!!A.capture:!!A,_=Uo(_),c&&c[Ue]?(c=c.i,G=String(g).toString(),G in c.g&&(g=c.g[G],_=Re(g,_,A,z),_>-1&&(ve(g[_]),Array.prototype.splice.call(g,_,1),g.length==0&&(delete c.g[G],c.h--)))):c&&(c=bs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Re(g,_,A,z)),(_=c>-1?g[c]:null)&&qi(_))}function qi(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ue])Be(g.i,c);else{var _=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(_,A,c.capture):g.detachEvent?g.detachEvent(Hi(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=bs(g))?(Be(_,c),_.h==0&&(_.src=null,g[bt]=null)):ve(c)}}}function Hi(c){return c in We?We[c]:We[c]="on"+c}function Aa(c,g){if(c.da)c=!0;else{g=new Me(g,this);const _=c.listener,A=c.ha||c.src;c.fa&&qi(c),c=_.call(A,g)}return c}function bs(c){return c=c[bt],c instanceof Te?c:null}var sn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Uo(c){return typeof c=="function"?c:(c[sn]||(c[sn]=function(g){return c.handleEvent(g)}),c[sn])}function Tt(){P.call(this),this.i=new Te(this),this.M=this,this.G=null}S(Tt,P),Tt.prototype[Ue]=!0,Tt.prototype.removeEventListener=function(c,g,_,A){ji(this,c,g,_,A)};function D(c,g){var _,A=c.G;if(A)for(_=[];A;A=A.G)_.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new N(g,c);else if(g instanceof N)g.target=g.target||c;else{var z=g;g=new N(A,c),fe(g,z)}z=!0;let G,ue;if(_)for(ue=_.length-1;ue>=0;ue--)G=g.g=_[ue],z=B(G,A,!0,g)&&z;if(G=g.g=c,z=B(G,A,!0,g)&&z,z=B(G,A,!1,g)&&z,_)for(ue=0;ue<_.length;ue++)G=g.g=_[ue],z=B(G,A,!1,g)&&z}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const _=c.g[g];for(let A=0;A<_.length;A++)ve(_[A]);delete c.g[g],c.h--}}this.G=null},Tt.prototype.J=function(c,g,_,A){return this.i.add(String(c),g,!1,_,A)},Tt.prototype.K=function(c,g,_,A){return this.i.add(String(c),g,!0,_,A)};function B(c,g,_,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let z=!0;for(let G=0;G<g.length;++G){const ue=g[G];if(ue&&!ue.da&&ue.capture==_){const xe=ue.listener,ft=ue.ha||ue.src;ue.fa&&Be(c.i,ue),z=xe.call(ft,A)!==!1&&z}}return z&&!A.defaultPrevented}function $(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function de(c){c.g=$(()=>{c.g=null,c.i&&(c.i=!1,de(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ce extends P{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:de(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(c){P.call(this),this.h=c,this.g={}}S(ae,P);var ye=[];function Oe(c){ze(c.g,function(g,_){this.g.hasOwnProperty(_)&&qi(g)},c),c.g={}}ae.prototype.N=function(){ae.Z.N.call(this),Oe(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var je=f.JSON.stringify,rt=f.JSON.parse,br=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function In(){}function Sa(){}var Tn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jn(){N.call(this,"d")}S(jn,N);function Dn(){N.call(this,"c")}S(Dn,N);var mn={},mi=null;function Fi(){return mi=mi||new Tt}mn.Ia="serverreachability";function zo(c){N.call(this,mn.Ia,c)}S(zo,N);function wr(c){const g=Fi();D(g,new zo(g))}mn.STAT_EVENT="statevent";function ba(c,g){N.call(this,mn.STAT_EVENT,c),this.stat=g}S(ba,N);function wt(c){const g=Fi();D(g,new ba(g,c))}mn.Ja="timingevent";function Du(c,g){N.call(this,mn.Ja,c),this.size=g}S(Du,N);function Rr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Cr(){this.g=!0}Cr.prototype.ua=function(){this.g=!1};function Bo(c,g,_,A,z,G){c.info(function(){if(c.g)if(G){var ue="",xe=G.split("&");for(let tt=0;tt<xe.length;tt++){var ft=xe[tt].split("=");if(ft.length>1){const It=ft[0];ft=ft[1];const Nn=It.split("_");ue=Nn.length>=2&&Nn[1]=="type"?ue+(It+"="+ft+"&"):ue+(It+"=redacted&")}}}else ue=null;else ue=G;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+g+`
`+_+`
`+ue})}function jo(c,g,_,A,z,G,ue){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+g+`
`+_+`
`+G+" "+ue})}function Gi(c,g,_,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+gi(c,_)+(A?" "+A:"")})}function sf(c,g){c.info(function(){return"TIMEOUT: "+g})}Cr.prototype.info=function(){};function gi(c,g){if(!c.g)return g;if(!g)return null;try{const G=JSON.parse(g);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var _=G[c];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ue=1;ue<A.length;ue++)A[ue]=""}}}}return je(G)}catch{return g}}var Rt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qi;function ws(){}S(ws,In),ws.prototype.g=function(){return new XMLHttpRequest},Qi=new ws;function Rs(c){return encodeURIComponent(String(c))}function af(c){var g=1;c=c.split(":");const _=[];for(;g>0&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function Jn(c,g,_,A){this.j=c,this.i=g,this.l=_,this.S=A||1,this.V=new ae(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ir}function Ir(){this.i=null,this.g="",this.h=!1}var wa={},pi={};function yi(c,g,_){c.M=1,c.A=Yi(pt(g)),c.u=_,c.R=!0,Dr(c,null)}function Dr(c,g){c.F=Date.now(),Cs(c),c.B=pt(c.A);var _=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Mu(_.i,"t",A),c.C=0,_=c.j.L,c.h=new Ir,c.g=Pa(c.j,_?g:null,!c.u),c.P>0&&(c.O=new ce(p(c.Y,c,c.g),c.P)),g=c.V,_=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(ye[0]=z.toString()),z=ye);for(let G=0;G<z.length;G++){const ue=dn(_,z[G],A||g.handleEvent,!1,g.h||g);if(!ue)break;g.g[ue.key]=ue}g=c.J?ne(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),wr(),Bo(c.i,c.v,c.B,c.l,c.S,c.u)}Jn.prototype.ba=function(c){c=c.target;const g=this.O;g&&an(c)==3?g.j():this.Y(c)},Jn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=an(this.g),ft=this.g.ya(),tt=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Us(this.g)))){this.K||xe!=4||ft==7||(ft==8||tt<=0?wr(3):wr(2)),vi(this);var g=this.g.ca();this.X=g;var _=Nr(this);if(this.o=g==200,jo(this.i,this.v,this.B,this.l,this.S,xe,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var G=A;break t}}G=null}if(c=G)Gi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ra(this,c);else{this.o=!1,this.m=3,wt(12),Ei(this),Is(this);break e}}if(this.R){c=!0;let It;for(;!this.K&&this.C<_.length;)if(It=Nu(this,_),It==pi){xe==4&&(this.m=4,wt(14),c=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(It==wa){this.m=4,wt(15),Gi(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else Gi(this.i,this.l,It,null),Ra(this,It);if(Ct(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||_.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)Gi(this.i,this.l,_,"[Invalid Chunked Response]"),Ei(this),Is(this);else if(_.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Zo(ue),ue.P=!0,wt(11))}}else Gi(this.i,this.l,_,null),Ra(this,_);xe==4&&Ei(this),this.o&&!this.K&&(xe==4?Wo(this.j,this):(this.o=!1,Cs(this)))}else zs(this.g),g==400&&_.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Ei(this),Is(this)}}}catch{}finally{}};function Nr(c){if(!Ct(c))return c.g.la();const g=Us(c.g);if(g==="")return"";let _="";const A=g.length,z=an(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Ei(c),Is(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,_+=c.h.i.decode(g[G],{stream:!(z&&G==A-1)});return g.length=0,c.h.g+=_,c.C=0,c.h.g}function Ct(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Nu(c,g){var _=c.C,A=g.indexOf(`
`,_);return A==-1?pi:(_=Number(g.substring(_,A)),isNaN(_)?wa:(A+=1,A+_>g.length?pi:(g=g.slice(A,A+_),c.C=A+_,g)))}Jn.prototype.cancel=function(){this.K=!0,Ei(this)};function Cs(c){c.T=Date.now()+c.H,_i(c,c.H)}function _i(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Rr(p(c.aa,c),g)}function vi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(sf(this.i,this.B),this.M!=2&&(wr(),wt(17)),Ei(this),this.m=2,Is(this)):_i(this,this.T-c)};function Is(c){c.j.I==0||c.K||Wo(c.j,c)}function Ei(c){vi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Oe(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function Ra(c,g){try{var _=c.j;if(_.I!=0&&(_.g==c||Os(_.h,c))){if(!c.L&&Os(_.h,c)&&_.I==3){try{var A=_.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)xa(_),Ti(_);else break e;$o(_),wt(18)}}else _.xa=z[1],0<_.xa-_.K&&z[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Rr(p(_.Va,_),6e3));qn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Zi(_,11)}else if((c.L||_.g==c)&&xa(_),!w(g))for(z=_.Ba.g.parse(g),g=0;g<z.length;g++){let tt=z[g];const It=tt[0];if(!(It<=_.K))if(_.K=It,tt=tt[1],_.I==2)if(tt[0]=="c"){_.M=tt[1],_.ba=tt[2];const Nn=tt[3];Nn!=null&&(_.ka=Nn,_.j.info("VER="+_.ka));const Ai=tt[4];Ai!=null&&(_.za=Ai,_.j.info("SVER="+_.za));const ni=tt[5];ni!=null&&typeof ni=="number"&&ni>0&&(A=1.5*ni,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const ii=c.g;if(ii){const ri=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ri){var G=A.h;G.g||ri.indexOf("spdy")==-1&&ri.indexOf("quic")==-1&&ri.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ca(G,G.h),G.h=null))}if(A.G){const el=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(A.wa=el,st(A.J,A.G,el))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var ue=c;if(A.na=qu(A,A.L?A.ba:null,A.W),ue.L){Ki(A.h,ue);var xe=ue,ft=A.O;ft&&(xe.H=ft),xe.D&&(vi(xe),Cs(xe)),A.g=ue}else Uu(A);_.i.length>0&&Hs(_)}else tt[0]!="stop"&&tt[0]!="close"||Zi(_,7);else _.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Zi(_,7):js(_):tt[0]!="noop"&&_.l&&_.l.qa(tt),_.A=0)}}wr(4)}catch{}}var of=class{constructor(c,g){this.g=c,this.map=g}};function Ds(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ns(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function qn(c){return c.h?1:c.g?c.g.size:0}function Os(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ca(c,g){c.g?c.g.add(g):c.h=g}function Ki(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ds.prototype.cancel=function(){if(this.i=Ia(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ia(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.G);return g}return L(c.i)}var Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lf(c,g){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const A=c[_].indexOf("=");let z,G=null;A>=0?(z=c[_].substring(0,A),G=c[_].substring(A+1)):z=c[_],g(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function ei(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof ei?(this.l=c.l,Or(this,c.j),this.o=c.o,this.g=c.g,Vs(this,c.u),this.h=c.h,Vr(this,xu(c.i)),this.m=c.m):c&&(g=String(c).match(Da))?(this.l=!1,Or(this,g[1]||"",!0),this.o=Ms(g[2]||""),this.g=Ms(g[3]||"",!0),Vs(this,g[4]),this.h=Ms(g[5]||"",!0),Vr(this,g[6]||"",!0),this.m=Ms(g[7]||"")):(this.l=!1,this.i=new Hn(null,this.l))}ei.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Gt(g,Ho,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Gt(g,Ho,!0),"@"),c.push(Rs(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Gt(_,_.charAt(0)=="/"?Mr:Fo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Gt(_,Vu)),c.join("")},ei.prototype.resolve=function(c){const g=pt(this);let _=!!c.j;_?Or(g,c.j):_=!!c.o,_?g.o=c.o:_=!!c.g,_?g.g=c.g:_=c.u!=null;var A=c.h;if(_)Vs(g,c.u);else if(_=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=g.h.lastIndexOf("/");z!=-1&&(A=g.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let ue=0;ue<z.length;){const xe=z[ue++];xe=="."?A&&ue==z.length&&G.push(""):xe==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&ue==z.length&&G.push("")):(G.push(xe),A=!0)}A=G.join("/")}else A=z}return _?g.h=A:_=c.i.toString()!=="",_?Vr(g,xu(c.i)):_=!!c.m,_&&(g.m=c.m),g};function pt(c){return new ei(c)}function Or(c,g,_){c.j=_?Ms(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Vs(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Vr(c,g,_){g instanceof Hn?(c.i=g,Ko(c.i,c.l)):(_||(g=Gt(g,Ou)),c.i=new Hn(g,c.l))}function st(c,g,_){c.i.set(g,_)}function Yi(c){return st(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ms(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Gt(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,qo),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function qo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ho=/[#\/\?@]/g,Fo=/[#\?:]/g,Mr=/[#\?]/g,Ou=/[#\?@]/g,Vu=/#/g;function Hn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Xi(c){c.g||(c.g=new Map,c.h=0,c.i&&lf(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Hn.prototype,r.add=function(c,g){Xi(this),this.i=null,c=ti(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Go(c,g){Xi(c),g=ti(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Qo(c,g){return Xi(c),g=ti(c,g),c.g.has(g)}r.forEach=function(c,g){Xi(this),this.g.forEach(function(_,A){_.forEach(function(z){c.call(g,z,A,this)},this)},this)};function Na(c,g){Xi(c);let _=[];if(typeof g=="string")Qo(c,g)&&(_=_.concat(c.g.get(ti(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)_=_.concat(c[g]);return _}r.set=function(c,g){return Xi(this),this.i=null,c=ti(this,c),Qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=Na(this,c),c.length>0?String(c[0]):g):g};function Mu(c,g,_){Go(c,g),_.length>0&&(c.i=null,c.g.set(ti(c,g),L(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var _=g[A];const z=Rs(_);_=Na(this,_);for(let G=0;G<_.length;G++){let ue=z;_[G]!==""&&(ue+="="+Rs(_[G])),c.push(ue)}}return this.i=c.join("&")};function xu(c){const g=new Hn;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function ti(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Ko(c,g){g&&!c.j&&(Xi(c),c.i=null,c.g.forEach(function(_,A){const z=A.toLowerCase();A!=z&&(Go(this,A),Mu(this,z,_))},c)),c.j=g}function Yo(c,g){const _=new Cr;if(f.Image){const A=new Image;A.onload=E(gn,_,"TestLoadImage: loaded",!0,g,A),A.onerror=E(gn,_,"TestLoadImage: error",!1,g,A),A.onabort=E(gn,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(gn,_,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function xr(c,g){const _=new Cr,A=new AbortController,z=setTimeout(()=>{A.abort(),gn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(z),G.ok?gn(_,"TestPingServer: ok",!0,g):gn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),gn(_,"TestPingServer: error",!1,g)})}function gn(c,g,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function Pu(){this.g=new br}function xs(c){this.i=c.Sb||null,this.h=c.ab||!1}S(xs,In),xs.prototype.g=function(){return new Ps(this.i,this.h)};function Ps(c,g){Tt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ps,Tt),r=Ps.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,$i(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pn(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$i(this)),this.g&&(this.readyState=3,$i(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Pr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Pr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?pn(this):$i(this),this.readyState==3&&Pr(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,pn(this))},r.Na=function(c){this.g&&(this.response=c,pn(this))},r.ga=function(){this.g&&pn(this)};function pn(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$i(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function $i(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kr(c){let g="";return ze(c,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Fn(c,g,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=kr(_),typeof c=="string"?_!=null&&Rs(_):st(c,g,_))}function ct(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ct,Tt);var Oa=/^https?$/i,ku=["POST","PUT"];r=ct.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qi.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){ks(this,G);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(ku,g,void 0)>=0)||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ue]of _)this.g.setRequestHeader(G,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){ks(this,G)}};function ks(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,Ls(c),zt(c)}function Ls(c){c.A||(c.A=!0,D(c,"complete"),D(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,D(this,"complete"),D(this,"abort"),zt(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),ct.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Xo(this):this.Xa())},r.Xa=function(){Xo(this)};function Xo(c){if(c.h&&typeof u<"u"){if(c.v&&an(c)==4)setTimeout(c.Ca.bind(c),0);else if(D(c,"readystatechange"),an(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var A;if(A=G===0){let ue=String(c.D).match(Da)[1]||null;!ue&&f.self&&f.self.location&&(ue=f.self.location.protocol.slice(0,-1)),A=!Oa.test(ue?ue.toLowerCase():"")}_=A}if(_)D(c,"complete"),D(c,"success");else{c.o=6;try{var z=an(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Ls(c)}}finally{zt(c)}}}}function zt(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,g||D(c,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function an(c){return c.g?c.g.readyState:0}r.ca=function(){try{return an(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),rt(g)}};function Us(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zs(c){const g={};c=(c.g&&an(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(w(c[A]))continue;var _=af(c[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=g[z]||[];g[z]=G,G.push(_)}V(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Va(c){this.za=0,this.i=[],this.j=new Cr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bs("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bs("baseRetryDelayMs",5e3,c),this.Za=Bs("retryDelaySeedMs",1e4,c),this.Ta=Bs("forwardChannelMaxRetries",2,c),this.va=Bs("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ds(c&&c.concurrentRequestLimit),this.Ba=new Pu,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Va.prototype,r.ka=8,r.I=1,r.connect=function(c,g,_,A){wt(0),this.W=c,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=qu(this,null,this.W),Hs(this)};function js(c){if(qs(c),c.I==3){var g=c.V++,_=pt(c.J);if(st(_,"SID",c.M),st(_,"RID",g),st(_,"TYPE","terminate"),Fs(c,_),g=new Jn(c,c.j,g),g.M=2,g.A=Yi(pt(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.A,_=!0),_||(g.g=Pa(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Cs(g)}ju(c)}function Ti(c){c.g&&(Zo(c),c.g.cancel(),c.g=null)}function qs(c){Ti(c),c.v&&(f.clearTimeout(c.v),c.v=null),xa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Hs(c){if(!Ns(c.h)&&!c.m){c.m=!0;var g=c.Ea;he||R(),ke||(he(),ke=!0),O.add(g,c),c.D=0}}function uf(c,g){return qn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Rr(p(c.Ea,c,g),Bu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Jn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=ne(G),fe(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Ma(this,z,g),_=pt(this.J),st(_,"RID",c),st(_,"CVER",22),this.G&&st(_,"X-HTTP-Session-Id",this.G),Fs(this,_),G&&(this.R?g="headers="+Rs(kr(G))+"&"+g:this.u&&Fn(_,this.u,G)),Ca(this.h,z),this.Ra&&st(_,"TYPE","init"),this.S?(st(_,"$req",g),st(_,"SID","null"),z.U=!0,yi(z,_,null)):yi(z,_,g),this.I=2}}else this.I==3&&(c?Lu(this,c):this.i.length==0||Ns(this.h)||Lu(this))};function Lu(c,g){var _;g?_=g.l:_=c.V++;const A=pt(c.J);st(A,"SID",c.M),st(A,"RID",_),st(A,"AID",c.K),Fs(c,A),c.u&&c.o&&Fn(A,c.u,c.o),_=new Jn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Ma(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ca(c.h,_),yi(_,A,g)}function Fs(c,g){c.H&&ze(c.H,function(_,A){st(g,A,_)}),c.l&&ze({},function(_,A){st(g,A,_)})}function Ma(c,g,_){_=Math.min(c.i.length,_);const A=c.l?p(c.l.Ka,c.l,c):null;e:{var z=c.i;let xe=-1;for(;;){const ft=["count="+_];xe==-1?_>0?(xe=z[0].g,ft.push("ofs="+xe)):xe=0:ft.push("ofs="+xe);let tt=!0;for(let It=0;It<_;It++){var G=z[It].g;const Nn=z[It].map;if(G-=xe,G<0)xe=Math.max(0,z[It].g-100),tt=!1;else try{G="req"+G+"_"||"";try{var ue=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Ai,ni]of ue){let ii=ni;m(ni)&&(ii=je(ni)),ft.push(G+Ai+"="+encodeURIComponent(ii))}}catch(Ai){throw ft.push(G+"type="+encodeURIComponent("_badmap")),Ai}}catch{A&&A(Nn)}}if(tt){ue=ft.join("&");break e}}ue=void 0}return c=c.i.splice(0,_),g.G=c,ue}function Uu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;he||R(),ke||(he(),ke=!0),O.add(g,c),c.A=0}}function $o(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Rr(p(c.Da,c),Bu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Rr(p(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Ti(this),zu(this))};function Zo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function zu(c){c.g=new Jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=pt(c.na);st(g,"RID","rpc"),st(g,"SID",c.M),st(g,"AID",c.K),st(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&st(g,"TO",c.ia),st(g,"TYPE","xmlhttp"),Fs(c,g),c.u&&c.o&&Fn(g,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Yi(pt(g)),_.u=null,_.R=!0,Dr(_,c)}r.Va=function(){this.C!=null&&(this.C=null,Ti(this),$o(this),wt(19))};function xa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Wo(c,g){var _=null;if(c.g==g){xa(c),Zo(c),c.g=null;var A=2}else if(Os(c.h,g))_=g.G,Ki(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){_=g.u?g.u.length:0,g=Date.now()-g.F;var z=c.D;A=Fi(),D(A,new Du(A,_)),Hs(c)}else Uu(c);else if(z=g.m,z==3||z==0&&g.X>0||!(A==1&&uf(c,g)||A==2&&$o(c)))switch(_&&_.length>0&&(g=c.h,g.i=g.i.concat(_)),z){case 1:Zi(c,5);break;case 4:Zi(c,10);break;case 3:Zi(c,6);break;default:Zi(c,2)}}}function Bu(c,g){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*g}function Zi(c,g){if(c.j.info("Error code "+g),g==2){var _=p(c.bb,c),A=c.Ua;const z=!A;A=new ei(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Or(A,"https"),Yi(A),z?Yo(A.toString(),_):xr(A.toString(),_)}else wt(2);c.I=0,c.l&&c.l.pa(g),ju(c),qs(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function ju(c){if(c.I=0,c.ja=[],c.l){const g=Ia(c.h);(g.length!=0||c.i.length!=0)&&(K(c.ja,g),K(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function qu(c,g,_){var A=_ instanceof ei?pt(_):new ei(_);if(A.g!="")g&&(A.g=g+"."+A.g),Vs(A,A.u);else{var z=f.location;A=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;const G=new ei(null);A&&Or(G,A),g&&(G.g=g),z&&Vs(G,z),_&&(G.h=_),A=G}return _=c.G,g=c.wa,_&&g&&st(A,_,g),st(A,"VER",c.ka),Fs(c,A),A}function Pa(c,g,_){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new ct(new xs({ab:_})):new ct(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}r=Hu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ka(){}ka.prototype.g=function(c,g){return new yn(c,g)};function yn(c,g){Tt.call(this),this.g=new Va(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!w(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!w(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Lr(this)}S(yn,Tt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){js(this.g)},yn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=je(c),c=_);g.i.push(new of(g.Ya++,c)),g.I==3&&Hs(g)},yn.prototype.N=function(){this.g.l=null,delete this.j,js(this.g),delete this.g,yn.Z.N.call(this)};function Jo(c){jn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}S(Jo,jn);function Fu(){Dn.call(this),this.status=1}S(Fu,Dn);function Lr(c){this.g=c}S(Lr,Hu),Lr.prototype.ra=function(){D(this.g,"a")},Lr.prototype.qa=function(c){D(this.g,new Jo(c))},Lr.prototype.pa=function(c){D(this.g,new Fu)},Lr.prototype.oa=function(){D(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,u0=function(){return new ka},l0=function(){return Fi()},o0=mn,Dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,nh=Rt,Zt.COMPLETE="complete",a0=Zt,Sa.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Ql=Sa,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,s0=ct}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});const Wv="@firebase/firestore",Jv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Jm("@firebase/firestore");function fo(){return ga.logLevel}function ge(r,...e){if(ga.logLevel<=Qe.DEBUG){const n=e.map(fg);ga.debug(`Firestore (${Mo}): ${r}`,...n)}}function _r(r,...e){if(ga.logLevel<=Qe.ERROR){const n=e.map(fg);ga.error(`Firestore (${Mo}): ${r}`,...n)}}function bo(r,...e){if(ga.logLevel<=Qe.WARN){const n=e.map(fg);ga.warn(`Firestore (${Mo}): ${r}`,...n)}}function fg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,c0(r,s,n)}function c0(r,e,n){let s=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function et(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||c0(e,o,s)}function Pe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(cn.UNAUTHENTICATED)))}shutdown(){}}class wC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RC{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(et(typeof s.accessToken=="string",31837,{l:s}),new h0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class CC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new CC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const s=u=>{u.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ge("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=NC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ke(r,e){return r<e?-1:r>e?1:0}function Nm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return dm(o)===dm(u)?Ke(o,u):dm(o)?1:-1}return Ke(r.length,e.length)}const OC=55296,VC=57343;function dm(r){const e=r.charCodeAt(0);return e>=OC&&e<=VC}function wo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="__name__";class Ii{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ie(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ii.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ke(e.length,n.length)}static compareSegments(e,n){const s=Ii.isNumericId(e),o=Ii.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ii.extractNumericId(e).compare(Ii.extractNumericId(n)):Nm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ms.fromString(e.substring(4,e.length-2))}}class _t extends Ii{construct(e,n,s){return new _t(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ae(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const MC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Ii{construct(e,n,s){return new nn(e,n,s)}static isValidIdentifier(e){return MC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tE}static keyField(){return new nn([tE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Ae(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Ae(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Ae(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new Ae(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(_t.fromString(e))}static fromName(e){return new be(_t.fromString(e).popFirst(5))}static empty(){return new be(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(r,e,n){if(!n)throw new Ae(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function PC(r,e,n,s){if(e===!0&&s===!0)throw new Ae(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function nE(r){if(!be.isDocumentKey(r))throw new Ae(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function f0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function mg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ie(12329,{type:typeof r})}function pa(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ae(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mg(r);throw new Ae(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Eu(r,e){if(!f0(r))throw new Ae(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new Ae(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=-62135596800,rE=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*rE);return new dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iE)throw new Ae(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rE}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eu(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Lt("string",dt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new dt(0,0))}static max(){return new Ve(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function kC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(s===1e9?new dt(n+1,0):new dt(n,s));return new ps(o,be.empty(),e)}function LC(r){return new ps(r.readTime,r.key,ou)}class ps{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ps(Ve.min(),be.empty(),ou)}static max(){return new ps(Ve.max(),be.empty(),ou)}}function UC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(r.documentKey,e.documentKey),n!==0?n:Ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==zC)throw r;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(y=>s(y)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const p=y;n(e[p]).next((E=>{f[p]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function jC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=-1;function Bh(r){return r==null}function _h(r){return r===0&&1/r==-1/0}function qC(r){return typeof r=="number"&&Number.isInteger(r)&&!_h(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="";function HC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=sE(e)),e=FC(r.get(n),e);return sE(e)}function FC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case d0:n+="";break;default:n+=u}}return n}function sE(r){return r+d0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function As(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function m0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??tn.RED,this.left=o??tn.EMPTY,this.right=u??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new tn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oE(this.data.getIterator())}getIteratorFrom(e){return new oE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class oE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new Ft(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new g0("Invalid base64 string: "+u):u}})(e);return new rn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const GC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(r){if(et(!!r,39018),typeof r=="string"){let e=0;const n=GC.exec(r);if(et(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ot(r.seconds),nanos:Ot(r.nanos)}}function Ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _s(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="server_timestamp",y0="__type__",_0="__previous_value__",v0="__local_write_time__";function pg(r){return(r?.mapValue?.fields||{})[y0]?.stringValue===p0}function jh(r){const e=r.mapValue.fields[_0];return pg(e)?jh(e):e}function lu(r){const e=ys(r.mapValue.fields[v0].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,s,o,u,f,m,y,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E}}const vh="(default)";class uu{constructor(e,n){this.projectId=e,this.database=n||vh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===vh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="__type__",KC="__max__",Yc={mapValue:{}},T0="__vector__",Eh="value";function vs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pg(r)?4:XC(r)?9007199254740991:YC(r)?10:11:Ie(28295,{value:r})}function Li(r,e){if(r===e)return!0;const n=vs(r);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return lu(r).isEqual(lu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ys(o.timestampValue),m=ys(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return _s(o.bytesValue).isEqual(_s(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ot(o.geoPointValue.latitude)===Ot(u.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ot(o.integerValue)===Ot(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ot(o.doubleValue),m=Ot(u.doubleValue);return f===m?_h(f)===_h(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return wo(r.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(aE(f)!==aE(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Li(f[y],m[y])))return!1;return!0})(r,e);default:return Ie(52216,{left:r})}}function cu(r,e){return(r.values||[]).find((n=>Li(n,e)))!==void 0}function Ro(r,e){if(r===e)return 0;const n=vs(r),s=vs(e);if(n!==s)return Ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Ot(u.integerValue||u.doubleValue),y=Ot(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(r,e);case 3:return lE(r.timestampValue,e.timestampValue);case 4:return lE(lu(r),lu(e));case 5:return Nm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=_s(u),y=_s(f);return m.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),y=f.split("/");for(let p=0;p<m.length&&p<y.length;p++){const E=Ke(m[p],y[p]);if(E!==0)return E}return Ke(m.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ke(Ot(u.latitude),Ot(f.latitude));return m!==0?m:Ke(Ot(u.longitude),Ot(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return uE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},y=f.fields||{},p=m[Eh]?.arrayValue,E=y[Eh]?.arrayValue,S=Ke(p?.values?.length||0,E?.values?.length||0);return S!==0?S:uE(p,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Yc.mapValue&&f===Yc.mapValue)return 0;if(u===Yc.mapValue)return 1;if(f===Yc.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),p=f.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let S=0;S<y.length&&S<E.length;++S){const b=Nm(y[S],E[S]);if(b!==0)return b;const L=Ro(m[y[S]],p[E[S]]);if(L!==0)return L}return Ke(y.length,E.length)})(r.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function lE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ke(r,e);const n=ys(r),s=ys(e),o=Ke(n.seconds,s.seconds);return o!==0?o:Ke(n.nanos,s.nanos)}function uE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ro(n[o],s[o]);if(u)return u}return Ke(n.length,s.length)}function Co(r){return Om(r)}function Om(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ys(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return _s(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return be.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Om(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Om(n.fields[f])}`;return o+"}"})(r.mapValue):Ie(61005,{value:r})}function ih(r){switch(vs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jh(r);return e?16+ih(e):16;case 5:return 2*r.stringValue.length;case 6:return _s(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ih(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return As(s.fields,((u,f)=>{o+=u.length+ih(f)})),o})(r.mapValue);default:throw Ie(13486,{value:r})}}function Vm(r){return!!r&&"integerValue"in r}function yg(r){return!!r&&"arrayValue"in r}function cE(r){return!!r&&"nullValue"in r}function hE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function rh(r){return!!r&&"mapValue"in r}function YC(r){return(r?.mapValue?.fields||{})[E0]?.stringValue===T0}function Wl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return As(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Wl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wl(r.arrayValue.values[n]);return e}return{...r}}function XC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===KC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(n)}setAll(e){let n=nn.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Wl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){As(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Cn(Wl(this.value))}}function A0(r){const e=[];return As(r.fields,((n,s)=>{const o=new nn([n]);if(rh(s)){const u=A0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new hn(e,0,Ve.min(),Ve.min(),Ve.min(),Cn.empty(),0)}static newFoundDocument(e,n,s,o){return new hn(e,1,n,Ve.min(),s,o,0)}static newNoDocument(e,n){return new hn(e,2,n,Ve.min(),Ve.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,Ve.min(),Ve.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.position=e,this.inclusive=n}}function fE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=be.comparator(be.fromName(f.referenceValue),n.key):s=Ro(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function dE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Li(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function $C(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{}class qt extends S0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new WC(e,n,s):n==="array-contains"?new tI(e,s):n==="in"?new nI(e,s):n==="not-in"?new iI(e,s):n==="array-contains-any"?new rI(e,s):new qt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new JC(e,s):new eI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ro(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends S0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ui(e,n)}matches(e){return b0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function b0(r){return r.op==="and"}function w0(r){return ZC(r)&&b0(r)}function ZC(r){for(const e of r.filters)if(e instanceof Ui)return!1;return!0}function Mm(r){if(r instanceof qt)return r.field.canonicalString()+r.op.toString()+Co(r.value);if(w0(r))return r.filters.map((e=>Mm(e))).join(",");{const e=r.filters.map((n=>Mm(n))).join(",");return`${r.op}(${e})`}}function R0(r,e){return r instanceof qt?(function(s,o){return o instanceof qt&&s.op===o.op&&s.field.isEqual(o.field)&&Li(s.value,o.value)})(r,e):r instanceof Ui?(function(s,o){return o instanceof Ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&R0(f,o.filters[m])),!0):!1})(r,e):void Ie(19439)}function C0(r){return r instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Co(n.value)}`})(r):r instanceof Ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(C0).join(" ,")+"}"})(r):"Filter"}class WC extends qt{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class JC extends qt{constructor(e,n){super(e,"in",n),this.keys=I0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class eI extends qt{constructor(e,n){super(e,"not-in",n),this.keys=I0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function I0(r,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class tI extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yg(n)&&cu(n.arrayValue,this.value)}}class nI extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class iI extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cu(this.value.arrayValue,n)}}class rI extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>cu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function mE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new sI(r,e,n,s,o,u,f)}function _g(r){const e=Pe(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Mm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Co(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Co(s))).join(",")),e.Te=n}return e.Te}function vg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!$C(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!R0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!dE(r.startAt,e.startAt)&&dE(r.endAt,e.endAt)}function xm(r){return be.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aI(r,e,n,s,o,u,f,m){return new qh(r,e,n,s,o,u,f,m)}function Eg(r){return new qh(r)}function gE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function oI(r){return r.collectionGroup!==null}function Jl(r){const e=Pe(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ft(nn.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ah(u,s))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new Ah(nn.keyField(),s))}return e.Ie}function Oi(r){const e=Pe(r);return e.Ee||(e.Ee=lI(e,Jl(r))),e.Ee}function lI(r,e){if(r.limitType==="F")return mE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ah(o.field,u)}));const n=r.endAt?new Th(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Th(r.startAt.position,r.startAt.inclusive):null;return mE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Pm(r,e,n){return new qh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Hh(r,e){return vg(Oi(r),Oi(e))&&r.limitType===e.limitType}function D0(r){return`${_g(Oi(r))}|lt:${r.limitType}`}function mo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>C0(o))).join(", ")}]`),Bh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Co(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Co(o))).join(",")),`Target(${s})`})(Oi(r))}; limitType=${r.limitType})`}function Fh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):be.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,y){const p=fE(f,m,y);return f.inclusive?p<=0:p<0})(s.startAt,Jl(s),o)||s.endAt&&!(function(f,m,y){const p=fE(f,m,y);return f.inclusive?p>=0:p>0})(s.endAt,Jl(s),o))})(r,e)}function uI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function N0(r){return(e,n)=>{let s=!1;for(const o of Jl(r)){const u=cI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function cI(r,e,n){const s=r.field.isKeyField()?be.comparator(e.key,n.key):(function(u,f,m){const y=f.data.field(u),p=m.data.field(u);return y!==null&&p!==null?Ro(y,p):Ie(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return m0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=new Et(be.comparator);function vr(){return hI}const O0=new Et(be.comparator);function Kl(...r){let e=O0;for(const n of r)e=e.insert(n.key,n);return e}function V0(r){let e=O0;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function la(){return eu()}function M0(){return eu()}function eu(){return new _a((r=>r.toString()),((r,e)=>r.isEqual(e)))}const fI=new Et(be.comparator),dI=new Ft(be.comparator);function Ye(...r){let e=dI;for(const n of r)e=e.add(n);return e}const mI=new Ft(Ke);function gI(){return mI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function x0(r){return{integerValue:""+r}}function pI(r,e){return qC(e)?x0(e):Tg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this._=void 0}}function yI(r,e,n){return r instanceof Sh?(function(o,u){const f={fields:{[y0]:{stringValue:p0},[v0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&pg(u)&&(u=jh(u)),u&&(f.fields[_0]=u),{mapValue:f}})(n,e):r instanceof hu?k0(r,e):r instanceof fu?L0(r,e):(function(o,u){const f=P0(o,u),m=pE(f)+pE(o.Ae);return Vm(f)&&Vm(o.Ae)?x0(m):Tg(o.serializer,m)})(r,e)}function _I(r,e,n){return r instanceof hu?k0(r,e):r instanceof fu?L0(r,e):n}function P0(r,e){return r instanceof bh?(function(s){return Vm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Sh extends Gh{}class hu extends Gh{constructor(e){super(),this.elements=e}}function k0(r,e){const n=U0(e);for(const s of r.elements)n.some((o=>Li(o,s)))||n.push(s);return{arrayValue:{values:n}}}class fu extends Gh{constructor(e){super(),this.elements=e}}function L0(r,e){let n=U0(e);for(const s of r.elements)n=n.filter((o=>!Li(o,s)));return{arrayValue:{values:n}}}class bh extends Gh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function pE(r){return Ot(r.integerValue||r.doubleValue)}function U0(r){return yg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function vI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof hu&&o instanceof hu||s instanceof fu&&o instanceof fu?wo(s.elements,o.elements,Li):s instanceof bh&&o instanceof bh?Li(s.Ae,o.Ae):s instanceof Sh&&o instanceof Sh})(r.transform,e.transform)}class EI{constructor(e,n){this.version=e,this.transformResults=n}}class Vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Qh{}function z0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new j0(r.key,Vi.none()):new Tu(r.key,r.data,Vi.none());{const n=r.data,s=Cn.empty();let o=new Ft(nn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ss(r.key,s,new Bn(o.toArray()),Vi.none())}}function TI(r,e,n){r instanceof Tu?(function(o,u,f){const m=o.value.clone(),y=_E(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ss?(function(o,u,f){if(!sh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=_E(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(B0(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function tu(r,e,n,s){return r instanceof Tu?(function(u,f,m,y){if(!sh(u.precondition,f))return m;const p=u.value.clone(),E=vE(u.fieldTransforms,y,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null})(r,e,n,s):r instanceof Ss?(function(u,f,m,y){if(!sh(u.precondition,f))return m;const p=vE(u.fieldTransforms,y,f),E=f.data;return E.setAll(B0(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((S=>S.field)))})(r,e,n,s):(function(u,f,m){return sh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function AI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=P0(s.transform,o||null);u!=null&&(n===null&&(n=Cn.empty()),n.set(s.field,u))}return n||null}function yE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&wo(s,o,((u,f)=>vI(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Tu extends Qh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ss extends Qh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function B0(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function _E(r,e,n){const s=new Map;et(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,_I(f,m,n[o]))}return s}function vE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,yI(u,f,e))}return s}class j0 extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SI extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&TI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=tu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=tu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=M0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=z0(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,((n,s)=>yE(n,s)))&&wo(this.baseMutations,e.baseMutations,((n,s)=>yE(n,s)))}}class Ag{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){et(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return fI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ag(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,$e;function CI(r){switch(r){case ie.OK:return Ie(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ie(15467,{code:r})}}function q0(r){if(r===void 0)return _r("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Pt.OK:return ie.OK;case Pt.CANCELLED:return ie.CANCELLED;case Pt.UNKNOWN:return ie.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ie.INTERNAL;case Pt.UNAVAILABLE:return ie.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ie.NOT_FOUND;case Pt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Pt.ABORTED:return ie.ABORTED;case Pt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Pt.DATA_LOSS:return ie.DATA_LOSS;default:return Ie(39323,{code:r})}}($e=Pt||(Pt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new ms([4294967295,4294967295],0);function EE(r){const e=II().encode(r),n=new r0;return n.update(e),new Uint8Array(n.digest())}function TE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ms([n,s],0),new ms([o,u],0)]}class Sg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ms.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ms.fromNumber(s)));return o.compare(DI)===1&&(o=new ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=EE(e),[s,o]=TE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Sg(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=EE(e),[s,o]=TE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Kh(Ve.min(),o,new Et(Ke),vr(),Ye())}}class Au{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Au(s,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class H0{constructor(e,n){this.targetId=e,this.Ce=n}}class F0{constructor(e,n,s=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class AE{constructor(){this.ve=0,this.Fe=SE(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),s=Ye();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ie(38017,{changeType:u})}})),new Au(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=SE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NI{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.Je=Xc(),this.He=Xc(),this.Ye=new Et(Ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(xm(u))if(s===0){const f=new be(u.path);this.et(n,f,hn.newNoDocument(f,Ve.min()))}else et(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),y=m?this.ct(m,e,f):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=_s(s).toUint8Array()}catch(y){if(y instanceof g0)return bo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Sg(f,o,u)}catch(y){return bo(y instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&xm(m.target)){const y=new be(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,hn.newNoDocument(y,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Ye();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Kh(e,n,this.Ye,this.je,s);return this.je=vr(),this.Je=Xc(),this.He=Xc(),this.Ye=new Et(Ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new AE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ft(Ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ft(Ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new AE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xc(){return new Et(be.comparator)}function SE(){return new Et(be.comparator)}const OI={asc:"ASCENDING",desc:"DESCENDING"},VI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MI={and:"AND",or:"OR"};class xI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(r,e){return r.useProto3Json||Bh(e)?e:{value:e}}function wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function PI(r,e){return wh(r,e.toTimestamp())}function Mi(r){return et(!!r,49232),Ve.fromTimestamp((function(n){const s=ys(n);return new dt(s.seconds,s.nanos)})(r))}function bg(r,e){return Lm(r,e).canonicalString()}function Lm(r,e){const n=(function(o){return new _t(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Q0(r){const e=_t.fromString(r);return et(Z0(e),10190,{key:e.toString()}),e}function Um(r,e){return bg(r.databaseId,e.path)}function mm(r,e){const n=Q0(e);if(n.get(1)!==r.databaseId.projectId)throw new Ae(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ae(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new be(Y0(n))}function K0(r,e){return bg(r.databaseId,e)}function kI(r){const e=Q0(r);return e.length===4?_t.emptyPath():Y0(e)}function zm(r){return new _t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Y0(r){return et(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function bE(r,e,n){return{name:Um(r,e),fields:n.value.mapValue.fields}}function LI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ie(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,E){return p.useProto3Json?(et(E===void 0||typeof E=="string",58123),rn.fromBase64String(E||"")):(et(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),rn.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(p){const E=p.code===void 0?ie.UNKNOWN:q0(p.code);return new Ae(E,p.message||"")})(f);n=new F0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=mm(r,s.document.name),u=Mi(s.document.updateTime),f=s.document.createTime?Mi(s.document.createTime):Ve.min(),m=new Cn({mapValue:{fields:s.document.fields}}),y=hn.newFoundDocument(o,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new ah(p,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=mm(r,s.document),u=s.readTime?Mi(s.readTime):Ve.min(),f=hn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ah([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=mm(r,s.document),u=s.removedTargetIds||[];n=new ah([],u,o,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new RI(o,u),m=s.targetId;n=new H0(m,f)}}return n}function UI(r,e){let n;if(e instanceof Tu)n={update:bE(r,e.key,e.value)};else if(e instanceof j0)n={delete:Um(r,e.key)};else if(e instanceof Ss)n={update:bE(r,e.key,e.data),updateMask:KI(e.fieldMask)};else{if(!(e instanceof SI))return Ie(16599,{Vt:e.type});n={verify:Um(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Sh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof hu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof fu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ie(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:PI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie(27497)})(r,e.precondition)),n}function zI(r,e){return r&&r.length>0?(et(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Mi(o.updateTime):Mi(u);return f.isEqual(Ve.min())&&(f=Mi(u)),new EI(f,o.transformResults||[])})(n,e)))):[]}function BI(r,e){return{documents:[K0(r,e.path)]}}function jI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=K0(r,o);const u=(function(p){if(p.length!==0)return $0(Ui.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(p){if(p.length!==0)return p.map((E=>(function(b){return{field:go(b.field),direction:FI(b.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=km(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function qI(r){let e=kI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){et(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(S){const b=X0(S);return b instanceof Ui&&w0(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(S){return S.map((b=>(function(K){return new Ah(po(K.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(S){let b;return b=typeof S=="object"?S.value:S,Bh(b)?null:b})(n.limit));let y=null;n.startAt&&(y=(function(S){const b=!!S.before,L=S.values||[];return new Th(L,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(S){const b=!S.before,L=S.values||[];return new Th(L,b)})(n.endAt)),aI(e,o,f,u,m,"F",y,p)}function HI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function X0(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=po(n.unaryFilter.field);return qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=po(n.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=po(n.unaryFilter.field);return qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=po(n.unaryFilter.field);return qt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(r):r.fieldFilter!==void 0?(function(n){return qt.create(po(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ui.create(n.compositeFilter.filters.map((s=>X0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(r):Ie(30097,{filter:r})}function FI(r){return OI[r]}function GI(r){return VI[r]}function QI(r){return MI[r]}function go(r){return{fieldPath:r.canonicalString()}}function po(r){return nn.fromServerFormat(r.fieldPath)}function $0(r){return r instanceof qt?(function(n){if(n.op==="=="){if(hE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(cE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(cE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:GI(n.op),value:n.value}}})(r):r instanceof Ui?(function(n){const s=n.getFilters().map((o=>$0(o)));return s.length===1?s[0]:{compositeFilter:{op:QI(n.op),filters:s}}})(r):Ie(54877,{filter:r})}function KI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Z0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n,s,o,u=Ve.min(),f=Ve.min(),m=rn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.yt=e}}function XI(r){const e=qI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Pm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.Cn=new ZI}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ps.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class ZI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ft(_t.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ft(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W0=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(W0,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Io(0)}static cr(){return new Io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="LruGarbageCollector",WI=1048576;function CE([r,e],[n,s]){const o=Ke(r,n);return o===0?Ke(e,s):o}class JI{constructor(e){this.Ir=e,this.buffer=new Ft(CE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();CE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class e2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(RE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?ge(RE,"Ignoring IndexedDB error during garbage collection: ",n):await xo(n)}await this.Vr(3e5)}))}}class t2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(zh.ce);const s=new JI(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(wE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,y,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(s=S,m=Date.now(),this.removeTargets(e,s,n)))).next((S=>(u=S,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((S=>(p=Date.now(),fo()<=Qe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${S} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S}))))}}function n2(r,e){return new t2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.changes=new _a((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&tu(s.mutation,o,Bn.empty(),dt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ye()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ye()){const o=la();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Kl();return u.forEach(((m,y)=>{f=f.insert(m,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=la();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ye())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=vr();const f=eu(),m=(function(){return eu()})();return n.forEach(((y,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Ss)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),tu(E.mutation,p,E.mutation.getFieldMask(),dt.now())):f.set(p.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((p,E)=>f.set(p,E))),n.forEach(((p,E)=>m.set(p,new r2(E,f.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=eu();let o=new Et(((f,m)=>f-m)),u=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let E=s.get(y)||Bn.empty();E=m.applyToLocalView(p,E),s.set(y,E);const S=(o.get(m.batchId)||Ye()).add(y);o=o.insert(m.batchId,S)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),p=y.key,E=y.value,S=M0();E.forEach((b=>{if(!u.has(b)){const L=z0(n.get(b),s.get(b));L!==null&&S.set(b,L),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(e,p,S))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return be.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):oI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(la());let m=ou,y=u;return f.next((p=>te.forEach(p,((E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((b=>{y=y.insert(E,b)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,y,p,Ye()))).next((E=>({batchId:m,changes:V0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Kl();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(y=>{const p=(function(S,b){return new qh(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((S,b)=>{f=f.insert(S,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((y,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,hn.newInvalidDocument(E)))}));let m=Kl();return f.forEach(((y,p)=>{const E=u.get(y);E!==void 0&&tu(E.mutation,p,Bn.empty(),dt.now()),Fh(n,p)&&(m=m.insert(y,p))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Mi(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:XI(o.bundledQuery),readTime:Mi(o.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.overlays=new Et(be.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=la();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=la(),u=n.length+1,f=new be(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Et(((p,E)=>p-E));const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=la(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=la(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new wI(n,s));let u=this.qr.get(n);u===void 0&&(u=Ye(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.Qr=new Ft($t.$r),this.Ur=new Ft($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new $t(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new $t(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new be(new _t([])),s=new $t(n,e),o=new $t(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new _t([])),s=new $t(n,e),o=new $t(n,e+1);let u=Ye();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new $t(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class $t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||Ke(e.Yr,n.Yr)}static Kr(e,n){return Ke(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft($t.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new bI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new $t(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?gg:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new $t(n,0),o=new $t(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ft(Ke);return n.forEach((o=>{const u=new $t(o,0),f=new $t(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;be.isDocumentKey(u)||(u=u.child(""));const f=new $t(new be(u),0);let m=new Ft(Ke);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(y.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){et(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new $t(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new $t(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.ri=e,this.docs=(function(){return new Et(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():hn.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=vr();const f=n.path,m=new be(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||UC(LC(E),s)<=0||(o.has(E.key)||Fh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ie(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new h2(this)}getSize(e){return te.resolve(this.size)}}class h2 extends i2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.persistence=e,this.si=new _a((n=>_g(n)),vg),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new wg,this.targetCount=0,this.ai=Io.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n){this.ui={},this.overlays={},this.ci=new zh(0),this.li=!1,this.li=!0,this.hi=new l2,this.referenceDelegate=e(this),this.Pi=new f2(this),this.indexManager=new $I,this.remoteDocumentCache=(function(o){return new c2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new YI(n),this.Ii=new a2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new o2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new u2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ge("MemoryPersistence","Starting transaction:",e);const o=new d2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class d2 extends BC{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.Ri=new wg,this.Vi=null}static mi(e){return new Rg(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=be.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rh{constructor(e,n){this.persistence=e,this.pi=new _a((s=>HC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=n2(this,n)}static mi(e,n){return new Rh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ve.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ye(),o=Ye();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ib()?8:jC(fn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new m2;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(fo()<=Qe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(fo()<=Qe.DEBUG&&ge("QueryEngine","Query:",mo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(fo()<=Qe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(n))):te.resolve())}ys(e,n){if(gE(n))return te.resolve(null);let s=Oi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Pm(n,null,"F"),s=Oi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ye(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((y=>{const p=this.Ds(n,m);return this.Cs(n,p,f,y.readTime)?this.ys(e,Pm(n,null,"F")):this.vs(e,p,n,y)}))))})))))}ws(e,n,s,o){return gE(n)||o.isEqual(Ve.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(fo()<=Qe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(n)),this.vs(e,f,n,kC(o,ou)).next((m=>m)))}))}Ds(e,n){let s=new Ft(N0(e));return n.forEach(((o,u)=>{Fh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return fo()<=Qe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",mo(n)),this.ps.getDocumentsMatchingQuery(e,n,ps.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="LocalStore",p2=3e8;class y2{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Et(Ke),this.xs=new _a((u=>_g(u)),vg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function _2(r,e,n,s){return new y2(r,e,n,s)}async function e1(r,e){const n=Pe(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let y=Ye();for(const p of o){f.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next((p=>({Ls:p,removedBatchIds:f,addedBatchIds:m})))}))}))}function v2(r,e){const n=Pe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,y,p,E){const S=p.batch,b=S.keys();let L=te.resolve();return b.forEach((K=>{L=L.next((()=>E.getEntry(y,K))).next((Y=>{const H=p.docVersions.get(K);et(H!==null,48541),Y.version.compareTo(H)<0&&(S.applyToRemoteDocument(Y,p),Y.isValidDocument()&&(Y.setReadTime(p.commitVersion),E.addEntry(Y)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(y,S)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let y=Ye();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(y=y.add(m.batch.mutations[p].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function t1(r){const e=Pe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function E2(r,e){const n=Pe(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,S)=>{const b=o.get(S);if(!b)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S))));let L=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(rn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(S,L),(function(Y,H,re){return Y.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=p2?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(b,L,E)&&m.push(n.Pi.updateTargetData(u,L))}));let y=vr(),p=Ye();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(T2(u,f,e.documentUpdates).next((E=>{y=E.ks,p=E.qs}))),!s.isEqual(Ve.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.Ms=o,u)))}function T2(r,e,n){let s=Ye(),o=Ye();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=vr();return n.forEach(((m,y)=>{const p=u.get(m);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Ve.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):ge(Ig,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function A2(r,e){const n=Pe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=gg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function S2(r,e){const n=Pe(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new cs(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Bm(r,e,n){const s=Pe(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Po(f))throw f;ge(Ig,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function IE(r,e,n){const s=Pe(r);let o=Ve.min(),u=Ye();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,p,E){const S=Pe(y),b=S.xs.get(E);return b!==void 0?te.resolve(S.Ms.get(b)):S.Pi.getTargetData(p,E)})(s,f,Oi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((y=>{u=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ve.min(),n?u:Ye()))).next((m=>(b2(s,uI(e),m),{documents:m,Qs:u})))))}function b2(r,e,n){let s=r.Os.get(e)||Ve.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class DE{constructor(){this.activeTargetIds=gI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w2{constructor(){this.Mo=new DE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new DE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="ConnectivityMonitor";class OE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(NE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(NE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c=null;function jm(){return $c===null?$c=(function(){return 268435456+Math.round(2147483648*Math.random())})():$c++,"0x"+$c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="RestConnection",C2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class I2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===vh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=jm(),m=this.zo(e,n.toUriEncodedString());ge(gm,`Sending RPC '${e}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:p}=new URL(m),E=No(p);return this.Jo(e,m,y,s,E).then((S=>(ge(gm,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw bo(gm,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=C2[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class N2 extends I2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=jm();return new Promise(((m,y)=>{const p=new s0;p.setWithCredentials(!0),p.listenOnce(a0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case nh.NO_ERROR:const S=p.getResponseJson();ge(un,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case nh.TIMEOUT:ge(un,`RPC '${e}' ${f} timed out`),y(new Ae(ie.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const b=p.getStatus();if(ge(un,`RPC '${e}' ${f} failed with status:`,b,"response text:",p.getResponseText()),b>0){let L=p.getResponseJson();Array.isArray(L)&&(L=L[0]);const K=L?.error;if(K&&K.status&&K.message){const Y=(function(re){const X=re.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(X)>=0?X:ie.UNKNOWN})(K.status);y(new Ae(Y,K.message))}else y(new Ae(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new Ae(ie.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ge(un,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ge(un,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=jm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=u0(),m=l0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const E=u.join("");ge(un,`Creating RPC '${e}' stream ${o}: ${E}`,y);const S=f.createWebChannel(E,y);this.I_(S);let b=!1,L=!1;const K=new D2({Yo:H=>{L?ge(un,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(b||(ge(un,`Opening RPC '${e}' stream ${o} transport.`),S.open(),b=!0),ge(un,`RPC '${e}' stream ${o} sending:`,H),S.send(H))},Zo:()=>S.close()}),Y=(H,re,X)=>{H.listen(re,(se=>{try{X(se)}catch(Ee){setTimeout((()=>{throw Ee}),0)}}))};return Y(S,Ql.EventType.OPEN,(()=>{L||(ge(un,`RPC '${e}' stream ${o} transport opened.`),K.o_())})),Y(S,Ql.EventType.CLOSE,(()=>{L||(L=!0,ge(un,`RPC '${e}' stream ${o} transport closed`),K.a_(),this.E_(S))})),Y(S,Ql.EventType.ERROR,(H=>{L||(L=!0,bo(un,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),K.a_(new Ae(ie.UNAVAILABLE,"The operation could not be completed")))})),Y(S,Ql.EventType.MESSAGE,(H=>{if(!L){const re=H.data[0];et(!!re,16349);const X=re,se=X?.error||X[0]?.error;if(se){ge(un,`RPC '${e}' stream ${o} received error:`,se);const Ee=se.status;let he=(function(R){const C=Pt[R];if(C!==void 0)return q0(C)})(Ee),ke=se.message;he===void 0&&(he=ie.INTERNAL,ke="Unknown error status: "+Ee+" with message "+se.message),L=!0,K.a_(new Ae(he,ke)),S.close()}else ge(un,`RPC '${e}' stream ${o} received:`,re),K.u_(re)}})),Y(m,o0.STAT_EVENT,(H=>{H.stat===Dm.PROXY?ge(un,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Dm.NOPROXY&&ge(un,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(r){return new xI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="PersistentStream";class i1{constructor(e,n,s,o,u,f,m,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new n1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new Ae(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(VE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(VE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class O2 extends i1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=LI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ve.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ve.min():f.readTime?Mi(f.readTime):Ve.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=zm(this.serializer),n.addTarget=(function(u,f){let m;const y=f.target;if(m=xm(y)?{documents:BI(u,y)}:{query:jI(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=G0(u,f.resumeToken);const p=km(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Ve.min())>0){m.readTime=wh(u,f.snapshotVersion.toTimestamp());const p=km(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=HI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=zm(this.serializer),n.removeTarget=e,this.q_(n)}}class V2 extends i1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=zI(e.writeResults,e.commitTime),s=Mi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=zm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>UI(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{}class x2 extends M2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ae(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Lm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(ie.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Lm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ae(ie.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class P2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class k2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{va(this)&&(ge(ya,"Restarting streams for network reachability change."),await(async function(y){const p=Pe(y);p.Ea.add(4),await Su(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Xh(p)})(this))}))})),this.Ra=new P2(s,o)}}async function Xh(r){if(va(r))for(const e of r.da)await e(!0)}async function Su(r){for(const e of r.da)await e(!1)}function r1(r,e){const n=Pe(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Vg(n)?Og(n):ko(n).O_()&&Ng(n,e))}function Dg(r,e){const n=Pe(r),s=ko(n);n.Ia.delete(e),s.O_()&&s1(n,e),n.Ia.size===0&&(s.O_()?s.L_():va(n)&&n.Ra.set("Unknown"))}function Ng(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(r).Y_(e)}function s1(r,e){r.Va.Ue(e),ko(r).Z_(e)}function Og(r){r.Va=new NI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ko(r).start(),r.Ra.ua()}function Vg(r){return va(r)&&!ko(r).x_()&&r.Ia.size>0}function va(r){return Pe(r).Ea.size===0}function a1(r){r.Va=void 0}async function L2(r){r.Ra.set("Online")}async function U2(r){r.Ia.forEach(((e,n)=>{Ng(r,e)}))}async function z2(r,e){a1(r),Vg(r)?(r.Ra.ha(e),Og(r)):r.Ra.set("Unknown")}async function B2(r,e,n){if(r.Ra.set("Online"),e instanceof F0&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ge(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ch(r,s)}else if(e instanceof ah?r.Va.Ze(e):e instanceof H0?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ve.min()))try{const s=await t1(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(y.resumeToken,f))}})),m.targetMismatches.forEach(((y,p)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(rn.EMPTY_BYTE_STRING,E.snapshotVersion)),s1(u,y);const S=new cs(E.target,y,p,E.sequenceNumber);Ng(u,S)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ge(ya,"Failed to raise snapshot:",s),await Ch(r,s)}}async function Ch(r,e,n){if(!Po(e))throw e;r.Ea.add(1),await Su(r),r.Ra.set("Offline"),n||(n=()=>t1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ge(ya,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Xh(r)}))}function o1(r,e){return e().catch((n=>Ch(r,n,e)))}async function $h(r){const e=Pe(r),n=Es(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gg;for(;j2(e);)try{const o=await A2(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,q2(e,o)}catch(o){await Ch(e,o)}l1(e)&&u1(e)}function j2(r){return va(r)&&r.Ta.length<10}function q2(r,e){r.Ta.push(e);const n=Es(r);n.O_()&&n.X_&&n.ea(e.mutations)}function l1(r){return va(r)&&!Es(r).x_()&&r.Ta.length>0}function u1(r){Es(r).start()}async function H2(r){Es(r).ra()}async function F2(r){const e=Es(r);for(const n of r.Ta)e.ea(n.mutations)}async function G2(r,e,n){const s=r.Ta.shift(),o=Ag.from(s,e,n);await o1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await $h(r)}async function Q2(r,e){e&&Es(r).X_&&await(async function(s,o){if((function(f){return CI(f)&&f!==ie.ABORTED})(o.code)){const u=s.Ta.shift();Es(s).B_(),await o1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await $h(s)}})(r,e),l1(r)&&u1(r)}async function ME(r,e){const n=Pe(r);n.asyncQueue.verifyOperationInProgress(),ge(ya,"RemoteStore received new credentials");const s=va(n);n.Ea.add(3),await Su(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xh(n)}async function K2(r,e){const n=Pe(r);e?(n.Ea.delete(2),await Xh(n)):e||(n.Ea.add(2),await Su(n),n.Ra.set("Unknown"))}function ko(r){return r.ma||(r.ma=(function(n,s,o){const u=Pe(n);return u.sa(),new O2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:L2.bind(null,r),t_:U2.bind(null,r),r_:z2.bind(null,r),H_:B2.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Vg(r)?Og(r):r.Ra.set("Unknown")):(await r.ma.stop(),a1(r))}))),r.ma}function Es(r){return r.fa||(r.fa=(function(n,s,o){const u=Pe(n);return u.sa(),new V2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:H2.bind(null,r),r_:Q2.bind(null,r),ta:F2.bind(null,r),na:G2.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await $h(r)):(await r.fa.stop(),r.Ta.length>0&&(ge(ya,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Mg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(r,e){if(_r("AsyncQueue",`${e}: ${r}`),Po(r))return new Ae(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=Kl(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new To;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.ga=new Et(be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Do{constructor(e,n,s,o,u,f,m,y,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Do(e,n,To.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class X2{constructor(){this.queries=PE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Pe(n),u=o.queries;o.queries=PE(),u.forEach(((f,m)=>{for(const y of m.Sa)y.onError(s)}))})(this,new Ae(ie.ABORTED,"Firestore shutting down"))}}function PE(){return new _a((r=>D0(r)),Hh)}async function $2(r,e){const n=Pe(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new Y2,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=xg(f,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Pg(n)}async function Z2(r,e){const n=Pe(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function W2(r,e){const n=Pe(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Pg(n)}function J2(r,e,n){const s=Pe(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Pg(r){r.Ca.forEach((e=>{e.next()}))}var qm,kE;(kE=qm||(qm={})).Ma="default",kE.Cache="cache";class eD{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Do(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.key=e}}class h1{constructor(e){this.key=e}}class tD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=N0(e),this.tu=new To(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new xE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,S)=>{const b=o.get(E),L=Fh(this.query,S)?S:null,K=!!b&&this.mutatedKeys.has(b.key),Y=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let H=!1;b&&L?b.data.isEqual(L.data)?K!==Y&&(s.track({type:3,doc:L}),H=!0):this.su(b,L)||(s.track({type:2,doc:L}),H=!0,(y&&this.eu(L,y)>0||p&&this.eu(L,p)<0)&&(m=!0)):!b&&L?(s.track({type:0,doc:L}),H=!0):b&&!L&&(s.track({type:1,doc:b}),H=!0,(y||p)&&(m=!0)),H&&(L?(f=f.add(L),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,S)=>(function(L,K){const Y=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:H})}};return Y(L)-Y(K)})(E.type,S.type)||this.eu(E.doc,S.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,p=y!==this.Za;return this.Za=y,f.length!==0||p?{snapshot:new Do(this.query,e.tu,u,f,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new h1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new c1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Do.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kg="SyncEngine";class nD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class iD{constructor(e){this.key=e,this.hu=!1}}class rD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new _a((m=>D0(m)),Hh),this.Iu=new Map,this.Eu=new Set,this.du=new Et(be.comparator),this.Au=new Map,this.Ru=new wg,this.Vu={},this.mu=new Map,this.fu=Io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sD(r,e,n=!0){const s=y1(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await f1(s,e,n,!0),o}async function aD(r,e){const n=y1(r);await f1(n,e,!0,!1)}async function f1(r,e,n,s){const o=await S2(r.localStore,Oi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await oD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&r1(r.remoteStore,o),m}async function oD(r,e,n,s,o){r.pu=(S,b,L)=>(async function(Y,H,re,X){let se=H.view.ru(re);se.Cs&&(se=await IE(Y.localStore,H.query,!1).then((({documents:O})=>H.view.ru(O,se))));const Ee=X&&X.targetChanges.get(H.targetId),he=X&&X.targetMismatches.get(H.targetId)!=null,ke=H.view.applyChanges(se,Y.isPrimaryClient,Ee,he);return UE(Y,H.targetId,ke.au),ke.snapshot})(r,S,b,L);const u=await IE(r.localStore,e,!0),f=new tD(e,u.Qs),m=f.ru(u.documents),y=Au.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=f.applyChanges(m,r.isPrimaryClient,y);UE(r,n,p.au);const E=new nD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),p.snapshot}async function lD(r,e,n){const s=Pe(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Hh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Bm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Dg(s.remoteStore,o.targetId),Hm(s,o.targetId)})).catch(xo)):(Hm(s,o.targetId),await Bm(s.localStore,o.targetId,!0))}async function uD(r,e){const n=Pe(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Dg(n.remoteStore,s.targetId))}async function cD(r,e,n){const s=yD(r);try{const o=await(function(f,m){const y=Pe(f),p=dt.now(),E=m.reduce(((L,K)=>L.add(K.key)),Ye());let S,b;return y.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let K=vr(),Y=Ye();return y.Ns.getEntries(L,E).next((H=>{K=H,K.forEach(((re,X)=>{X.isValidDocument()||(Y=Y.add(re))}))})).next((()=>y.localDocuments.getOverlayedDocuments(L,K))).next((H=>{S=H;const re=[];for(const X of m){const se=AI(X,S.get(X.key).overlayedDocument);se!=null&&re.push(new Ss(X.key,se,A0(se.value.mapValue),Vi.exists(!0)))}return y.mutationQueue.addMutationBatch(L,p,re,m)})).next((H=>{b=H;const re=H.applyToLocalDocumentSet(S,Y);return y.documentOverlayCache.saveOverlays(L,H.batchId,re)}))})).then((()=>({batchId:b.batchId,changes:V0(S)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,y){let p=f.Vu[f.currentUser.toKey()];p||(p=new Et(Ke)),p=p.insert(m,y),f.Vu[f.currentUser.toKey()]=p})(s,o.batchId,n),await bu(s,o.changes),await $h(s.remoteStore)}catch(o){const u=xg(o,"Failed to persist write");n.reject(u)}}async function d1(r,e){const n=Pe(r);try{const s=await E2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?et(f.hu,14607):o.removedDocuments.size>0&&(et(f.hu,42227),f.hu=!1))})),await bu(n,s,e)}catch(s){await xo(s)}}function LE(r,e,n){const s=Pe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const y=Pe(f);y.onlineState=m;let p=!1;y.queries.forEach(((E,S)=>{for(const b of S.Sa)b.va(m)&&(p=!0)})),p&&Pg(y)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hD(r,e,n){const s=Pe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new Et(be.comparator);f=f.insert(u,hn.newNoDocument(u,Ve.min()));const m=Ye().add(u),y=new Kh(Ve.min(),new Map,new Et(Ke),f,m);await d1(s,y),s.du=s.du.remove(u),s.Au.delete(e),Lg(s)}else await Bm(s.localStore,e,!1).then((()=>Hm(s,e,n))).catch(xo)}async function fD(r,e){const n=Pe(r),s=e.batch.batchId;try{const o=await v2(n.localStore,e);g1(n,s,null),m1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await bu(n,o)}catch(o){await xo(o)}}async function dD(r,e,n){const s=Pe(r);try{const o=await(function(f,m){const y=Pe(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return y.mutationQueue.lookupMutationBatch(p,m).next((S=>(et(S!==null,37113),E=S.keys(),y.mutationQueue.removeMutationBatch(p,S)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>y.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);g1(s,e,n),m1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await bu(s,o)}catch(o){await xo(o)}}function m1(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function g1(r,e,n){const s=Pe(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Hm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||p1(r,s)}))}function p1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Dg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Lg(r))}function UE(r,e,n){for(const s of n)s instanceof c1?(r.Ru.addReference(s.key,e),mD(r,s)):s instanceof h1?(ge(kg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||p1(r,s.key)):Ie(19791,{wu:s})}function mD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ge(kg,"New document in limbo: "+n),r.Eu.add(s),Lg(r))}function Lg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new be(_t.fromString(e)),s=r.fu.next();r.Au.set(s,new iD(n)),r.du=r.du.insert(n,s),r1(r.remoteStore,new cs(Oi(Eg(n.path)),s,"TargetPurposeLimboResolution",zh.ce))}}async function bu(r,e,n){const s=Pe(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,y)=>{f.push(s.pu(y,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const E=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(p){o.push(p);const E=Cg.As(y.targetId,p);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(y,p){const E=Pe(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>te.forEach(p,(b=>te.forEach(b.Es,(L=>E.persistence.referenceDelegate.addReference(S,b.targetId,L))).next((()=>te.forEach(b.ds,(L=>E.persistence.referenceDelegate.removeReference(S,b.targetId,L)))))))))}catch(S){if(!Po(S))throw S;ge(Ig,"Failed to update sequence numbers: "+S)}for(const S of p){const b=S.targetId;if(!S.fromCache){const L=E.Ms.get(b),K=L.snapshotVersion,Y=L.withLastLimboFreeSnapshotVersion(K);E.Ms=E.Ms.insert(b,Y)}}})(s.localStore,u))}async function gD(r,e){const n=Pe(r);if(!n.currentUser.isEqual(e)){ge(kg,"User change. New user:",e.toKey());const s=await e1(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((y=>{y.reject(new Ae(ie.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await bu(n,s.Ls)}}function pD(r,e){const n=Pe(r),s=n.Au.get(e);if(s&&s.hu)return Ye().add(s.key);{let o=Ye();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function y1(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=d1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hD.bind(null,e),e.Pu.H_=W2.bind(null,e.eventManager),e.Pu.yu=J2.bind(null,e.eventManager),e}function yD(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dD.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _2(this.persistence,new g2,e.initialUser,this.serializer)}Cu(e){return new J0(Rg.mi,this.serializer)}Du(e){return new w2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class _D extends Ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){et(this.persistence.referenceDelegate instanceof Rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new e2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new J0((s=>Rh.mi(s,n)),this.serializer)}}class Fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>LE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gD.bind(null,this.syncEngine),await K2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new X2})()}createDatastore(e){const n=Yh(e.databaseInfo.databaseId),s=(function(u){return new N2(u)})(e.databaseInfo);return(function(u,f,m,y){return new x2(u,f,m,y)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new k2(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>LE(this.syncEngine,n,0)),(function(){return OE.v()?new OE:new R2})())}createSyncEngine(e,n){return(function(o,u,f,m,y,p,E){const S=new rD(o,u,f,m,y,p);return E&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Pe(n);ge(ya,"RemoteStore shutting down."),s.Ea.add(5),await Su(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fm.provider={build:()=>new Fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class ED{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ge(Ts,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ge(Ts,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=xg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ym(r,e){r.asyncQueue.verifyOperationInProgress(),ge(Ts,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await e1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function zE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await TD(r);ge(Ts,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>ME(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>ME(e.remoteStore,o))),r._onlineComponents=e}async function TD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ge(Ts,"Using user provided OfflineComponentProvider");try{await ym(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await ym(r,new Ih)}}else ge(Ts,"Using default OfflineComponentProvider"),await ym(r,new _D(void 0));return r._offlineComponents}async function _1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ge(Ts,"Using user provided OnlineComponentProvider"),await zE(r,r._uninitializedComponentsProvider._online)):(ge(Ts,"Using default OnlineComponentProvider"),await zE(r,new Fm))),r._onlineComponents}function AD(r){return _1(r).then((e=>e.syncEngine))}async function SD(r){const e=await _1(r),n=e.eventManager;return n.onListen=sD.bind(null,e.syncEngine),n.onUnlisten=lD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uD.bind(null,e.syncEngine),n}function bD(r,e,n={}){const s=new gs;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,y,p){const E=new vD({next:b=>{E.Nu(),f.enqueueAndForget((()=>Z2(u,S)));const L=b.docs.has(m);!L&&b.fromCache?p.reject(new Ae(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&b.fromCache&&y&&y.source==="server"?p.reject(new Ae(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),S=new eD(Eg(m.path),E,{includeMetadataChanges:!0,qa:!0});return $2(u,S)})(await SD(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="firestore.googleapis.com",jE=!0;class qE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E1,this.ssl=jE}else this.host=e.host,this.ssl=e.ssl??jE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=W0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WI)throw new Ae(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ae(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ae(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ae(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ug{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new bC;switch(s.type){case"firstParty":return new IC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ae(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=BE.get(n);s&&(ge("ComponentProvider","Removing Datastore"),BE.delete(n),s.terminate())})(this),Promise.resolve()}}function wD(r,e,n,s={}){r=pa(r,Ug);const o=No(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(ET(`https://${m}`),TT("Firestore",!0)),u.host!==E1&&u.host!==m&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!fa(y,f)&&(r._setSettings(y),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=cn.MOCK_USER;else{p=YS(s.mockUserToken,r._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new Ae(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new cn(S)}r._authCredentials=new wC(new h0(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new zg(this.firestore,e,this._query)}}class Ht{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new du(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Eu(n,Ht._jsonSchema))return new Ht(e,s||null,new be(_t.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Lt("string",Ht._jsonSchemaVersion),referencePath:Lt("string")};class du extends zg{constructor(e,n,s){super(e,n,Eg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new be(e))}withConverter(e){return new du(this.firestore,e,this._path)}}function Gm(r,e,...n){if(r=En(r),arguments.length===1&&(e=dg.newId()),xC("doc","path",e),r instanceof Ug){const s=_t.fromString(e,...n);return nE(s),new Ht(r,null,new be(s))}{if(!(r instanceof Ht||r instanceof du))throw new Ae(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(_t.fromString(e,...n));return nE(s),new Ht(r.firestore,r instanceof du?r.converter:null,new be(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="AsyncQueue";class FE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new n1(this,"async_queue_retry"),this._c=()=>{const s=pm();s&&ge(HE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Po(e))throw e;ge(HE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",GE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Mg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ie(47125,{Pc:GE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function GE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Zh extends Ug{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new FE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new FE(e),this._firestoreClient=void 0,await e}}}function RD(r,e){const n=typeof r=="object"?r:wT(),s=typeof r=="string"?r:vh,o=tg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=QS("firestore");u&&wD(o,...u)}return o}function T1(r){if(r._terminated)throw new Ae(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||CD(r),r._firestoreClient}function CD(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new QC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,v1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new ED(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(rn.fromBase64String(e))}catch(n){throw new Ae(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eu(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Lt("string",Wn._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(e){if(Eu(e,xi._jsonSchema))return new xi(e.latitude,e.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Lt("string",xi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eu(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Pi(e.vectorValues);throw new Ae(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Lt("string",Pi._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=/^__.*__$/;class DD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tu(e,this.data,n,this.fieldTransforms)}}class A1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function S1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:r})}}class jg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(S1(this.Ac)&&ID.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ND{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Yh(e)}Cc(e,n,s,o=!1){return new jg({Ac:e,methodName:n,Dc:s,path:nn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function b1(r){const e=r._freezeSettings(),n=Yh(r._databaseId);return new ND(r._databaseId,!!e.ignoreUndefinedProperties,n)}function OD(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);qg("Data must be an object, but it was:",f,s);const m=w1(s,f);let y,p;if(u.merge)y=new Bn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const b=Qm(e,S,n);if(!f.contains(b))throw new Ae(ie.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);C1(E,b)||E.push(b)}y=new Bn(E),p=f.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,p=f.fieldTransforms;return new DD(new Cn(m),y,p)}class Jh extends Bg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jh}}function VD(r,e,n,s){const o=r.Cc(1,e,n);qg("Data must be an object, but it was:",o,s);const u=[],f=Cn.empty();As(s,((y,p)=>{const E=Hg(e,y,n);p=En(p);const S=o.yc(E);if(p instanceof Jh)u.push(E);else{const b=ef(p,S);b!=null&&(u.push(E),f.set(E,b))}}));const m=new Bn(u);return new A1(f,m,o.fieldTransforms)}function MD(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[Qm(e,s,n)],y=[o];if(u.length%2!=0)throw new Ae(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(Qm(e,u[b])),y.push(u[b+1]);const p=[],E=Cn.empty();for(let b=m.length-1;b>=0;--b)if(!C1(p,m[b])){const L=m[b];let K=y[b];K=En(K);const Y=f.yc(L);if(K instanceof Jh)p.push(L);else{const H=ef(K,Y);H!=null&&(p.push(L),E.set(L,H))}}const S=new Bn(p);return new A1(E,S,f.fieldTransforms)}function ef(r,e){if(R1(r=En(r)))return qg("Unsupported field value:",e,r),w1(r,e);if(r instanceof Bg)return(function(s,o){if(!S1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let y=ef(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=En(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=dt.fromDate(s);return{timestampValue:wh(o.serializer,u)}}if(s instanceof dt){const u=new dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(s instanceof xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Wn)return{bytesValue:G0(o.serializer,s._byteString)};if(s instanceof Ht){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Pi)return(function(f,m){return{mapValue:{fields:{[E0]:{stringValue:T0},[Eh]:{arrayValue:{values:f.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Tg(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${mg(s)}`)})(r,e)}function w1(r,e){const n={};return m0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(r,((s,o)=>{const u=ef(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function R1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof dt||r instanceof xi||r instanceof Wn||r instanceof Ht||r instanceof Bg||r instanceof Pi)}function qg(r,e,n){if(!R1(n)||!f0(n)){const s=mg(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Qm(r,e,n){if((e=En(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return Hg(r,e);throw Dh("Field path arguments must be of type string or ",r,!1,void 0,n)}const xD=new RegExp("[~\\*/\\[\\]]");function Hg(r,e,n){if(e.search(xD)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Wh(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Dh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new Ae(ie.INVALID_ARGUMENT,m+r+y)}function C1(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(D1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PD extends I1{data(){return super.data()}}function D1(r,e){return typeof e=="string"?Hg(r,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}class kD{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return As(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Eh].arrayValue?.values?.map((s=>Ot(s.doubleValue)));return new Pi(n)}convertGeoPoint(e){return new xi(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=jh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const n=ys(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=_t.fromString(e);et(Z0(s),9688,{name:e});const o=new uu(s.get(1),s.get(3)),u=new be(s.popFirst(5));return o.isEqual(n)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends I1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(D1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:Lt("string",ha._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class oh extends ha{data(e={}){return super.data(e)}}class nu{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new oh(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const y=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const y=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:UD(m.type),doc:y,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=nu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(r){r=pa(r,Ht);const e=pa(r.firestore,Zh);return bD(T1(e),r._key).then((n=>qD(e,r,n)))}nu._jsonSchemaVersion="firestore/querySnapshot/1.0",nu._jsonSchema={type:Lt("string",nu._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class BD extends kD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function jD(r,e,n){r=pa(r,Ht);const s=pa(r.firestore,Zh),o=LD(r.converter,e,n);return N1(s,[OD(b1(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Vi.none())])}function QE(r,e,n,...s){r=pa(r,Ht);const o=pa(r.firestore,Zh),u=b1(o);let f;return f=typeof(e=En(e))=="string"||e instanceof Wh?MD(u,"updateDoc",r._key,e,n,s):VD(u,"updateDoc",r._key,e),N1(o,[f.toMutation(r._key,Vi.exists(!0))])}function N1(r,e){return(function(s,o){const u=new gs;return s.asyncQueue.enqueueAndForget((async()=>cD(await AD(s),o,u))),u.promise})(T1(r),e)}function qD(r,e,n){const s=n.docs.get(e._key),o=new BD(r);return new ha(r,o,e._key,s,new Xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Mo=o})(Oo),Ao(new da("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Zh(new RC(s.getProvider("auth-internal")),new DC(f,s.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ae(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(p.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ds(Wv,Jv,e),ds(Wv,Jv,"esm2020")})();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var KE="popstate";function HD(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:y=""}=Ea(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Km("",{pathname:f,search:m,hash:y},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let y=o.location.href,p=y.indexOf("#");m=p===-1?y:y.slice(0,p)}return m+"#"+(typeof u=="string"?u:mu(u))}function s(o,u){di(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return GD(e,n,s,r)}function vt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function di(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FD(){return Math.random().toString(36).substring(2,10)}function YE(r,e){return{usr:r.state,key:r.key,idx:e}}function Km(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ea(e):e,state:n,key:e&&e.key||s||FD()}}function mu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ea(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function GD(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",y=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let H=E(),re=H==null?null:H-p;p=H,y&&y({action:m,location:Y.location,delta:re})}function b(H,re){m="PUSH";let X=Km(Y.location,H,re);n&&n(X,H),p=E()+1;let se=YE(X,p),Ee=Y.createHref(X);try{f.pushState(se,"",Ee)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(Ee)}u&&y&&y({action:m,location:Y.location,delta:1})}function L(H,re){m="REPLACE";let X=Km(Y.location,H,re);n&&n(X,H),p=E();let se=YE(X,p),Ee=Y.createHref(X);f.replaceState(se,"",Ee),u&&y&&y({action:m,location:Y.location,delta:0})}function K(H){return QD(H)}let Y={get action(){return m},get location(){return r(o,f)},listen(H){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(KE,S),y=H,()=>{o.removeEventListener(KE,S),y=null}},createHref(H){return e(o,H)},createURL:K,encodeLocation(H){let re=K(H);return{pathname:re.pathname,search:re.search,hash:re.hash}},push:b,replace:L,go(H){return f.go(H)}};return Y}function QD(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:mu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function O1(r,e,n="/"){return KD(r,e,n,!1)}function KD(r,e,n,s){let o=typeof e=="string"?Ea(e):e,u=Er(o.pathname||"/",n);if(u==null)return null;let f=V1(r);YD(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let p=sN(u);m=iN(f[y],p,s)}return m}function V1(r,e=[],n=[],s="",o=!1){let u=(f,m,y=o,p)=>{let E={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&y)return;vt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let S=gr([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(vt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),V1(f.children,e,b,S,y)),!(f.path==null&&!f.index)&&e.push({path:S,score:tN(S,f.index),routesMeta:b})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let y of M1(f.path))u(f,m,!0,y)}),e}function M1(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=M1(s.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...f),m.map(y=>r.startsWith("/")&&y===""?"/":y)}function YD(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:nN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var XD=/^:[\w-]+$/,$D=3,ZD=2,WD=1,JD=10,eN=-2,XE=r=>r==="*";function tN(r,e){let n=r.split("/"),s=n.length;return n.some(XE)&&(s+=eN),e&&(s+=ZD),n.filter(o=>!XE(o)).reduce((o,u)=>o+(XD.test(u)?$D:u===""?WD:JD),s)}function nN(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function iN(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Nh({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},E),b=y.route;if(!S&&p&&n&&!s[s.length-1].route.index&&(S=Nh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:gr([u,S.pathname]),pathnameBase:uN(gr([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=gr([u,S.pathnameBase]))}return f}function Nh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=rN(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:S},b)=>{if(E==="*"){let K=m[b]||"";f=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const L=m[b];return S&&!L?p[E]=void 0:p[E]=(L||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:r}}function rN(r,e=!1,n=!0){di(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function sN(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return di(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Er(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function aN(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ea(r):r;return{pathname:n?n.startsWith("/")?n:oN(n,e):e,search:cN(s),hash:hN(o)}}function oN(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _m(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lN(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function x1(r){let e=lN(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function P1(r,e,n,s=!1){let o;typeof r=="string"?o=Ea(r):(o={...r},vt(!o.pathname||!o.pathname.includes("?"),_m("?","pathname","search",o)),vt(!o.pathname||!o.pathname.includes("#"),_m("#","pathname","hash",o)),vt(!o.search||!o.search.includes("#"),_m("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}m=S>=0?e[S]:"/"}let y=aN(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(p||E)&&(y.pathname+="/"),y}var gr=r=>r.join("/").replace(/\/\/+/g,"/"),uN=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),cN=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,hN=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function fN(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var k1=["POST","PUT","PATCH","DELETE"];new Set(k1);var dN=["GET",...k1];new Set(dN);var Lo=Z.createContext(null);Lo.displayName="DataRouter";var tf=Z.createContext(null);tf.displayName="DataRouterState";Z.createContext(!1);var L1=Z.createContext({isTransitioning:!1});L1.displayName="ViewTransition";var mN=Z.createContext(new Map);mN.displayName="Fetchers";var gN=Z.createContext(null);gN.displayName="Await";var zi=Z.createContext(null);zi.displayName="Navigation";var wu=Z.createContext(null);wu.displayName="Location";var Ar=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var Fg=Z.createContext(null);Fg.displayName="RouteError";function pN(r,{relative:e}={}){vt(Ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=Z.useContext(zi),{hash:o,pathname:u,search:f}=Cu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:gr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Ru(){return Z.useContext(wu)!=null}function Ta(){return vt(Ru(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(wu).location}var U1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z1(r){Z.useContext(zi).static||Z.useLayoutEffect(r)}function yN(){let{isDataRoute:r}=Z.useContext(Ar);return r?NN():_N()}function _N(){vt(Ru(),"useNavigate() may be used only in the context of a <Router> component.");let r=Z.useContext(Lo),{basename:e,navigator:n}=Z.useContext(zi),{matches:s}=Z.useContext(Ar),{pathname:o}=Ta(),u=JSON.stringify(x1(s)),f=Z.useRef(!1);return z1(()=>{f.current=!0}),Z.useCallback((y,p={})=>{if(di(f.current,U1),!f.current)return;if(typeof y=="number"){n.go(y);return}let E=P1(y,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:gr([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,r])}Z.createContext(null);function Cu(r,{relative:e}={}){let{matches:n}=Z.useContext(Ar),{pathname:s}=Ta(),o=JSON.stringify(x1(n));return Z.useMemo(()=>P1(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function vN(r,e){return B1(r,e)}function B1(r,e,n,s,o){vt(Ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Z.useContext(zi),{matches:f}=Z.useContext(Ar),m=f[f.length-1],y=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let X=S&&S.path||"";j1(p,!S||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let b=Ta(),L;if(e){let X=typeof e=="string"?Ea(e):e;vt(E==="/"||X.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),L=X}else L=b;let K=L.pathname||"/",Y=K;if(E!=="/"){let X=E.replace(/^\//,"").split("/");Y="/"+K.replace(/^\//,"").split("/").slice(X.length).join("/")}let H=O1(r,{pathname:Y});di(S||H!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),di(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let re=bN(H&&H.map(X=>Object.assign({},X,{params:Object.assign({},y,X.params),pathname:gr([E,u.encodeLocation?u.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:gr([E,u.encodeLocation?u.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),f,n,s,o);return e&&re?Z.createElement(wu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},re):re}function EN(){let r=DN(),e=fN(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Z.createElement(Z.Fragment,null,Z.createElement("p",null,"💿 Hey developer 👋"),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:u},"ErrorBoundary")," or"," ",Z.createElement("code",{style:u},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),n?Z.createElement("pre",{style:o},n):null,f)}var TN=Z.createElement(EN,null),AN=class extends Z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?Z.createElement(Ar.Provider,{value:this.props.routeContext},Z.createElement(Fg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SN({routeContext:r,match:e,children:n}){let s=Z.useContext(Lo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(Ar.Provider,{value:r},n)}function bN(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let p=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);vt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,p+1))}let m=!1,y=-1;if(n)for(let p=0;p<u.length;p++){let E=u[p];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=p),E.route.id){let{loaderData:S,errors:b}=n,L=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!b||b[E.route.id]===void 0);if(E.route.lazy||L){m=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((p,E,S)=>{let b,L=!1,K=null,Y=null;n&&(b=f&&E.route.id?f[E.route.id]:void 0,K=E.route.errorElement||TN,m&&(y<0&&S===0?(j1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,Y=null):y===S&&(L=!0,Y=E.route.hydrateFallbackElement||null)));let H=e.concat(u.slice(0,S+1)),re=()=>{let X;return b?X=K:L?X=Y:E.route.Component?X=Z.createElement(E.route.Component,null):E.route.element?X=E.route.element:X=p,Z.createElement(SN,{match:E,routeContext:{outlet:p,matches:H,isDataRoute:n!=null},children:X})};return n&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?Z.createElement(AN,{location:n.location,revalidation:n.revalidation,component:K,error:b,children:re(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:s}):re()},null)}function Gg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wN(r){let e=Z.useContext(Lo);return vt(e,Gg(r)),e}function RN(r){let e=Z.useContext(tf);return vt(e,Gg(r)),e}function CN(r){let e=Z.useContext(Ar);return vt(e,Gg(r)),e}function Qg(r){let e=CN(r),n=e.matches[e.matches.length-1];return vt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function IN(){return Qg("useRouteId")}function DN(){let r=Z.useContext(Fg),e=RN("useRouteError"),n=Qg("useRouteError");return r!==void 0?r:e.errors?.[n]}function NN(){let{router:r}=wN("useNavigate"),e=Qg("useNavigate"),n=Z.useRef(!1);return z1(()=>{n.current=!0}),Z.useCallback(async(o,u={})=>{di(n.current,U1),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var $E={};function j1(r,e,n){!e&&!$E[r]&&($E[r]=!0,di(!1,n))}Z.memo(ON);function ON({routes:r,future:e,state:n,unstable_onError:s}){return B1(r,void 0,n,s,e)}function Ym(r){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VN({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){vt(!Ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Z.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ea(n));let{pathname:y="/",search:p="",hash:E="",state:S=null,key:b="default"}=n,L=Z.useMemo(()=>{let K=Er(y,f);return K==null?null:{location:{pathname:K,search:p,hash:E,state:S,key:b},navigationType:s}},[f,y,p,E,S,b,s]);return di(L!=null,`<Router basename="${f}"> is not able to match the URL "${y}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:Z.createElement(zi.Provider,{value:m},Z.createElement(wu.Provider,{children:e,value:L}))}function MN({children:r,location:e}){return vN(Xm(r),e)}function Xm(r,e=[]){let n=[];return Z.Children.forEach(r,(s,o)=>{if(!Z.isValidElement(s))return;let u=[...e,o];if(s.type===Z.Fragment){n.push.apply(n,Xm(s.props.children,u));return}vt(s.type===Ym,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Xm(s.props.children,u)),n.push(f)}),n}var lh="get",uh="application/x-www-form-urlencoded";function nf(r){return r!=null&&typeof r.tagName=="string"}function xN(r){return nf(r)&&r.tagName.toLowerCase()==="button"}function PN(r){return nf(r)&&r.tagName.toLowerCase()==="form"}function kN(r){return nf(r)&&r.tagName.toLowerCase()==="input"}function LN(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function UN(r,e){return r.button===0&&(!e||e==="_self")&&!LN(r)}var Zc=null;function zN(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var BN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(r){return r!=null&&!BN.has(r)?(di(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):r}function jN(r,e){let n,s,o,u,f;if(PN(r)){let m=r.getAttribute("action");s=m?Er(m,e):null,n=r.getAttribute("method")||lh,o=vm(r.getAttribute("enctype"))||uh,u=new FormData(r)}else if(xN(r)||kN(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||m.getAttribute("action");if(s=y?Er(y,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||lh,o=vm(r.getAttribute("formenctype"))||vm(m.getAttribute("enctype"))||uh,u=new FormData(m,r),!zN()){let{name:p,type:E,value:S}=r;if(E==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,S)}}else{if(nf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lh,s=null,o=uh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function qN(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Er(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function HN(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FN(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function GN(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await HN(u,n);return f.links?f.links():[]}return[]}));return XN(s.flat(1).filter(FN).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ZE(r,e,n,s,o,u){let f=(y,p)=>n[p]?y.route.id!==n[p].route.id:!0,m=(y,p)=>n[p].pathname!==y.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,p)=>f(y,p)||m(y,p)):u==="data"?e.filter((y,p)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,p)||m(y,p))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function QN(r,e,{includeHydrateFallback:n}={}){return KN(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function KN(r){return[...new Set(r)]}function YN(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function XN(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(YN(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function q1(){let r=Z.useContext(Lo);return Kg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function $N(){let r=Z.useContext(tf);return Kg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Yg=Z.createContext(void 0);Yg.displayName="FrameworkContext";function H1(){let r=Z.useContext(Yg);return Kg(r,"You must render this element inside a <HydratedRouter> element"),r}function ZN(r,e){let n=Z.useContext(Yg),[s,o]=Z.useState(!1),[u,f]=Z.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:p,onMouseLeave:E,onTouchStart:S}=e,b=Z.useRef(null);Z.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=re=>{re.forEach(X=>{f(X.isIntersecting)})},H=new IntersectionObserver(Y,{threshold:.5});return b.current&&H.observe(b.current),()=>{H.disconnect()}}},[r]),Z.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let L=()=>{o(!0)},K=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Fl(m,L),onBlur:Fl(y,K),onMouseEnter:Fl(p,L),onMouseLeave:Fl(E,K),onTouchStart:Fl(S,L)}]:[!1,b,{}]}function Fl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function WN({page:r,...e}){let{router:n}=q1(),s=Z.useMemo(()=>O1(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?Z.createElement(eO,{page:r,matches:s,...e}):null}function JN(r){let{manifest:e,routeModules:n}=H1(),[s,o]=Z.useState([]);return Z.useEffect(()=>{let u=!1;return GN(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function eO({page:r,matches:e,...n}){let s=Ta(),{manifest:o,routeModules:u}=H1(),{basename:f}=q1(),{loaderData:m,matches:y}=$N(),p=Z.useMemo(()=>ZE(r,e,y,o,s,"data"),[r,e,y,o,s]),E=Z.useMemo(()=>ZE(r,e,y,o,s,"assets"),[r,e,y,o,s]),S=Z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let K=new Set,Y=!1;if(e.forEach(re=>{let X=o.routes[re.route.id];!X||!X.hasLoader||(!p.some(se=>se.route.id===re.route.id)&&re.route.id in m&&u[re.route.id]?.shouldRevalidate||X.hasClientLoader?Y=!0:K.add(re.route.id))}),K.size===0)return[];let H=qN(r,f,"data");return Y&&K.size>0&&H.searchParams.set("_routes",e.filter(re=>K.has(re.route.id)).map(re=>re.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,p,e,r,u]),b=Z.useMemo(()=>QN(E,o),[E,o]),L=JN(E);return Z.createElement(Z.Fragment,null,S.map(K=>Z.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),b.map(K=>Z.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),L.map(({key:K,link:Y})=>Z.createElement("link",{key:K,nonce:n.nonce,...Y})))}function tO(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var F1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F1&&(window.__reactRouterVersion="7.9.1")}catch{}function nO({basename:r,children:e,window:n}){let s=Z.useRef();s.current==null&&(s.current=HD({window:n,v5Compat:!0}));let o=s.current,[u,f]=Z.useState({action:o.action,location:o.location}),m=Z.useCallback(y=>{Z.startTransition(()=>f(y))},[f]);return Z.useLayoutEffect(()=>o.listen(m),[o,m]),Z.createElement(VN,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var G1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oh=Z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:y,to:p,preventScrollReset:E,viewTransition:S,...b},L){let{basename:K}=Z.useContext(zi),Y=typeof p=="string"&&G1.test(p),H,re=!1;if(typeof p=="string"&&Y&&(H=p,F1))try{let C=new URL(window.location.href),P=p.startsWith("//")?new URL(C.protocol+p):new URL(p),N=Er(P.pathname,K);P.origin===C.origin&&N!=null?p=N+P.search+P.hash:re=!0}catch{di(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=pN(p,{relative:o}),[se,Ee,he]=ZN(s,b),ke=aO(p,{replace:f,state:m,target:y,preventScrollReset:E,relative:o,viewTransition:S});function O(C){e&&e(C),C.defaultPrevented||ke(C)}let R=Z.createElement("a",{...b,...he,href:H||X,onClick:re||u?e:O,ref:tO(L,Ee),target:y,"data-discover":!Y&&n==="render"?"true":void 0});return se&&!Y?Z.createElement(Z.Fragment,null,R,Z.createElement(WN,{page:X})):R});Oh.displayName="Link";var iO=Z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:y,...p},E){let S=Cu(f,{relative:p.relative}),b=Ta(),L=Z.useContext(tf),{navigator:K,basename:Y}=Z.useContext(zi),H=L!=null&&hO(S)&&m===!0,re=K.encodeLocation?K.encodeLocation(S).pathname:S.pathname,X=b.pathname,se=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(X=X.toLowerCase(),se=se?se.toLowerCase():null,re=re.toLowerCase()),se&&Y&&(se=Er(se,Y)||se);const Ee=re!=="/"&&re.endsWith("/")?re.length-1:re.length;let he=X===re||!o&&X.startsWith(re)&&X.charAt(Ee)==="/",ke=se!=null&&(se===re||!o&&se.startsWith(re)&&se.charAt(re.length)==="/"),O={isActive:he,isPending:ke,isTransitioning:H},R=he?e:void 0,C;typeof s=="function"?C=s(O):C=[s,he?"active":null,ke?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(O):u;return Z.createElement(Oh,{...p,"aria-current":R,className:C,ref:E,style:P,to:f,viewTransition:m},typeof y=="function"?y(O):y)});iO.displayName="NavLink";var rO=Z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=lh,action:m,onSubmit:y,relative:p,preventScrollReset:E,viewTransition:S,...b},L)=>{let K=uO(),Y=cO(m,{relative:p}),H=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&G1.test(m),X=se=>{if(y&&y(se),se.defaultPrevented)return;se.preventDefault();let Ee=se.nativeEvent.submitter,he=Ee?.getAttribute("formmethod")||f;K(Ee||se.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:S})};return Z.createElement("form",{ref:L,method:H,action:Y,onSubmit:s?y:X,...b,"data-discover":!re&&r==="render"?"true":void 0})});rO.displayName="Form";function sO(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q1(r){let e=Z.useContext(Lo);return vt(e,sO(r)),e}function aO(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=yN(),y=Ta(),p=Cu(r,{relative:u});return Z.useCallback(E=>{if(UN(E,e)){E.preventDefault();let S=n!==void 0?n:mu(y)===mu(p);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[y,m,p,n,s,e,r,o,u,f])}var oO=0,lO=()=>`__${String(++oO)}__`;function uO(){let{router:r}=Q1("useSubmit"),{basename:e}=Z.useContext(zi),n=IN();return Z.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:y,body:p}=jN(s,e);if(o.navigate===!1){let E=o.fetcherKey||lO();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function cO(r,{relative:e}={}){let{basename:n}=Z.useContext(zi),s=Z.useContext(Ar);vt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Cu(r||".",{relative:e})},f=Ta();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(E=>E==="")){m.delete("index"),y.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:gr([n,u.pathname])),mu(u)}function hO(r,{relative:e}={}){let n=Z.useContext(L1);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Q1("useViewTransitionState"),o=Cu(r,{relative:e});if(!n.isTransitioning)return!1;let u=Er(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Nh(o.pathname,f)!=null||Nh(o.pathname,u)!=null}const Vh={home:"/",profile:"/profile"},fO={apiKey:"AIzaSyDM9-NOmxOE-E5xLG0jaglmlG98Z1zRhRM",authDomain:"raven-board-game-party.firebaseapp.com",projectId:"raven-board-game-party",storageBucket:"raven-board-game-party.firebasestorage.app",messagingSenderId:"400848628410",appId:"1:400848628410:web:9357bba7f8c4dcc5bcb083",measurementId:"G-VXZ52R32MK"};function Xg(r,e){if(r==null)return{};var n={},s=Object.keys(r),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}var dO=["color"],WE=Z.forwardRef(function(r,e){var n=r.color,s=n===void 0?"currentColor":n,o=Xg(r,dO);return Z.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Z.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),mO=["color"],JE=Z.forwardRef(function(r,e){var n=r.color,s=n===void 0?"currentColor":n,o=Xg(r,mO);return Z.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Z.createElement("path",{d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),gO=["color"],eT=Z.forwardRef(function(r,e){var n=r.color,s=n===void 0?"currentColor":n,o=Xg(r,gO);return Z.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),Z.createElement("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),Iu=r=>r.type==="checkbox",ua=r=>r instanceof Date,vn=r=>r==null;const K1=r=>typeof r=="object";var Ut=r=>!vn(r)&&!Array.isArray(r)&&K1(r)&&!ua(r),pO=r=>Ut(r)&&r.target?Iu(r.target)?r.target.checked:r.target.value:r,yO=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,_O=(r,e)=>r.has(yO(e)),vO=r=>{const e=r.constructor&&r.constructor.prototype;return Ut(e)&&e.hasOwnProperty("isPrototypeOf")},$g=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xt(r){let e;const n=Array.isArray(r),s=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)e=new Date(r);else if(!($g&&(r instanceof Blob||s))&&(n||Ut(r)))if(e=n?[]:Object.create(Object.getPrototypeOf(r)),!n&&!vO(r))e=r;else for(const o in r)r.hasOwnProperty(o)&&(e[o]=Xt(r[o]));else return r;return e}var rf=r=>/^\w*$/.test(r),kt=r=>r===void 0,Zg=r=>Array.isArray(r)?r.filter(Boolean):[],Wg=r=>Zg(r.replace(/["|']|\]/g,"").split(/\.|\[/)),_e=(r,e,n)=>{if(!e||!Ut(r))return n;const s=(rf(e)?[e]:Wg(e)).reduce((o,u)=>vn(o)?o:o[u],r);return kt(s)||s===r?kt(r[e])?n:r[e]:s},Di=r=>typeof r=="boolean",gt=(r,e,n)=>{let s=-1;const o=rf(e)?[e]:Wg(e),u=o.length,f=u-1;for(;++s<u;){const m=o[s];let y=n;if(s!==f){const p=r[m];y=Ut(p)||Array.isArray(p)?p:isNaN(+o[s+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;r[m]=y,r=r[m]}};const tT={BLUR:"blur",FOCUS_OUT:"focusout"},ui={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},hr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},EO=Un.createContext(null);EO.displayName="HookFormContext";var TO=(r,e,n,s=!0)=>{const o={defaultValues:e._defaultValues};for(const u in r)Object.defineProperty(o,u,{get:()=>{const f=u;return e._proxyFormState[f]!==ui.all&&(e._proxyFormState[f]=!s||ui.all),r[f]}});return o};const AO=typeof window<"u"?Un.useLayoutEffect:Un.useEffect;var zn=r=>typeof r=="string",SO=(r,e,n,s,o)=>zn(r)?(s&&e.watch.add(r),_e(n,r,o)):Array.isArray(r)?r.map(u=>(s&&e.watch.add(u),_e(n,u))):(s&&(e.watchAll=!0),n),$m=r=>vn(r)||!K1(r);function us(r,e,n=new WeakSet){if($m(r)||$m(e))return r===e;if(ua(r)&&ua(e))return r.getTime()===e.getTime();const s=Object.keys(r),o=Object.keys(e);if(s.length!==o.length)return!1;if(n.has(r)||n.has(e))return!0;n.add(r),n.add(e);for(const u of s){const f=r[u];if(!o.includes(u))return!1;if(u!=="ref"){const m=e[u];if(ua(f)&&ua(m)||Ut(f)&&Ut(m)||Array.isArray(f)&&Array.isArray(m)?!us(f,m,n):f!==m)return!1}}return!0}var bO=(r,e,n,s,o)=>e?{...n[r],types:{...n[r]&&n[r].types?n[r].types:{},[s]:o||!0}}:{},iu=r=>Array.isArray(r)?r:[r],nT=()=>{let r=[];return{get observers(){return r},next:o=>{for(const u of r)u.next&&u.next(o)},subscribe:o=>(r.push(o),{unsubscribe:()=>{r=r.filter(u=>u!==o)}}),unsubscribe:()=>{r=[]}}};function Y1(r,e){const n={};for(const s in r)if(r.hasOwnProperty(s)){const o=r[s],u=e[s];if(o&&Ut(o)&&u){const f=Y1(o,u);Ut(f)&&(n[s]=f)}else r[s]&&(n[s]=u)}return n}var wn=r=>Ut(r)&&!Object.keys(r).length,Jg=r=>r.type==="file",ci=r=>typeof r=="function",Mh=r=>{if(!$g)return!1;const e=r?r.ownerDocument:0;return r instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},X1=r=>r.type==="select-multiple",ep=r=>r.type==="radio",wO=r=>ep(r)||Iu(r),Em=r=>Mh(r)&&r.isConnected;function RO(r,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)r=kt(r)?s++:r[e[s++]];return r}function CO(r){for(const e in r)if(r.hasOwnProperty(e)&&!kt(r[e]))return!1;return!0}function xt(r,e){const n=Array.isArray(e)?e:rf(e)?[e]:Wg(e),s=n.length===1?r:RO(r,n),o=n.length-1,u=n[o];return s&&delete s[u],o!==0&&(Ut(s)&&wn(s)||Array.isArray(s)&&CO(s))&&xt(r,n.slice(0,-1)),r}var IO=r=>{for(const e in r)if(ci(r[e]))return!0;return!1};function $1(r){return Array.isArray(r)||Ut(r)&&!IO(r)}function Zm(r,e={}){for(const n in r)$1(r[n])?(e[n]=Array.isArray(r[n])?[]:{},Zm(r[n],e[n])):vn(r[n])||(e[n]=!0);return e}function yo(r,e,n){n||(n=Zm(e));for(const s in r)$1(r[s])?kt(e)||$m(n[s])?n[s]=Zm(r[s],Array.isArray(r[s])?[]:{}):yo(r[s],vn(e)?{}:e[s],n[s]):n[s]=!us(r[s],e[s]);return n}const iT={value:!1,isValid:!1},rT={value:!0,isValid:!0};var Z1=r=>{if(Array.isArray(r)){if(r.length>1){const e=r.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!kt(r[0].attributes.value)?kt(r[0].value)||r[0].value===""?rT:{value:r[0].value,isValid:!0}:rT:iT}return iT},W1=(r,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>kt(r)?r:e?r===""?NaN:r&&+r:n&&zn(r)?new Date(r):s?s(r):r;const sT={isValid:!1,value:null};var J1=r=>Array.isArray(r)?r.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,sT):sT;function aT(r){const e=r.ref;return Jg(e)?e.files:ep(e)?J1(r.refs).value:X1(e)?[...e.selectedOptions].map(({value:n})=>n):Iu(e)?Z1(r.refs).value:W1(kt(e.value)?r.ref.value:e.value,r)}var DO=(r,e,n,s)=>{const o={};for(const u of r){const f=_e(e,u);f&&gt(o,u,f._f)}return{criteriaMode:n,names:[...r],fields:o,shouldUseNativeValidation:s}},xh=r=>r instanceof RegExp,Gl=r=>kt(r)?r:xh(r)?r.source:Ut(r)?xh(r.value)?r.value.source:r.value:r,oT=r=>({isOnSubmit:!r||r===ui.onSubmit,isOnBlur:r===ui.onBlur,isOnChange:r===ui.onChange,isOnAll:r===ui.all,isOnTouch:r===ui.onTouched});const lT="AsyncFunction";var NO=r=>!!r&&!!r.validate&&!!(ci(r.validate)&&r.validate.constructor.name===lT||Ut(r.validate)&&Object.values(r.validate).find(e=>e.constructor.name===lT)),OO=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),uT=(r,e,n)=>!n&&(e.watchAll||e.watch.has(r)||[...e.watch].some(s=>r.startsWith(s)&&/^\.\w+/.test(r.slice(s.length))));const ru=(r,e,n,s)=>{for(const o of n||Object.keys(r)){const u=_e(r,o);if(u){const{_f:f,...m}=u;if(f){if(f.refs&&f.refs[0]&&e(f.refs[0],o)&&!s)return!0;if(f.ref&&e(f.ref,f.name)&&!s)return!0;if(ru(m,e))break}else if(Ut(m)&&ru(m,e))break}}};function cT(r,e,n){const s=_e(r,n);if(s||rf(n))return{error:s,name:n};const o=n.split(".");for(;o.length;){const u=o.join("."),f=_e(e,u),m=_e(r,u);if(f&&!Array.isArray(f)&&n!==u)return{name:n};if(m&&m.type)return{name:u,error:m};if(m&&m.root&&m.root.type)return{name:`${u}.root`,error:m.root};o.pop()}return{name:n}}var VO=(r,e,n,s)=>{n(r);const{name:o,...u}=r;return wn(u)||Object.keys(u).length>=Object.keys(e).length||Object.keys(u).find(f=>e[f]===(!s||ui.all))},MO=(r,e,n)=>!r||!e||r===e||iu(r).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),xO=(r,e,n,s,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(e||r):(n?s.isOnBlur:o.isOnBlur)?!r:(n?s.isOnChange:o.isOnChange)?r:!0,PO=(r,e)=>!Zg(_e(r,e)).length&&xt(r,e),kO=(r,e,n)=>{const s=iu(_e(r,n));return gt(s,"root",e[n]),gt(r,n,s),r};function hT(r,e,n="validate"){if(zn(r)||Array.isArray(r)&&r.every(zn)||Di(r)&&!r)return{type:n,message:zn(r)?r:"",ref:e}}var ho=r=>Ut(r)&&!xh(r)?r:{value:r,message:""},fT=async(r,e,n,s,o,u)=>{const{ref:f,refs:m,required:y,maxLength:p,minLength:E,min:S,max:b,pattern:L,validate:K,name:Y,valueAsNumber:H,mount:re}=r._f,X=_e(n,Y);if(!re||e.has(Y))return{};const se=m?m[0]:f,Ee=M=>{o&&se.reportValidity&&(se.setCustomValidity(Di(M)?"":M||""),se.reportValidity())},he={},ke=ep(f),O=Iu(f),R=ke||O,C=(H||Jg(f))&&kt(f.value)&&kt(X)||Mh(f)&&f.value===""||X===""||Array.isArray(X)&&!X.length,P=bO.bind(null,Y,s,he),N=(M,w,Me,Ue=hr.maxLength,Q=hr.minLength)=>{const le=M?w:Me;he[Y]={type:M?Ue:Q,message:le,ref:f,...P(M?Ue:Q,le)}};if(u?!Array.isArray(X)||!X.length:y&&(!R&&(C||vn(X))||Di(X)&&!X||O&&!Z1(m).isValid||ke&&!J1(m).isValid)){const{value:M,message:w}=zn(y)?{value:!!y,message:y}:ho(y);if(M&&(he[Y]={type:hr.required,message:w,ref:se,...P(hr.required,w)},!s))return Ee(w),he}if(!C&&(!vn(S)||!vn(b))){let M,w;const Me=ho(b),Ue=ho(S);if(!vn(X)&&!isNaN(X)){const Q=f.valueAsNumber||X&&+X;vn(Me.value)||(M=Q>Me.value),vn(Ue.value)||(w=Q<Ue.value)}else{const Q=f.valueAsDate||new Date(X),le=V=>new Date(new Date().toDateString()+" "+V),ve=f.type=="time",ze=f.type=="week";zn(Me.value)&&X&&(M=ve?le(X)>le(Me.value):ze?X>Me.value:Q>new Date(Me.value)),zn(Ue.value)&&X&&(w=ve?le(X)<le(Ue.value):ze?X<Ue.value:Q<new Date(Ue.value))}if((M||w)&&(N(!!M,Me.message,Ue.message,hr.max,hr.min),!s))return Ee(he[Y].message),he}if((p||E)&&!C&&(zn(X)||u&&Array.isArray(X))){const M=ho(p),w=ho(E),Me=!vn(M.value)&&X.length>+M.value,Ue=!vn(w.value)&&X.length<+w.value;if((Me||Ue)&&(N(Me,M.message,w.message),!s))return Ee(he[Y].message),he}if(L&&!C&&zn(X)){const{value:M,message:w}=ho(L);if(xh(M)&&!X.match(M)&&(he[Y]={type:hr.pattern,message:w,ref:f,...P(hr.pattern,w)},!s))return Ee(w),he}if(K){if(ci(K)){const M=await K(X,n),w=hT(M,se);if(w&&(he[Y]={...w,...P(hr.validate,w.message)},!s))return Ee(w.message),he}else if(Ut(K)){let M={};for(const w in K){if(!wn(M)&&!s)break;const Me=hT(await K[w](X,n),se,w);Me&&(M={...Me,...P(w,Me.message)},Ee(Me.message),s&&(he[Y]=M))}if(!wn(M)&&(he[Y]={ref:se,...M},!s))return he}}return Ee(!0),he};const LO={mode:ui.onSubmit,reValidateMode:ui.onChange,shouldFocusError:!0};function UO(r={}){let e={...LO,...r},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ci(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},o=Ut(e.defaultValues)||Ut(e.values)?Xt(e.defaultValues||e.values)||{}:{},u=e.shouldUnregister?{}:Xt(o),f={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},y,p=0;const E={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let S={...E};const b={array:nT(),state:nT()},L=e.criteriaMode===ui.all,K=D=>B=>{clearTimeout(p),p=setTimeout(D,B)},Y=async D=>{if(!e.disabled&&(E.isValid||S.isValid||D)){const B=e.resolver?wn((await O()).errors):await C(s,!0);B!==n.isValid&&b.state.next({isValid:B})}},H=(D,B)=>{!e.disabled&&(E.isValidating||E.validatingFields||S.isValidating||S.validatingFields)&&((D||Array.from(m.mount)).forEach($=>{$&&(B?gt(n.validatingFields,$,B):xt(n.validatingFields,$))}),b.state.next({validatingFields:n.validatingFields,isValidating:!wn(n.validatingFields)}))},re=(D,B=[],$,de,ce=!0,ae=!0)=>{if(de&&$&&!e.disabled){if(f.action=!0,ae&&Array.isArray(_e(s,D))){const ye=$(_e(s,D),de.argA,de.argB);ce&&gt(s,D,ye)}if(ae&&Array.isArray(_e(n.errors,D))){const ye=$(_e(n.errors,D),de.argA,de.argB);ce&&gt(n.errors,D,ye),PO(n.errors,D)}if((E.touchedFields||S.touchedFields)&&ae&&Array.isArray(_e(n.touchedFields,D))){const ye=$(_e(n.touchedFields,D),de.argA,de.argB);ce&&gt(n.touchedFields,D,ye)}(E.dirtyFields||S.dirtyFields)&&(n.dirtyFields=yo(o,u)),b.state.next({name:D,isDirty:N(D,B),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else gt(u,D,B)},X=(D,B)=>{gt(n.errors,D,B),b.state.next({errors:n.errors})},se=D=>{n.errors=D,b.state.next({errors:n.errors,isValid:!1})},Ee=(D,B,$,de)=>{const ce=_e(s,D);if(ce){const ae=_e(u,D,kt($)?_e(o,D):$);kt(ae)||de&&de.defaultChecked||B?gt(u,D,B?ae:aT(ce._f)):Me(D,ae),f.mount&&Y()}},he=(D,B,$,de,ce)=>{let ae=!1,ye=!1;const Oe={name:D};if(!e.disabled){if(!$||de){(E.isDirty||S.isDirty)&&(ye=n.isDirty,n.isDirty=Oe.isDirty=N(),ae=ye!==Oe.isDirty);const je=us(_e(o,D),B);ye=!!_e(n.dirtyFields,D),je?xt(n.dirtyFields,D):gt(n.dirtyFields,D,!0),Oe.dirtyFields=n.dirtyFields,ae=ae||(E.dirtyFields||S.dirtyFields)&&ye!==!je}if($){const je=_e(n.touchedFields,D);je||(gt(n.touchedFields,D,$),Oe.touchedFields=n.touchedFields,ae=ae||(E.touchedFields||S.touchedFields)&&je!==$)}ae&&ce&&b.state.next(Oe)}return ae?Oe:{}},ke=(D,B,$,de)=>{const ce=_e(n.errors,D),ae=(E.isValid||S.isValid)&&Di(B)&&n.isValid!==B;if(e.delayError&&$?(y=K(()=>X(D,$)),y(e.delayError)):(clearTimeout(p),y=null,$?gt(n.errors,D,$):xt(n.errors,D)),($?!us(ce,$):ce)||!wn(de)||ae){const ye={...de,...ae&&Di(B)?{isValid:B}:{},errors:n.errors,name:D};n={...n,...ye},b.state.next(ye)}},O=async D=>{H(D,!0);const B=await e.resolver(u,e.context,DO(D||m.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return H(D),B},R=async D=>{const{errors:B}=await O(D);if(D)for(const $ of D){const de=_e(B,$);de?gt(n.errors,$,de):xt(n.errors,$)}else n.errors=B;return B},C=async(D,B,$={valid:!0})=>{for(const de in D){const ce=D[de];if(ce){const{_f:ae,...ye}=ce;if(ae){const Oe=m.array.has(ae.name),je=ce._f&&NO(ce._f);je&&E.validatingFields&&H([ae.name],!0);const rt=await fT(ce,m.disabled,u,L,e.shouldUseNativeValidation&&!B,Oe);if(je&&E.validatingFields&&H([ae.name]),rt[ae.name]&&($.valid=!1,B))break;!B&&(_e(rt,ae.name)?Oe?kO(n.errors,rt,ae.name):gt(n.errors,ae.name,rt[ae.name]):xt(n.errors,ae.name))}!wn(ye)&&await C(ye,B,$)}}return $.valid},P=()=>{for(const D of m.unMount){const B=_e(s,D);B&&(B._f.refs?B._f.refs.every($=>!Em($)):!Em(B._f.ref))&&bt(D)}m.unMount=new Set},N=(D,B)=>!e.disabled&&(D&&B&&gt(u,D,B),!us(V(),o)),M=(D,B,$)=>SO(D,m,{...f.mount?u:kt(B)?o:zn(D)?{[D]:B}:B},$,B),w=D=>Zg(_e(f.mount?u:o,D,e.shouldUnregister?_e(o,D,[]):[])),Me=(D,B,$={})=>{const de=_e(s,D);let ce=B;if(de){const ae=de._f;ae&&(!ae.disabled&&gt(u,D,W1(B,ae)),ce=Mh(ae.ref)&&vn(B)?"":B,X1(ae.ref)?[...ae.ref.options].forEach(ye=>ye.selected=ce.includes(ye.value)):ae.refs?Iu(ae.ref)?ae.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(ce)?ye.checked=!!ce.find(Oe=>Oe===ye.value):ye.checked=ce===ye.value||!!ce)}):ae.refs.forEach(ye=>ye.checked=ye.value===ce):Jg(ae.ref)?ae.ref.value="":(ae.ref.value=ce,ae.ref.type||b.state.next({name:D,values:Xt(u)})))}($.shouldDirty||$.shouldTouch)&&he(D,ce,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&ze(D)},Ue=(D,B,$)=>{for(const de in B){if(!B.hasOwnProperty(de))return;const ce=B[de],ae=D+"."+de,ye=_e(s,ae);(m.array.has(D)||Ut(ce)||ye&&!ye._f)&&!ua(ce)?Ue(ae,ce,$):Me(ae,ce,$)}},Q=(D,B,$={})=>{const de=_e(s,D),ce=m.array.has(D),ae=Xt(B);gt(u,D,ae),ce?(b.array.next({name:D,values:Xt(u)}),(E.isDirty||E.dirtyFields||S.isDirty||S.dirtyFields)&&$.shouldDirty&&b.state.next({name:D,dirtyFields:yo(o,u),isDirty:N(D,ae)})):de&&!de._f&&!vn(ae)?Ue(D,ae,$):Me(D,ae,$),uT(D,m)&&b.state.next({...n,name:D}),b.state.next({name:f.mount?D:void 0,values:Xt(u)})},le=async D=>{f.mount=!0;const B=D.target;let $=B.name,de=!0;const ce=_e(s,$),ae=je=>{de=Number.isNaN(je)||ua(je)&&isNaN(je.getTime())||us(je,_e(u,$,je))},ye=oT(e.mode),Oe=oT(e.reValidateMode);if(ce){let je,rt;const br=B.type?aT(ce._f):pO(D),In=D.type===tT.BLUR||D.type===tT.FOCUS_OUT,Sa=!OO(ce._f)&&!e.resolver&&!_e(n.errors,$)&&!ce._f.deps||xO(In,_e(n.touchedFields,$),n.isSubmitted,Oe,ye),Tn=uT($,m,In);gt(u,$,br),In?(!B||!B.readOnly)&&(ce._f.onBlur&&ce._f.onBlur(D),y&&y(0)):ce._f.onChange&&ce._f.onChange(D);const jn=he($,br,In),Dn=!wn(jn)||Tn;if(!In&&b.state.next({name:$,type:D.type,values:Xt(u)}),Sa)return(E.isValid||S.isValid)&&(e.mode==="onBlur"?In&&Y():In||Y()),Dn&&b.state.next({name:$,...Tn?{}:jn});if(!In&&Tn&&b.state.next({...n}),e.resolver){const{errors:mn}=await O([$]);if(ae(br),de){const mi=cT(n.errors,s,$),Fi=cT(mn,s,mi.name||$);je=Fi.error,$=Fi.name,rt=wn(mn)}}else H([$],!0),je=(await fT(ce,m.disabled,u,L,e.shouldUseNativeValidation))[$],H([$]),ae(br),de&&(je?rt=!1:(E.isValid||S.isValid)&&(rt=await C(s,!0)));de&&(ce._f.deps&&(!Array.isArray(ce._f.deps)||ce._f.deps.length>0)&&ze(ce._f.deps),ke($,rt,je,jn))}},ve=(D,B)=>{if(_e(n.errors,B)&&D.focus)return D.focus(),1},ze=async(D,B={})=>{let $,de;const ce=iu(D);if(e.resolver){const ae=await R(kt(D)?D:ce);$=wn(ae),de=D?!ce.some(ye=>_e(ae,ye)):$}else D?(de=(await Promise.all(ce.map(async ae=>{const ye=_e(s,ae);return await C(ye&&ye._f?{[ae]:ye}:ye)}))).every(Boolean),!(!de&&!n.isValid)&&Y()):de=$=await C(s);return b.state.next({...!zn(D)||(E.isValid||S.isValid)&&$!==n.isValid?{}:{name:D},...e.resolver||!D?{isValid:$}:{},errors:n.errors}),B.shouldFocus&&!de&&ru(s,ve,D?ce:m.mount),de},V=(D,B)=>{let $={...f.mount?u:o};return B&&($=Y1(B.dirtyFields?n.dirtyFields:n.touchedFields,$)),kt(D)?$:zn(D)?_e($,D):D.map(de=>_e($,de))},ne=(D,B)=>({invalid:!!_e((B||n).errors,D),isDirty:!!_e((B||n).dirtyFields,D),error:_e((B||n).errors,D),isValidating:!!_e(n.validatingFields,D),isTouched:!!_e((B||n).touchedFields,D)}),me=D=>{D&&iu(D).forEach(B=>xt(n.errors,B)),b.state.next({errors:D?n.errors:{}})},fe=(D,B,$)=>{const de=(_e(s,D,{_f:{}})._f||{}).ref,ce=_e(n.errors,D)||{},{ref:ae,message:ye,type:Oe,...je}=ce;gt(n.errors,D,{...je,...B,ref:de}),b.state.next({name:D,errors:n.errors,isValid:!1}),$&&$.shouldFocus&&de&&de.focus&&de.focus()},Te=(D,B)=>ci(D)?b.state.subscribe({next:$=>"values"in $&&D(M(void 0,B),$)}):M(D,B,!0),Be=D=>b.state.subscribe({next:B=>{MO(D.name,B.name,D.exact)&&VO(B,D.formState||E,sn,D.reRenderRoot)&&D.callback({values:{...u},...n,...B,defaultValues:o})}}).unsubscribe,Re=D=>(f.mount=!0,S={...S,...D.formState},Be({...D,formState:S})),bt=(D,B={})=>{for(const $ of D?iu(D):m.mount)m.mount.delete($),m.array.delete($),B.keepValue||(xt(s,$),xt(u,$)),!B.keepError&&xt(n.errors,$),!B.keepDirty&&xt(n.dirtyFields,$),!B.keepTouched&&xt(n.touchedFields,$),!B.keepIsValidating&&xt(n.validatingFields,$),!e.shouldUnregister&&!B.keepDefaultValue&&xt(o,$);b.state.next({values:Xt(u)}),b.state.next({...n,...B.keepDirty?{isDirty:N()}:{}}),!B.keepIsValid&&Y()},We=({disabled:D,name:B})=>{(Di(D)&&f.mount||D||m.disabled.has(B))&&(D?m.disabled.add(B):m.disabled.delete(B))},dn=(D,B={})=>{let $=_e(s,D);const de=Di(B.disabled)||Di(e.disabled);return gt(s,D,{...$||{},_f:{...$&&$._f?$._f:{ref:{name:D}},name:D,mount:!0,...B}}),m.mount.add(D),$?We({disabled:Di(B.disabled)?B.disabled:e.disabled,name:D}):Ee(D,!0,B.value),{...de?{disabled:B.disabled||e.disabled}:{},...e.progressive?{required:!!B.required,min:Gl(B.min),max:Gl(B.max),minLength:Gl(B.minLength),maxLength:Gl(B.maxLength),pattern:Gl(B.pattern)}:{},name:D,onChange:le,onBlur:le,ref:ce=>{if(ce){dn(D,B),$=_e(s,D);const ae=kt(ce.value)&&ce.querySelectorAll&&ce.querySelectorAll("input,select,textarea")[0]||ce,ye=wO(ae),Oe=$._f.refs||[];if(ye?Oe.find(je=>je===ae):ae===$._f.ref)return;gt(s,D,{_f:{...$._f,...ye?{refs:[...Oe.filter(Em),ae,...Array.isArray(_e(o,D))?[{}]:[]],ref:{type:ae.type,name:D}}:{ref:ae}}}),Ee(D,!1,void 0,ae)}else $=_e(s,D,{}),$._f&&($._f.mount=!1),(e.shouldUnregister||B.shouldUnregister)&&!(_O(m.array,D)&&f.action)&&m.unMount.add(D)}}},Bi=()=>e.shouldFocusError&&ru(s,ve,m.mount),Sr=D=>{Di(D)&&(b.state.next({disabled:D}),ru(s,(B,$)=>{const de=_e(s,$);de&&(B.disabled=de._f.disabled||D,Array.isArray(de._f.refs)&&de._f.refs.forEach(ce=>{ce.disabled=de._f.disabled||D}))},0,!1))},ji=(D,B)=>async $=>{let de;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let ce=Xt(u);if(b.state.next({isSubmitting:!0}),e.resolver){const{errors:ae,values:ye}=await O();n.errors=ae,ce=Xt(ye)}else await C(s);if(m.disabled.size)for(const ae of m.disabled)xt(ce,ae);if(xt(n.errors,"root"),wn(n.errors)){b.state.next({errors:{}});try{await D(ce,$)}catch(ae){de=ae}}else B&&await B({...n.errors},$),Bi(),setTimeout(Bi);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wn(n.errors)&&!de,submitCount:n.submitCount+1,errors:n.errors}),de)throw de},qi=(D,B={})=>{_e(s,D)&&(kt(B.defaultValue)?Q(D,Xt(_e(o,D))):(Q(D,B.defaultValue),gt(o,D,Xt(B.defaultValue))),B.keepTouched||xt(n.touchedFields,D),B.keepDirty||(xt(n.dirtyFields,D),n.isDirty=B.defaultValue?N(D,Xt(_e(o,D))):N()),B.keepError||(xt(n.errors,D),E.isValid&&Y()),b.state.next({...n}))},Hi=(D,B={})=>{const $=D?Xt(D):o,de=Xt($),ce=wn(D),ae=ce?o:de;if(B.keepDefaultValues||(o=$),!B.keepValues){if(B.keepDirtyValues){const ye=new Set([...m.mount,...Object.keys(yo(o,u))]);for(const Oe of Array.from(ye))_e(n.dirtyFields,Oe)?gt(ae,Oe,_e(u,Oe)):Q(Oe,_e(ae,Oe))}else{if($g&&kt(D))for(const ye of m.mount){const Oe=_e(s,ye);if(Oe&&Oe._f){const je=Array.isArray(Oe._f.refs)?Oe._f.refs[0]:Oe._f.ref;if(Mh(je)){const rt=je.closest("form");if(rt){rt.reset();break}}}}if(B.keepFieldsRef)for(const ye of m.mount)Q(ye,_e(ae,ye));else s={}}u=e.shouldUnregister?B.keepDefaultValues?Xt(o):{}:Xt(ae),b.array.next({values:{...ae}}),b.state.next({values:{...ae}})}m={mount:B.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!E.isValid||!!B.keepIsValid||!!B.keepDirtyValues,f.watch=!!e.shouldUnregister,b.state.next({submitCount:B.keepSubmitCount?n.submitCount:0,isDirty:ce?!1:B.keepDirty?n.isDirty:!!(B.keepDefaultValues&&!us(D,o)),isSubmitted:B.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ce?{}:B.keepDirtyValues?B.keepDefaultValues&&u?yo(o,u):n.dirtyFields:B.keepDefaultValues&&D?yo(o,D):B.keepDirty?n.dirtyFields:{},touchedFields:B.keepTouched?n.touchedFields:{},errors:B.keepErrors?n.errors:{},isSubmitSuccessful:B.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Aa=(D,B)=>Hi(ci(D)?D(u):D,B),bs=(D,B={})=>{const $=_e(s,D),de=$&&$._f;if(de){const ce=de.refs?de.refs[0]:de.ref;ce.focus&&(ce.focus(),B.shouldSelect&&ci(ce.select)&&ce.select())}},sn=D=>{n={...n,...D}},Tt={control:{register:dn,unregister:bt,getFieldState:ne,handleSubmit:ji,setError:fe,_subscribe:Be,_runSchema:O,_focusError:Bi,_getWatch:M,_getDirty:N,_setValid:Y,_setFieldArray:re,_setDisabledField:We,_setErrors:se,_getFieldArray:w,_reset:Hi,_resetDefaultValues:()=>ci(e.defaultValues)&&e.defaultValues().then(D=>{Aa(D,e.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:Sr,_subjects:b,_proxyFormState:E,get _fields(){return s},get _formValues(){return u},get _state(){return f},set _state(D){f=D},get _defaultValues(){return o},get _names(){return m},set _names(D){m=D},get _formState(){return n},get _options(){return e},set _options(D){e={...e,...D}}},subscribe:Re,trigger:ze,register:dn,handleSubmit:ji,watch:Te,setValue:Q,getValues:V,reset:Aa,resetField:qi,clearErrors:me,unregister:bt,setError:fe,setFocus:bs,getFieldState:ne};return{...Tt,formControl:Tt}}function dT(r={}){const e=Un.useRef(void 0),n=Un.useRef(void 0),[s,o]=Un.useState({isDirty:!1,isValidating:!1,isLoading:ci(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,isReady:!1,defaultValues:ci(r.defaultValues)?void 0:r.defaultValues});if(!e.current)if(r.formControl)e.current={...r.formControl,formState:s},r.defaultValues&&!ci(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions);else{const{formControl:f,...m}=UO(r);e.current={...m,formState:s}}const u=e.current.control;return u._options=r,AO(()=>{const f=u._subscribe({formState:u._proxyFormState,callback:()=>o({...u._formState}),reRenderRoot:!0});return o(m=>({...m,isReady:!0})),u._formState.isReady=!0,f},[u]),Un.useEffect(()=>u._disableForm(r.disabled),[u,r.disabled]),Un.useEffect(()=>{r.mode&&(u._options.mode=r.mode),r.reValidateMode&&(u._options.reValidateMode=r.reValidateMode)},[u,r.mode,r.reValidateMode]),Un.useEffect(()=>{r.errors&&(u._setErrors(r.errors),u._focusError())},[u,r.errors]),Un.useEffect(()=>{r.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,r.shouldUnregister]),Un.useEffect(()=>{if(u._proxyFormState.isDirty){const f=u._getDirty();f!==s.isDirty&&u._subjects.state.next({isDirty:f})}},[u,s.isDirty]),Un.useEffect(()=>{r.values&&!us(r.values,n.current)?(u._reset(r.values,{keepFieldsRef:!0,...u._options.resetOptions}),n.current=r.values,o(f=>({...f}))):u._resetDefaultValues()},[u,r.values]),Un.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),e.current.formState=TO(s,u),e.current}function zO({bgUser:r,setBgUser:e,db:n}){const[s,o]=Z.useState(!1),[u,f]=Z.useState(!1),{handleSubmit:m,register:y,reset:p,formState:{errors:E}}=dT({mode:"onChange"}),{handleSubmit:S,register:b,reset:L,formState:{errors:K}}=dT({mode:"onChange"});function Y(){o(!0)}function H(){f(!0)}async function re(se){try{if(n&&r&&r.username!==se.username){const Ee=Gm(n,"users",r.uid);await QE(Ee,{username:se.username}),e({...r,username:se.username})}o(!1),p(se)}catch(Ee){console.error("Error saving username:",Ee)}}async function X(se){try{if(n&&r&&r.bggUsername!==se.bggUsername){const Ee=Gm(n,"users",r.uid);await QE(Ee,{bggUsername:se.bggUsername}),e({...r,bggUsername:se.bggUsername})}f(!1),L(se)}catch(Ee){console.error("Error saving BGG username:",Ee)}}return oe.jsx("div",{className:"profile-page",children:r?oe.jsxs(oe.Fragment,{children:[oe.jsxs("h2",{className:"profile-name-image",children:[r.photoURL&&oe.jsx("img",{className:"profile-image",src:r.photoURL,alt:"Photo of "+r.displayName}),r.displayName]}),oe.jsxs("div",{children:[oe.jsxs("form",{className:"profile-grid",onSubmit:m(re),children:[oe.jsx("label",{className:"field-name",htmlFor:"username",children:"Username:"}),s?oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{children:[oe.jsx("div",{className:"field-error-placeholder",children:E.username&&oe.jsx("div",{className:"field-error",children:E.username.message})}),oe.jsx("input",{id:"username",className:"field-input",type:"text",defaultValue:r.username,...y("username",{maxLength:{value:20,message:"max 20 characters"}})})]}),oe.jsxs("div",{className:"field-buttons",children:[oe.jsx("button",{className:"profile-button",type:"submit",children:oe.jsx(WE,{})}),oe.jsx("button",{className:"profile-button",onClick:()=>p(),children:oe.jsx(JE,{})})]})]}):oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{children:r.username}),oe.jsx("button",{className:"profile-button",onClick:Y,children:oe.jsx(eT,{})})]})]}),oe.jsxs("form",{className:"profile-grid",onSubmit:S(X),children:[oe.jsxs("label",{className:"field-name",htmlFor:"bggUsername",children:["BoardGameGeek ",oe.jsx("br",{})," Username:"]}),u?oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{children:[oe.jsx("div",{className:"field-error-placeholder",children:K.bggUsername&&oe.jsx("div",{className:"field-error",children:K.bggUsername.message})}),oe.jsx("input",{id:"bggUsername",className:"field-input",type:"text",defaultValue:r.bggUsername,...b("bggUsername",{maxLength:{value:20,message:"max 20 characters"},pattern:{value:/^\w+$/,message:"unsupported characters"}})})]}),oe.jsxs("div",{className:"field-buttons",children:[oe.jsx("button",{className:"profile-button",type:"submit",children:oe.jsx(WE,{})}),oe.jsx("button",{className:"profile-button",onClick:()=>L(),children:oe.jsx(JE,{})})]})]}):oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{children:r.bggUsername}),oe.jsx("button",{className:"profile-button",onClick:H,children:oe.jsx(eT,{})})]})]})]})]}):oe.jsx(oe.Fragment,{})})}function BO({auth:r}){async function e(){try{r&&await hR(r)}catch(n){console.error("Sign-out error:",n)}}return oe.jsx("button",{onClick:e,children:"Sign Out"})}function jO({bgUser:r,auth:e}){return oe.jsx(oe.Fragment,{children:r&&oe.jsxs("div",{className:"nav-div",children:[oe.jsx("div",{children:oe.jsx(Oh,{to:Vh.home,children:oe.jsx("button",{children:"Home"})})}),oe.jsxs("div",{className:"button-spacing",children:[oe.jsx(Oh,{to:Vh.profile,children:oe.jsx("button",{children:"Profile"})}),oe.jsx(BO,{auth:e})]})]})})}function qO(){return oe.jsx("div",{style:{display:"flex",justifyContent:"center"},children:oe.jsx("h1",{children:"Welcome to Board Game Party Planner"})})}function HO({auth:r}){async function e(){if(r)try{const n=new fr;n.setCustomParameters({prompt:"select_account"}),await OR(r,n)}catch(n){console.error("Sign-in error:",n)}}return oe.jsxs("button",{className:"gsi-material-button",onClick:e,children:[oe.jsx("div",{className:"gsi-material-button-state"}),oe.jsxs("div",{className:"gsi-material-button-content-wrapper",children:[oe.jsx("div",{className:"gsi-material-button-icon",children:oe.jsxs("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{display:"block"},children:[oe.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),oe.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),oe.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),oe.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),oe.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]})}),oe.jsx("span",{className:"gsi-material-button-contents",children:"Sign in"}),oe.jsx("span",{style:{display:"none"},children:"Sign in with Google"})]})]})}function FO(){const[r,e]=Z.useState(null),[n,s]=Z.useState(null),[o,u]=Z.useState(null),[f,m]=Z.useState(!0);return Z.useEffect(()=>{try{const y=bT(fO),p=AC(y),E=RD(y);s(p),u(E);const S=cR(p,async b=>{if(b)try{const L=Gm(E,"users",b.uid),K=await zD(L);if(K.exists()){const Y=K.data();e(Y)}else{const Y={uid:b.uid,email:b.email,displayName:b.displayName,photoURL:b.photoURL,createdAt:new Date};await jD(L,Y,{merge:!0}),e(Y)}}catch(L){console.error("Error setting user profile in Firestore:",L)}else e(null);m(!1)});return()=>S()}catch(y){console.error("Firebase initialization failed:",y)}},[]),oe.jsx(nO,{children:f&&!r?oe.jsxs("div",{className:"loader-container",children:[oe.jsx("h1",{children:"Loading..."}),oe.jsx("div",{className:"loader"})]}):oe.jsx(oe.Fragment,{children:r?oe.jsxs("div",{className:"app-div",children:[oe.jsx(jO,{bgUser:r,auth:n}),oe.jsxs(MN,{children:[oe.jsx(Ym,{path:Vh.home,element:oe.jsx(qO,{})}),oe.jsx(Ym,{path:Vh.profile,element:oe.jsx(zO,{bgUser:r,setBgUser:e,db:o})})]})]}):oe.jsxs("div",{className:"sign-in-container",children:[oe.jsx("h1",{children:"Welcome to Board Game Party Planner"}),oe.jsx(HO,{auth:n})]})})})}LS.createRoot(document.getElementById("root")).render(oe.jsx(Z.StrictMode,{children:oe.jsx(FO,{})}));
