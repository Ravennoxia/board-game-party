(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function mb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var gm={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function gb(){if(kv)return Jl;kv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Jl.Fragment=e,Jl.jsx=n,Jl.jsxs=n,Jl}var Uv;function pb(){return Uv||(Uv=1,gm.exports=gb()),gm.exports}var te=pb(),pm={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function yb(){if(Lv)return Ue;Lv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,Y={};function q(V,re,ge){this.props=V,this.context=re,this.refs=Y,this.updater=ge||k}q.prototype.isReactComponent={},q.prototype.setState=function(V,re){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,re,"setState")},q.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function se(){}se.prototype=q.prototype;function F(V,re,ge){this.props=V,this.context=re,this.refs=Y,this.updater=ge||k}var ae=F.prototype=new se;ae.constructor=F,Q(ae,q.prototype),ae.isPureReactComponent=!0;var we=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},ke=Object.prototype.hasOwnProperty;function O(V,re,ge,fe,Te,ze){return ge=ze.ref,{$$typeof:i,type:V,key:re,ref:ge!==void 0?ge:null,props:ze}}function R(V,re){return O(V.type,re,void 0,void 0,void 0,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function P(V){var re={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ge){return re[ge]})}var N=/\/+/g;function x(V,re){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):re.toString(36)}function w(){}function xe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(w,w):(V.status="pending",V.then(function(re){V.status==="pending"&&(V.status="fulfilled",V.value=re)},function(re){V.status==="pending"&&(V.status="rejected",V.reason=re)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Le(V,re,ge,fe,Te){var ze=typeof V;(ze==="undefined"||ze==="boolean")&&(V=null);var Re=!1;if(V===null)Re=!0;else switch(ze){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(V.$$typeof){case i:case e:Re=!0;break;case E:return Re=V._init,Le(Re(V._payload),re,ge,fe,Te)}}if(Re)return Te=Te(V),Re=fe===""?"."+x(V,0):fe,we(Te)?(ge="",Re!=null&&(ge=Re.replace(N,"$&/")+"/"),Le(Te,re,ge,"",function(mn){return mn})):Te!=null&&(I(Te)&&(Te=R(Te,ge+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(N,"$&/")+"/")+Re)),re.push(Te)),1;Re=0;var bt=fe===""?".":fe+":";if(we(V))for(var We=0;We<V.length;We++)fe=V[We],ze=bt+x(fe,We),Re+=Le(fe,re,ge,ze,Te);else if(We=b(V),typeof We=="function")for(V=We.call(V),We=0;!(fe=V.next()).done;)fe=fe.value,ze=bt+x(fe,We++),Re+=Le(fe,re,ge,ze,Te);else if(ze==="object"){if(typeof V.then=="function")return Le(xe(V),re,ge,fe,Te);throw re=String(V),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Re}function $(V,re,ge){if(V==null)return V;var fe=[],Te=0;return Le(V,fe,"","",function(ze){return re.call(ge,ze,Te++)}),fe}function le(V){if(V._status===-1){var re=V._result;re=re(),re.then(function(ge){(V._status===0||V._status===-1)&&(V._status=1,V._result=ge)},function(ge){(V._status===0||V._status===-1)&&(V._status=2,V._result=ge)}),V._status===-1&&(V._status=0,V._result=re)}if(V._status===1)return V._result.default;throw V._result}var Ee=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Be(){}return Ue.Children={map:$,forEach:function(V,re,ge){$(V,function(){re.apply(this,arguments)},ge)},count:function(V){var re=0;return $(V,function(){re++}),re},toArray:function(V){return $(V,function(re){return re})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ue.Component=q,Ue.Fragment=n,Ue.Profiler=o,Ue.PureComponent=F,Ue.StrictMode=s,Ue.Suspense=p,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(V){return he.H.useMemoCache(V)}},Ue.cache=function(V){return function(){return V.apply(null,arguments)}},Ue.cloneElement=function(V,re,ge){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var fe=Q({},V.props),Te=V.key,ze=void 0;if(re!=null)for(Re in re.ref!==void 0&&(ze=void 0),re.key!==void 0&&(Te=""+re.key),re)!ke.call(re,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&re.ref===void 0||(fe[Re]=re[Re]);var Re=arguments.length-2;if(Re===1)fe.children=ge;else if(1<Re){for(var bt=Array(Re),We=0;We<Re;We++)bt[We]=arguments[We+2];fe.children=bt}return O(V.type,Te,void 0,void 0,ze,fe)},Ue.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ue.createElement=function(V,re,ge){var fe,Te={},ze=null;if(re!=null)for(fe in re.key!==void 0&&(ze=""+re.key),re)ke.call(re,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Te[fe]=re[fe]);var Re=arguments.length-2;if(Re===1)Te.children=ge;else if(1<Re){for(var bt=Array(Re),We=0;We<Re;We++)bt[We]=arguments[We+2];Te.children=bt}if(V&&V.defaultProps)for(fe in Re=V.defaultProps,Re)Te[fe]===void 0&&(Te[fe]=Re[fe]);return O(V,ze,void 0,void 0,null,Te)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(V){return{$$typeof:m,render:V}},Ue.isValidElement=I,Ue.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:le}},Ue.memo=function(V,re){return{$$typeof:g,type:V,compare:re===void 0?null:re}},Ue.startTransition=function(V){var re=he.T,ge={};he.T=ge;try{var fe=V(),Te=he.S;Te!==null&&Te(ge,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Be,Ee)}catch(ze){Ee(ze)}finally{he.T=re}},Ue.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Ue.use=function(V){return he.H.use(V)},Ue.useActionState=function(V,re,ge){return he.H.useActionState(V,re,ge)},Ue.useCallback=function(V,re){return he.H.useCallback(V,re)},Ue.useContext=function(V){return he.H.useContext(V)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(V,re){return he.H.useDeferredValue(V,re)},Ue.useEffect=function(V,re,ge){var fe=he.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(V,re)},Ue.useId=function(){return he.H.useId()},Ue.useImperativeHandle=function(V,re,ge){return he.H.useImperativeHandle(V,re,ge)},Ue.useInsertionEffect=function(V,re){return he.H.useInsertionEffect(V,re)},Ue.useLayoutEffect=function(V,re){return he.H.useLayoutEffect(V,re)},Ue.useMemo=function(V,re){return he.H.useMemo(V,re)},Ue.useOptimistic=function(V,re){return he.H.useOptimistic(V,re)},Ue.useReducer=function(V,re,ge){return he.H.useReducer(V,re,ge)},Ue.useRef=function(V){return he.H.useRef(V)},Ue.useState=function(V){return he.H.useState(V)},Ue.useSyncExternalStore=function(V,re,ge){return he.H.useSyncExternalStore(V,re,ge)},Ue.useTransition=function(){return he.H.useTransition()},Ue.version="19.1.1",Ue}var Bv;function yg(){return Bv||(Bv=1,pm.exports=yb()),pm.exports}var X=yg();const Ln=mb(X);var ym={exports:{}},eu={},_m={exports:{}},vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function _b(){return zv||(zv=1,(function(i){function e($,le){var Ee=$.length;$.push(le);e:for(;0<Ee;){var Be=Ee-1>>>1,V=$[Be];if(0<o(V,le))$[Be]=le,$[Ee]=V,Ee=Be;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var le=$[0],Ee=$.pop();if(Ee!==le){$[0]=Ee;e:for(var Be=0,V=$.length,re=V>>>1;Be<re;){var ge=2*(Be+1)-1,fe=$[ge],Te=ge+1,ze=$[Te];if(0>o(fe,Ee))Te<V&&0>o(ze,fe)?($[Be]=ze,$[Te]=Ee,Be=Te):($[Be]=fe,$[ge]=Ee,Be=ge);else if(Te<V&&0>o(ze,Ee))$[Be]=ze,$[Te]=Ee,Be=Te;else break e}}return le}function o($,le){var Ee=$.sortIndex-le.sortIndex;return Ee!==0?Ee:$.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,T=null,b=3,k=!1,Q=!1,Y=!1,q=!1,se=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function we($){for(var le=n(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=$)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(g)}}function he($){if(Y=!1,we($),!Q)if(n(p)!==null)Q=!0,ke||(ke=!0,x());else{var le=n(g);le!==null&&Le(he,le.startTime-$)}}var ke=!1,O=-1,R=5,I=-1;function P(){return q?!0:!(i.unstable_now()-I<R)}function N(){if(q=!1,ke){var $=i.unstable_now();I=$;var le=!0;try{e:{Q=!1,Y&&(Y=!1,F(O),O=-1),k=!0;var Ee=b;try{t:{for(we($),T=n(p);T!==null&&!(T.expirationTime>$&&P());){var Be=T.callback;if(typeof Be=="function"){T.callback=null,b=T.priorityLevel;var V=Be(T.expirationTime<=$);if($=i.unstable_now(),typeof V=="function"){T.callback=V,we($),le=!0;break t}T===n(p)&&s(p),we($)}else s(p);T=n(p)}if(T!==null)le=!0;else{var re=n(g);re!==null&&Le(he,re.startTime-$),le=!1}}break e}finally{T=null,b=Ee,k=!1}le=void 0}}finally{le?x():ke=!1}}}var x;if(typeof ae=="function")x=function(){ae(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,xe=w.port2;w.port1.onmessage=N,x=function(){xe.postMessage(null)}}else x=function(){se(N,0)};function Le($,le){O=se(function(){$(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function($){switch(b){case 1:case 2:case 3:var le=3;break;default:le=b}var Ee=b;b=le;try{return $()}finally{b=Ee}},i.unstable_requestPaint=function(){q=!0},i.unstable_runWithPriority=function($,le){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Ee=b;b=$;try{return le()}finally{b=Ee}},i.unstable_scheduleCallback=function($,le,Ee){var Be=i.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Be+Ee:Be):Ee=Be,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Ee+V,$={id:E++,callback:le,priorityLevel:$,startTime:Ee,expirationTime:V,sortIndex:-1},Ee>Be?($.sortIndex=Ee,e(g,$),n(p)===null&&$===n(g)&&(Y?(F(O),O=-1):Y=!0,Le(he,Ee-Be))):($.sortIndex=V,e(p,$),Q||k||(Q=!0,ke||(ke=!0,x()))),$},i.unstable_shouldYield=P,i.unstable_wrapCallback=function($){var le=b;return function(){var Ee=b;b=le;try{return $.apply(this,arguments)}finally{b=Ee}}}})(vm)),vm}var jv;function vb(){return jv||(jv=1,_m.exports=_b()),_m.exports}var Em={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function Eb(){if(Fv)return un;Fv=1;var i=yg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,un.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},un.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},un.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},un.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},un.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},un.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},un.requestFormReset=function(p){s.d.r(p)},un.unstable_batchedUpdates=function(p,g){return p(g)},un.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},un.useFormStatus=function(){return f.H.useHostTransitionStatus()},un.version="19.1.1",un}var qv;function Tb(){if(qv)return Em.exports;qv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Em.exports=Eb(),Em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function Ab(){if(Hv)return eu;Hv=1;var i=vb(),e=yg(),n=Tb();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,A=h.child;A;){if(A===a){v=!0,a=h,l=d;break}if(A===l){v=!0,l=h,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,l=h;break}if(A===l){v=!0,l=d,a=h;break}A=A.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case q:return"Profiler";case Y:return"StrictMode";case he:return"Suspense";case ke:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case ae:return(t.displayName||"Context")+".Provider";case F:return(t._context.displayName||"Context")+".Consumer";case we:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return r=t.displayName||null,r!==null?r:xe(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return xe(t(r))}catch{}}return null}var Le=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Be=[],V=-1;function re(t){return{current:t}}function ge(t){0>V||(t.current=Be[V],Be[V]=null,V--)}function fe(t,r){V++,Be[V]=t.current,t.current=r}var Te=re(null),ze=re(null),Re=re(null),bt=re(null);function We(t,r){switch(fe(Re,r),fe(ze,t),fe(Te,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?cv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=cv(r),t=hv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ge(Te),fe(Te,t)}function mn(){ge(Te),ge(ze),ge(Re)}function Fi(t){t.memoizedState!==null&&fe(bt,t);var r=Te.current,a=hv(r,t.type);r!==a&&(fe(ze,t),fe(Te,a))}function Rr(t){ze.current===t&&(ge(Te),ge(ze)),bt.current===t&&(ge(bt),Yl._currentValue=Ee)}var qi=Object.prototype.hasOwnProperty,Hi=i.unstable_scheduleCallback,Gi=i.unstable_cancelCallback,Ra=i.unstable_shouldYield,Ns=i.unstable_requestPaint,an=i.unstable_now,Xo=i.unstable_getCurrentPriorityLevel,Tt=i.unstable_ImmediatePriority,D=i.unstable_UserBlockingPriority,z=i.unstable_NormalPriority,Z=i.unstable_LowPriority,de=i.unstable_IdlePriority,ce=i.log,oe=i.unstable_setDisableYieldValue,_e=null,Oe=null;function je(t){if(typeof ce=="function"&&oe(t),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(_e,t)}catch{}}var rt=Math.clz32?Math.clz32:Ia,Ir=Math.log,Cn=Math.LN2;function Ia(t){return t>>>=0,t===0?32:31-(Ir(t)/Cn|0)|0}var Tn=256,Fn=4194304;function Dn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gn(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=Dn(l):(v&=A,v!==0?h=Dn(v):a||(a=A&~t,a!==0&&(h=Dn(a))))):(A=l&~d,A!==0?h=Dn(A):v!==0?h=Dn(v):a||(a=l&~t,a!==0&&(h=Dn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function pi(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Qi(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $o(){var t=Tn;return Tn<<=1,(Tn&4194048)===0&&(Tn=256),t}function Cr(){var t=Fn;return Fn<<=1,(Fn&62914560)===0&&(Fn=4194304),t}function Ca(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function wt(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qu(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,C=t.expirationTimes,j=t.hiddenUpdates;for(a=v&~a;0<a;){var W=31-rt(a),ne=1<<W;A[W]=0,C[W]=-1;var H=j[W];if(H!==null)for(j[W]=null,W=0;W<H.length;W++){var G=H[W];G!==null&&(G.lane&=-536870913)}a&=~ne}l!==0&&Dr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Dr(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-rt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Nr(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-rt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function Zo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Wo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ki(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Nv(t.type))}function Ef(t,r){var a=le.p;try{return le.p=t,r()}finally{le.p=a}}var yi=Math.random().toString(36).slice(2),Rt="__reactFiber$"+yi,Wt="__reactProps$"+yi,Yi="__reactContainer$"+yi,Os="__reactEvents$"+yi,Vs="__reactListeners$"+yi,Tf="__reactHandles$"+yi,ei="__reactResources$"+yi,Or="__reactMarker$"+yi;function Da(t){delete t[Rt],delete t[Wt],delete t[Os],delete t[Vs],delete t[Tf]}function _i(t){var r=t[Rt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Yi]||a[Rt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=gv(t);t!==null;){if(a=t[Rt])return a;t=gv(t)}return r}t=a,a=t.parentNode}return null}function vi(t){if(t=t[Rt]||t[Yi]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Vr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function xr(t){var r=t[ei];return r||(r=t[ei]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function It(t){t[Or]=!0}var Hu=new Set,xs={};function Ei(t,r){Ti(t,r),Ti(t+"Capture",r)}function Ti(t,r){for(xs[t]=r,t=0;t<r.length;t++)Hu.add(r[t])}var Ms=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ai={},Na={};function Af(t){return qi.call(Na,t)?!0:qi.call(Ai,t)?!1:Ms.test(t)?Na[t]=!0:(Ai[t]=!0,!1)}function Ps(t,r,a){if(Af(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ks(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function qn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Us,Oa;function Xi(t){if(Us===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Us=r&&r[1]||"",Oa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Us+t+Oa}var Va=!1;function xa(t,r){if(!t||Va)return"";Va=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(G){var H=G}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(G){H=G}t.call(ne.prototype)}}else{try{throw Error()}catch(G){H=G}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var C=v.split(`
`),j=A.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===j.length)for(l=C.length-1,h=j.length-1;1<=l&&0<=h&&C[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==j[h]){var W=`
`+C[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{Va=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Xi(a):""}function Sf(t){switch(t.tag){case 26:case 27:case 5:return Xi(t.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return xa(t.type,!1);case 11:return xa(t.type.render,!1);case 1:return xa(t.type,!0);case 31:return Xi("Activity");default:return""}}function ti(t){try{var r="";do r+=Sf(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ls(t){var r=Mr(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Pr(t){t._valueTracker||(t._valueTracker=Ls(t))}function st(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Mr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function $i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Bs=/[\n"\\]/g;function Qt(t){return t.replace(Bs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Jo(t,r,a,l,h,d,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+yt(r)):t.value!==""+yt(r)&&(t.value=""+yt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?tl(t,v,yt(r)):a!=null?tl(t,v,yt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+yt(A):t.removeAttribute("name")}function el(t,r,a,l,h,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+yt(a):"",r=r!=null?""+yt(r):a,A||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function tl(t,r,a){r==="number"&&$i(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function kr(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+yt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Gu(t,r,a){if(r!=null&&(r=""+yt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+yt(a):""}function Qu(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=yt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Hn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Zi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Zi.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function il(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&nl(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&nl(t,d,r[d])}function Ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ni(t){return Yu.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var rl=null;function sl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ur=null,pn=null;function Xu(t){var r=vi(t);if(r&&(t=r.stateNode)){var a=t[Wt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Jo(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Qt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Wt]||null;if(!h)throw Error(s(90));Jo(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&st(l)}break e;case"textarea":Gu(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&kr(t,!!a.multiple,r,!1)}}}var zs=!1;function js(t,r,a){if(zs)return t(r,a);zs=!0;try{var l=t(r);return l}finally{if(zs=!1,(Ur!==null||pn!==null)&&(Lc(),Ur&&(r=Ur,t=pn,pn=Ur=null,Xu(r),t)))for(r=0;r<t.length;r++)Xu(t[r])}}function Lr(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Wt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wi=!1;if(yn)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){Wi=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{Wi=!1}var Gn=null,ct=null,Pa=null;function $u(){if(Pa)return Pa;var t,r=ct,a=r.length,l,h="value"in Gn?Gn.value:Gn.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Pa=h.slice(t,1<l?1-l:void 0)}function Fs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function qs(){return!0}function al(){return!1}function jt(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?qs:al,this.isPropagationStopped=al,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),r}var on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=jt(on),Gs=E({},on,{view:0,detail:0}),Qs=jt(Gs),ka,Ks,Si,Ys=E({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ba,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(ka=t.screenX-Si.screenX,Ks=t.screenY-Si.screenY):Ks=ka=0,Si=t),ka)},movementY:function(t){return"movementY"in t?t.movementY:Ks}}),Xs=jt(Ys),bf=E({},Ys,{dataTransfer:0}),Zu=jt(bf),$s=E({},Gs,{relatedTarget:0}),Ua=jt($s),Wu=E({},on,{animationName:0,elapsedTime:0,pseudoElement:0}),ol=jt(Wu),ll=E({},on,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ju=jt(ll),La=E({},on,{data:0}),ul=jt(La),ec={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ji={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=tc[t])?!!r[t]:!1}function Ba(){return nc}var ic=E({},Gs,{key:function(t){if(t.key){var r=ec[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Fs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ji[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ba,charCode:function(t){return t.type==="keypress"?Fs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),za=jt(ic),_n=E({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=jt(_n),rc=E({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ba}),zr=jt(rc),c=E({},on,{propertyName:0,elapsedTime:0,pseudoElement:0}),y=jt(c),_=E({},Ys,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S=jt(_),B=E({},on,{newState:0,oldState:0}),K=jt(B),ue=[9,13,27,32],Me=yn&&"CompositionEvent"in window,dt=null;yn&&"documentMode"in document&&(dt=document.documentMode);var tt=yn&&"TextEvent"in window&&!dt,Ct=yn&&(!Me||dt&&8<dt&&11>=dt),Nn=" ",bi=!1;function ii(t,r){switch(t){case"keyup":return ue.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ri(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var si=!1;function hl(t,r){switch(t){case"compositionend":return ri(r);case"keypress":return r.which!==32?null:(bi=!0,Nn);case"textInput":return t=r.data,t===Nn&&bi?null:t;default:return null}}function j1(t,r){if(si)return t==="compositionend"||!Me&&ii(t,r)?(t=$u(),Pa=ct=Gn=null,si=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ct&&r.locale!=="ko"?null:r.data;default:return null}}var F1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bp(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!F1[t.type]:r==="textarea"}function wp(t,r,a,l){Ur?pn?pn.push(l):pn=[l]:Ur=l,r=Hc(r,"onChange"),0<r.length&&(a=new Hs("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var fl=null,dl=null;function q1(t){sv(t,0)}function sc(t){var r=Vr(t);if(st(r))return t}function Rp(t,r){if(t==="change")return r}var Ip=!1;if(yn){var wf;if(yn){var Rf="oninput"in document;if(!Rf){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),Rf=typeof Cp.oninput=="function"}wf=Rf}else wf=!1;Ip=wf&&(!document.documentMode||9<document.documentMode)}function Dp(){fl&&(fl.detachEvent("onpropertychange",Np),dl=fl=null)}function Np(t){if(t.propertyName==="value"&&sc(dl)){var r=[];wp(r,dl,t,sl(t)),js(q1,r)}}function H1(t,r,a){t==="focusin"?(Dp(),fl=r,dl=a,fl.attachEvent("onpropertychange",Np)):t==="focusout"&&Dp()}function G1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sc(dl)}function Q1(t,r){if(t==="click")return sc(r)}function K1(t,r){if(t==="input"||t==="change")return sc(r)}function Y1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var On=typeof Object.is=="function"?Object.is:Y1;function ml(t,r){if(On(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!qi.call(r,h)||!On(t[h],r[h]))return!1}return!0}function Op(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vp(t,r){var a=Op(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Op(a)}}function xp(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?xp(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Mp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=$i(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=$i(t.document)}return r}function If(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var X1=yn&&"documentMode"in document&&11>=document.documentMode,ja=null,Cf=null,gl=null,Df=!1;function Pp(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Df||ja==null||ja!==$i(l)||(l=ja,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&ml(gl,l)||(gl=l,l=Hc(Cf,"onSelect"),0<l.length&&(r=new Hs("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=ja)))}function Zs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Fa={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},Nf={},kp={};yn&&(kp=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Ws(t){if(Nf[t])return Nf[t];if(!Fa[t])return t;var r=Fa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in kp)return Nf[t]=r[a];return t}var Up=Ws("animationend"),Lp=Ws("animationiteration"),Bp=Ws("animationstart"),$1=Ws("transitionrun"),Z1=Ws("transitionstart"),W1=Ws("transitioncancel"),zp=Ws("transitionend"),jp=new Map,Of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Of.push("scrollEnd");function ai(t,r){jp.set(t,r),Ei(r,[t])}var Fp=new WeakMap;function Qn(t,r){if(typeof t=="object"&&t!==null){var a=Fp.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ti(r)},Fp.set(t,r),r)}return{value:t,source:r,stack:ti(r)}}var Kn=[],qa=0,Vf=0;function ac(){for(var t=qa,r=Vf=qa=0;r<t;){var a=Kn[r];Kn[r++]=null;var l=Kn[r];Kn[r++]=null;var h=Kn[r];Kn[r++]=null;var d=Kn[r];if(Kn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&qp(a,h,d)}}function oc(t,r,a,l){Kn[qa++]=t,Kn[qa++]=r,Kn[qa++]=a,Kn[qa++]=l,Vf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function xf(t,r,a,l){return oc(t,r,a,l),lc(t)}function Ha(t,r){return oc(t,null,null,r),lc(t)}function qp(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-rt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function lc(t){if(50<zl)throw zl=0,Bd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ga={};function J1(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,r,a,l){return new J1(t,r,a,l)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function er(t,r){var a=t.alternate;return a===null?(a=Vn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Hp(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function uc(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")Mf(t)&&(v=1);else if(typeof t=="string")v=tb(t,a,Te.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Vn(31,a,r,h),t.elementType=I,t.lanes=d,t;case Q:return Js(a.children,h,d,r);case Y:v=8,h|=24;break;case q:return t=Vn(12,a,r,h|2),t.elementType=q,t.lanes=d,t;case he:return t=Vn(13,a,r,h),t.elementType=he,t.lanes=d,t;case ke:return t=Vn(19,a,r,h),t.elementType=ke,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case se:case ae:v=10;break e;case F:v=9;break e;case we:v=11;break e;case O:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Vn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Js(t,r,a,l){return t=Vn(7,t,l,r),t.lanes=a,t}function Pf(t,r,a){return t=Vn(6,t,null,r),t.lanes=a,t}function kf(t,r,a){return r=Vn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Qa=[],Ka=0,cc=null,hc=0,Yn=[],Xn=0,ea=null,tr=1,nr="";function ta(t,r){Qa[Ka++]=hc,Qa[Ka++]=cc,cc=t,hc=r}function Gp(t,r,a){Yn[Xn++]=tr,Yn[Xn++]=nr,Yn[Xn++]=ea,ea=t;var l=tr;t=nr;var h=32-rt(l)-1;l&=~(1<<h),a+=1;var d=32-rt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,tr=1<<32-rt(r)+h|a<<h|l,nr=d+t}else tr=1<<d|a<<h|l,nr=t}function Uf(t){t.return!==null&&(ta(t,1),Gp(t,1,0))}function Lf(t){for(;t===cc;)cc=Qa[--Ka],Qa[Ka]=null,hc=Qa[--Ka],Qa[Ka]=null;for(;t===ea;)ea=Yn[--Xn],Yn[Xn]=null,nr=Yn[--Xn],Yn[Xn]=null,tr=Yn[--Xn],Yn[Xn]=null}var vn=null,At=null,Je=!1,na=null,wi=!1,Bf=Error(s(519));function ia(t){var r=Error(s(418,""));throw _l(Qn(r,t)),Bf}function Qp(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Rt]=t,r[Wt]=l,a){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(a=0;a<Fl.length;a++)Ge(Fl[a],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":Ge("invalid",r),el(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Pr(r);break;case"select":Ge("invalid",r);break;case"textarea":Ge("invalid",r),Qu(r,l.value,l.defaultValue,l.children),Pr(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||uv(r.textContent,a)?(l.popover!=null&&(Ge("beforetoggle",r),Ge("toggle",r)),l.onScroll!=null&&Ge("scroll",r),l.onScrollEnd!=null&&Ge("scrollend",r),l.onClick!=null&&(r.onclick=Gc),r=!0):r=!1,r||ia(t)}function Kp(t){for(vn=t.return;vn;)switch(vn.tag){case 5:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:vn=vn.return}}function pl(t){if(t!==vn)return!1;if(!Je)return Kp(t),Je=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||tm(t.type,t.memoizedProps)),a=!a),a&&At&&ia(t),Kp(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){At=li(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}At=null}}else r===27?(r=At,ns(t.type)?(t=sm,sm=null,At=t):At=r):At=vn?li(t.stateNode.nextSibling):null;return!0}function yl(){At=vn=null,Je=!1}function Yp(){var t=na;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),na=null),t}function _l(t){na===null?na=[t]:na.push(t)}var zf=re(null),ra=null,ir=null;function jr(t,r,a){fe(zf,r._currentValue),r._currentValue=a}function rr(t){t._currentValue=zf.current,ge(zf)}function jf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Ff(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var C=0;C<r.length;C++)if(A.context===r[C]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),jf(d.return,a,t),l||(v=null);break e}d=A.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),jf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function vl(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var A=h.type;On(h.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(h===bt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Yl):t=[Yl])}h=h.return}t!==null&&Ff(r,t,a,l),r.flags|=262144}function fc(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sa(t){ra=t,ir=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return Xp(ra,t)}function dc(t,r){return ra===null&&sa(t),Xp(t,r)}function Xp(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ir===null){if(t===null)throw Error(s(308));ir=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ir=ir.next=r;return a}var eS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},tS=i.unstable_scheduleCallback,nS=i.unstable_NormalPriority,Ft={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new eS,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&tS(nS,function(){t.controller.abort()})}var Tl=null,Hf=0,Ya=0,Xa=null;function iS(t,r){if(Tl===null){var a=Tl=[];Hf=0,Ya=Qd(),Xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,r.then($p,$p),r}function $p(){if(--Hf===0&&Tl!==null){Xa!==null&&(Xa.status="fulfilled");var t=Tl;Tl=null,Ya=0,Xa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function rS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Zp=$.S;$.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&iS(t,r),Zp!==null&&Zp(t,r)};var aa=re(null);function Gf(){var t=aa.current;return t!==null?t:ht.pooledCache}function mc(t,r){r===null?fe(aa,aa.current):fe(aa,r.pool)}function Wp(){var t=Gf();return t===null?null:{parent:Ft._currentValue,pool:t}}var Al=Error(s(460)),Jp=Error(s(474)),gc=Error(s(542)),Qf={then:function(){}};function ey(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pc(){}function ty(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(pc,pc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,iy(t),t;default:if(typeof r.status=="string")r.then(pc,pc);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,iy(t),t}throw Sl=r,Al}}var Sl=null;function ny(){if(Sl===null)throw Error(s(459));var t=Sl;return Sl=null,t}function iy(t){if(t===Al||t===gc)throw Error(s(483))}var Fr=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=lc(t),qp(t,null,a),r}return oc(t,l,r,a),lc(t)}function bl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Nr(t,a)}}function Xf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var $f=!1;function wl(){if($f){var t=Xa;if(t!==null)throw t}}function Rl(t,r,a,l){$f=!1;var h=t.updateQueue;Fr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var C=A,j=C.next;C.next=null,v===null?d=j:v.next=j,v=C;var W=t.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==v&&(A===null?W.firstBaseUpdate=j:A.next=j,W.lastBaseUpdate=C))}if(d!==null){var ne=h.baseState;v=0,W=j=C=null,A=d;do{var H=A.lane&-536870913,G=H!==A.lane;if(G?(Xe&H)===H:(l&H)===H){H!==0&&H===Ya&&($f=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var De=t,be=A;H=r;var lt=a;switch(be.tag){case 1:if(De=be.payload,typeof De=="function"){ne=De.call(lt,ne,H);break e}ne=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=be.payload,H=typeof De=="function"?De.call(lt,ne,H):De,H==null)break e;ne=E({},ne,H);break e;case 2:Fr=!0}}H=A.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[H]:G.push(H))}else G={lane:H,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(j=W=G,C=ne):W=W.next=G,v|=H;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;G=A,A=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);W===null&&(C=ne),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Wr|=v,t.lanes=v,t.memoizedState=ne}}function ry(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function sy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ry(a[t],r)}var $a=re(null),yc=re(0);function ay(t,r){t=hr,fe(yc,t),fe($a,r),hr=t|r.baseLanes}function Zf(){fe(yc,hr),fe($a,$a.current)}function Wf(){hr=yc.current,ge($a),ge(yc)}var Gr=0,Fe=null,at=null,xt=null,_c=!1,Za=!1,oa=!1,vc=0,Il=0,Wa=null,sS=0;function Dt(){throw Error(s(321))}function Jf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!On(t[a],r[a]))return!1;return!0}function ed(t,r,a,l,h,d){return Gr=d,Fe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=t===null||t.memoizedState===null?qy:Hy,oa=!1,d=a(l,h),oa=!1,Za&&(d=ly(r,a,l,h)),oy(t),d}function oy(t){$.H=wc;var r=at!==null&&at.next!==null;if(Gr=0,xt=at=Fe=null,_c=!1,Il=0,Wa=null,r)throw Error(s(300));t===null||Kt||(t=t.dependencies,t!==null&&fc(t)&&(Kt=!0))}function ly(t,r,a,l){Fe=t;var h=0;do{if(Za&&(Wa=null),Il=0,Za=!1,25<=h)throw Error(s(301));if(h+=1,xt=at=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=fS,d=r(a,l)}while(Za);return d}function aS(){var t=$.H,r=t.useState()[0];return r=typeof r.then=="function"?Cl(r):r,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(Fe.flags|=1024),r}function td(){var t=vc!==0;return vc=0,t}function nd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function id(t){if(_c){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}_c=!1}Gr=0,xt=at=Fe=null,Za=!1,Il=vc=0,Wa=null}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Fe.memoizedState=xt=t:xt=xt.next=t,xt}function Mt(){if(at===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var r=xt===null?Fe.memoizedState:xt.next;if(r!==null)xt=r,at=t;else{if(t===null)throw Fe.alternate===null?Error(s(467)):Error(s(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},xt===null?Fe.memoizedState=xt=t:xt=xt.next=t}return xt}function rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(t){var r=Il;return Il+=1,Wa===null&&(Wa=[]),t=ty(Wa,t,r),r=Fe,(xt===null?r.memoizedState:xt.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?qy:Hy),t}function Ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Cl(t);if(t.$$typeof===ae)return ln(t)}throw Error(s(438,String(t)))}function sd(t){var r=null,a=Fe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=rd(),Fe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=P;return r.index++,a}function sr(t,r){return typeof r=="function"?r(t):r}function Tc(t){var r=Mt();return ad(r,at,t)}function ad(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var A=v=null,C=null,j=r,W=!1;do{var ne=j.lane&-536870913;if(ne!==j.lane?(Xe&ne)===ne:(Gr&ne)===ne){var H=j.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ne===Ya&&(W=!0);else if((Gr&H)===H){j=j.next,H===Ya&&(W=!0);continue}else ne={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(A=C=ne,v=d):C=C.next=ne,Fe.lanes|=H,Wr|=H;ne=j.action,oa&&a(d,ne),d=j.hasEagerState?j.eagerState:a(d,ne)}else H={lane:ne,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(A=C=H,v=d):C=C.next=H,Fe.lanes|=ne,Wr|=ne;j=j.next}while(j!==null&&j!==r);if(C===null?v=d:C.next=A,!On(d,t.memoizedState)&&(Kt=!0,W&&(a=Xa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function od(t){var r=Mt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);On(d,r.memoizedState)||(Kt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function uy(t,r,a){var l=Fe,h=Mt(),d=Je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!On((at||h).memoizedState,a);v&&(h.memoizedState=a,Kt=!0),h=h.queue;var A=fy.bind(null,l,h,t);if(Dl(2048,8,A,[t]),h.getSnapshot!==r||v||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,Ja(9,Ac(),hy.bind(null,l,h,a,r),null),ht===null)throw Error(s(349));d||(Gr&124)!==0||cy(l,r,a)}return a}function cy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Fe.updateQueue,r===null?(r=rd(),Fe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function hy(t,r,a,l){r.value=a,r.getSnapshot=l,dy(r)&&my(t)}function fy(t,r,a){return a(function(){dy(r)&&my(t)})}function dy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!On(t,a)}catch{return!0}}function my(t){var r=Ha(t,2);r!==null&&Un(r,t,2)}function ld(t){var r=An();if(typeof t=="function"){var a=t;if(t=a(),oa){je(!0);try{a()}finally{je(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:t},r}function gy(t,r,a,l){return t.baseState=a,ad(t,at,typeof l=="function"?l:sr)}function oS(t,r,a,l,h){if(bc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,py(r,d)):(d.next=a.next,r.pending=a.next=d)}}function py(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=$.T,v={};$.T=v;try{var A=a(h,l),C=$.S;C!==null&&C(v,A),yy(t,r,A)}catch(j){ud(t,r,j)}finally{$.T=d}}else try{d=a(h,l),yy(t,r,d)}catch(j){ud(t,r,j)}}function yy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_y(t,r,l)},function(l){return ud(t,r,l)}):_y(t,r,a)}function _y(t,r,a){r.status="fulfilled",r.value=a,vy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,py(t,a)))}function ud(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,vy(r),r=r.next;while(r!==l)}t.action=null}function vy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Ey(t,r){return r}function Ty(t,r){if(Je){var a=ht.formState;if(a!==null){e:{var l=Fe;if(Je){if(At){t:{for(var h=At,d=wi;h.nodeType!==8;){if(!d){h=null;break t}if(h=li(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){At=li(h.nextSibling),l=h.data==="F!";break e}}ia(l)}l=!1}l&&(r=a[0])}}return a=An(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:r},a.queue=l,a=zy.bind(null,Fe,l),l.dispatch=a,l=ld(!1),d=md.bind(null,Fe,!1,l.queue),l=An(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=oS.bind(null,Fe,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Ay(t){var r=Mt();return Sy(r,at,t)}function Sy(t,r,a){if(r=ad(t,r,Ey)[0],t=Tc(sr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Cl(r)}catch(v){throw v===Al?gc:v}else l=r;r=Mt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Fe.flags|=2048,Ja(9,Ac(),lS.bind(null,h,a),null)),[l,d,t]}function lS(t,r){t.action=r}function by(t){var r=Mt(),a=at;if(a!==null)return Sy(r,a,t);Mt(),r=r.memoizedState,a=Mt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ja(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Fe.updateQueue,r===null&&(r=rd(),Fe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Ac(){return{destroy:void 0,resource:void 0}}function wy(){return Mt().memoizedState}function Sc(t,r,a,l){var h=An();l=l===void 0?null:l,Fe.flags|=t,h.memoizedState=Ja(1|r,Ac(),a,l)}function Dl(t,r,a,l){var h=Mt();l=l===void 0?null:l;var d=h.memoizedState.inst;at!==null&&l!==null&&Jf(l,at.memoizedState.deps)?h.memoizedState=Ja(r,d,a,l):(Fe.flags|=t,h.memoizedState=Ja(1|r,d,a,l))}function Ry(t,r){Sc(8390656,8,t,r)}function Iy(t,r){Dl(2048,8,t,r)}function Cy(t,r){return Dl(4,2,t,r)}function Dy(t,r){return Dl(4,4,t,r)}function Ny(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Oy(t,r,a){a=a!=null?a.concat([t]):null,Dl(4,4,Ny.bind(null,r,t),a)}function cd(){}function Vy(t,r){var a=Mt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Jf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function xy(t,r){var a=Mt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Jf(r,l[1]))return l[0];if(l=t(),oa){je(!0);try{t()}finally{je(!1)}}return a.memoizedState=[l,r],l}function hd(t,r,a){return a===void 0||(Gr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=k_(),Fe.lanes|=t,Wr|=t,a)}function My(t,r,a,l){return On(a,r)?a:$a.current!==null?(t=hd(t,a,l),On(t,r)||(Kt=!0),t):(Gr&42)===0?(Kt=!0,t.memoizedState=a):(t=k_(),Fe.lanes|=t,Wr|=t,r)}function Py(t,r,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var v=$.T,A={};$.T=A,md(t,!1,r,a);try{var C=h(),j=$.S;if(j!==null&&j(A,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=rS(C,l);Nl(t,r,W,kn(t))}else Nl(t,r,l,kn(t))}catch(ne){Nl(t,r,{then:function(){},status:"rejected",reason:ne},kn())}finally{le.p=d,$.T=v}}function uS(){}function fd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=ky(t).queue;Py(t,h,r,Ee,a===null?uS:function(){return Uy(t),a(l)})}function ky(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:Ee},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Uy(t){var r=ky(t).next.queue;Nl(t,r,{},kn())}function dd(){return ln(Yl)}function Ly(){return Mt().memoizedState}function By(){return Mt().memoizedState}function cS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=kn();t=qr(a);var l=Hr(r,t,a);l!==null&&(Un(l,r,a),bl(l,r,a)),r={cache:qf()},t.payload=r;return}r=r.return}}function hS(t,r,a){var l=kn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},bc(t)?jy(r,a):(a=xf(t,r,a,l),a!==null&&(Un(a,t,l),Fy(a,r,l)))}function zy(t,r,a){var l=kn();Nl(t,r,a,l)}function Nl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(bc(t))jy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,A=d(v,a);if(h.hasEagerState=!0,h.eagerState=A,On(A,v))return oc(t,r,h,0),ht===null&&ac(),!1}catch{}finally{}if(a=xf(t,r,h,l),a!==null)return Un(a,t,l),Fy(a,r,l),!0}return!1}function md(t,r,a,l){if(l={lane:2,revertLane:Qd(),action:l,hasEagerState:!1,eagerState:null,next:null},bc(t)){if(r)throw Error(s(479))}else r=xf(t,a,l,2),r!==null&&Un(r,t,2)}function bc(t){var r=t.alternate;return t===Fe||r!==null&&r===Fe}function jy(t,r){Za=_c=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Fy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Nr(t,a)}}var wc={readContext:ln,use:Ec,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt},qy={readContext:ln,use:Ec,useCallback:function(t,r){return An().memoizedState=[t,r===void 0?null:r],t},useContext:ln,useEffect:Ry,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Sc(4194308,4,Ny.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Sc(4194308,4,t,r)},useInsertionEffect:function(t,r){Sc(4,2,t,r)},useMemo:function(t,r){var a=An();r=r===void 0?null:r;var l=t();if(oa){je(!0);try{t()}finally{je(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=An();if(a!==void 0){var h=a(r);if(oa){je(!0);try{a(r)}finally{je(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=hS.bind(null,Fe,t),[l.memoizedState,t]},useRef:function(t){var r=An();return t={current:t},r.memoizedState=t},useState:function(t){t=ld(t);var r=t.queue,a=zy.bind(null,Fe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:cd,useDeferredValue:function(t,r){var a=An();return hd(a,t,r)},useTransition:function(){var t=ld(!1);return t=Py.bind(null,Fe,t.queue,!0,!1),An().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Fe,h=An();if(Je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ht===null)throw Error(s(349));(Xe&124)!==0||cy(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,Ry(fy.bind(null,l,d,t),[t]),l.flags|=2048,Ja(9,Ac(),hy.bind(null,l,d,a,r),null),a},useId:function(){var t=An(),r=ht.identifierPrefix;if(Je){var a=nr,l=tr;a=(l&~(1<<32-rt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=vc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=sS++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:dd,useFormState:Ty,useActionState:Ty,useOptimistic:function(t){var r=An();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=md.bind(null,Fe,!0,a),a.dispatch=r,[t,r]},useMemoCache:sd,useCacheRefresh:function(){return An().memoizedState=cS.bind(null,Fe)}},Hy={readContext:ln,use:Ec,useCallback:Vy,useContext:ln,useEffect:Iy,useImperativeHandle:Oy,useInsertionEffect:Cy,useLayoutEffect:Dy,useMemo:xy,useReducer:Tc,useRef:wy,useState:function(){return Tc(sr)},useDebugValue:cd,useDeferredValue:function(t,r){var a=Mt();return My(a,at.memoizedState,t,r)},useTransition:function(){var t=Tc(sr)[0],r=Mt().memoizedState;return[typeof t=="boolean"?t:Cl(t),r]},useSyncExternalStore:uy,useId:Ly,useHostTransitionStatus:dd,useFormState:Ay,useActionState:Ay,useOptimistic:function(t,r){var a=Mt();return gy(a,at,t,r)},useMemoCache:sd,useCacheRefresh:By},fS={readContext:ln,use:Ec,useCallback:Vy,useContext:ln,useEffect:Iy,useImperativeHandle:Oy,useInsertionEffect:Cy,useLayoutEffect:Dy,useMemo:xy,useReducer:od,useRef:wy,useState:function(){return od(sr)},useDebugValue:cd,useDeferredValue:function(t,r){var a=Mt();return at===null?hd(a,t,r):My(a,at.memoizedState,t,r)},useTransition:function(){var t=od(sr)[0],r=Mt().memoizedState;return[typeof t=="boolean"?t:Cl(t),r]},useSyncExternalStore:uy,useId:Ly,useHostTransitionStatus:dd,useFormState:by,useActionState:by,useOptimistic:function(t,r){var a=Mt();return at!==null?gy(a,at,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:sd,useCacheRefresh:By},eo=null,Ol=0;function Rc(t){var r=Ol;return Ol+=1,eo===null&&(eo=[]),ty(eo,t,r)}function Vl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Ic(t,r){throw r.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Gy(t){var r=t._init;return r(t._payload)}function Qy(t){function r(U,M){if(t){var L=U.deletions;L===null?(U.deletions=[M],U.flags|=16):L.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)r(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=er(U,M),U.index=0,U.sibling=null,U}function d(U,M,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<M?(U.flags|=67108866,M):L):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function A(U,M,L,J){return M===null||M.tag!==6?(M=Pf(L,U.mode,J),M.return=U,M):(M=h(M,L),M.return=U,M)}function C(U,M,L,J){var ye=L.type;return ye===Q?W(U,M,L.props.children,J,L.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&Gy(ye)===M.type)?(M=h(M,L.props),Vl(M,L),M.return=U,M):(M=uc(L.type,L.key,L.props,null,U.mode,J),Vl(M,L),M.return=U,M)}function j(U,M,L,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=kf(L,U.mode,J),M.return=U,M):(M=h(M,L.children||[]),M.return=U,M)}function W(U,M,L,J,ye){return M===null||M.tag!==7?(M=Js(L,U.mode,J,ye),M.return=U,M):(M=h(M,L),M.return=U,M)}function ne(U,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Pf(""+M,U.mode,L),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return L=uc(M.type,M.key,M.props,null,U.mode,L),Vl(L,M),L.return=U,L;case k:return M=kf(M,U.mode,L),M.return=U,M;case R:var J=M._init;return M=J(M._payload),ne(U,M,L)}if(Le(M)||x(M))return M=Js(M,U.mode,L,null),M.return=U,M;if(typeof M.then=="function")return ne(U,Rc(M),L);if(M.$$typeof===ae)return ne(U,dc(U,M),L);Ic(U,M)}return null}function H(U,M,L,J){var ye=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ye!==null?null:A(U,M,""+L,J);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return L.key===ye?C(U,M,L,J):null;case k:return L.key===ye?j(U,M,L,J):null;case R:return ye=L._init,L=ye(L._payload),H(U,M,L,J)}if(Le(L)||x(L))return ye!==null?null:W(U,M,L,J,null);if(typeof L.then=="function")return H(U,M,Rc(L),J);if(L.$$typeof===ae)return H(U,M,dc(U,L),J);Ic(U,L)}return null}function G(U,M,L,J,ye){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(L)||null,A(M,U,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return U=U.get(J.key===null?L:J.key)||null,C(M,U,J,ye);case k:return U=U.get(J.key===null?L:J.key)||null,j(M,U,J,ye);case R:var qe=J._init;return J=qe(J._payload),G(U,M,L,J,ye)}if(Le(J)||x(J))return U=U.get(L)||null,W(M,U,J,ye,null);if(typeof J.then=="function")return G(U,M,L,Rc(J),ye);if(J.$$typeof===ae)return G(U,M,L,dc(M,J),ye);Ic(M,J)}return null}function De(U,M,L,J){for(var ye=null,qe=null,Ae=M,Ie=M=0,Xt=null;Ae!==null&&Ie<L.length;Ie++){Ae.index>Ie?(Xt=Ae,Ae=null):Xt=Ae.sibling;var Ze=H(U,Ae,L[Ie],J);if(Ze===null){Ae===null&&(Ae=Xt);break}t&&Ae&&Ze.alternate===null&&r(U,Ae),M=d(Ze,M,Ie),qe===null?ye=Ze:qe.sibling=Ze,qe=Ze,Ae=Xt}if(Ie===L.length)return a(U,Ae),Je&&ta(U,Ie),ye;if(Ae===null){for(;Ie<L.length;Ie++)Ae=ne(U,L[Ie],J),Ae!==null&&(M=d(Ae,M,Ie),qe===null?ye=Ae:qe.sibling=Ae,qe=Ae);return Je&&ta(U,Ie),ye}for(Ae=l(Ae);Ie<L.length;Ie++)Xt=G(Ae,U,Ie,L[Ie],J),Xt!==null&&(t&&Xt.alternate!==null&&Ae.delete(Xt.key===null?Ie:Xt.key),M=d(Xt,M,Ie),qe===null?ye=Xt:qe.sibling=Xt,qe=Xt);return t&&Ae.forEach(function(os){return r(U,os)}),Je&&ta(U,Ie),ye}function be(U,M,L,J){if(L==null)throw Error(s(151));for(var ye=null,qe=null,Ae=M,Ie=M=0,Xt=null,Ze=L.next();Ae!==null&&!Ze.done;Ie++,Ze=L.next()){Ae.index>Ie?(Xt=Ae,Ae=null):Xt=Ae.sibling;var os=H(U,Ae,Ze.value,J);if(os===null){Ae===null&&(Ae=Xt);break}t&&Ae&&os.alternate===null&&r(U,Ae),M=d(os,M,Ie),qe===null?ye=os:qe.sibling=os,qe=os,Ae=Xt}if(Ze.done)return a(U,Ae),Je&&ta(U,Ie),ye;if(Ae===null){for(;!Ze.done;Ie++,Ze=L.next())Ze=ne(U,Ze.value,J),Ze!==null&&(M=d(Ze,M,Ie),qe===null?ye=Ze:qe.sibling=Ze,qe=Ze);return Je&&ta(U,Ie),ye}for(Ae=l(Ae);!Ze.done;Ie++,Ze=L.next())Ze=G(Ae,U,Ie,Ze.value,J),Ze!==null&&(t&&Ze.alternate!==null&&Ae.delete(Ze.key===null?Ie:Ze.key),M=d(Ze,M,Ie),qe===null?ye=Ze:qe.sibling=Ze,qe=Ze);return t&&Ae.forEach(function(db){return r(U,db)}),Je&&ta(U,Ie),ye}function lt(U,M,L,J){if(typeof L=="object"&&L!==null&&L.type===Q&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case b:e:{for(var ye=L.key;M!==null;){if(M.key===ye){if(ye=L.type,ye===Q){if(M.tag===7){a(U,M.sibling),J=h(M,L.props.children),J.return=U,U=J;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&Gy(ye)===M.type){a(U,M.sibling),J=h(M,L.props),Vl(J,L),J.return=U,U=J;break e}a(U,M);break}else r(U,M);M=M.sibling}L.type===Q?(J=Js(L.props.children,U.mode,J,L.key),J.return=U,U=J):(J=uc(L.type,L.key,L.props,null,U.mode,J),Vl(J,L),J.return=U,U=J)}return v(U);case k:e:{for(ye=L.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){a(U,M.sibling),J=h(M,L.children||[]),J.return=U,U=J;break e}else{a(U,M);break}else r(U,M);M=M.sibling}J=kf(L,U.mode,J),J.return=U,U=J}return v(U);case R:return ye=L._init,L=ye(L._payload),lt(U,M,L,J)}if(Le(L))return De(U,M,L,J);if(x(L)){if(ye=x(L),typeof ye!="function")throw Error(s(150));return L=ye.call(L),be(U,M,L,J)}if(typeof L.then=="function")return lt(U,M,Rc(L),J);if(L.$$typeof===ae)return lt(U,M,dc(U,L),J);Ic(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(a(U,M.sibling),J=h(M,L),J.return=U,U=J):(a(U,M),J=Pf(L,U.mode,J),J.return=U,U=J),v(U)):a(U,M)}return function(U,M,L,J){try{Ol=0;var ye=lt(U,M,L,J);return eo=null,ye}catch(Ae){if(Ae===Al||Ae===gc)throw Ae;var qe=Vn(29,Ae,null,U.mode);return qe.lanes=J,qe.return=U,qe}finally{}}}var to=Qy(!0),Ky=Qy(!1),$n=re(null),Ri=null;function Qr(t){var r=t.alternate;fe(qt,qt.current&1),fe($n,t),Ri===null&&(r===null||$a.current!==null||r.memoizedState!==null)&&(Ri=t)}function Yy(t){if(t.tag===22){if(fe(qt,qt.current),fe($n,t),Ri===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(Ri=t)}}else Kr()}function Kr(){fe(qt,qt.current),fe($n,$n.current)}function ar(t){ge($n),Ri===t&&(Ri=null),ge(qt)}var qt=re(0);function Cc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||rm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function gd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var pd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=kn(),h=qr(l);h.payload=r,a!=null&&(h.callback=a),r=Hr(t,h,l),r!==null&&(Un(r,t,l),bl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=kn(),h=qr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Hr(t,h,l),r!==null&&(Un(r,t,l),bl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=kn(),l=qr(a);l.tag=2,r!=null&&(l.callback=r),r=Hr(t,l,a),r!==null&&(Un(r,t,a),bl(r,t,a))}};function Xy(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!ml(a,l)||!ml(h,d):!0}function $y(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&pd.enqueueReplaceState(r,r.state,null)}function la(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Dc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Zy(t){Dc(t)}function Wy(t){console.error(t)}function Jy(t){Dc(t)}function Nc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function e_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yd(t,r,a){return a=qr(a),a.tag=3,a.payload={element:null},a.callback=function(){Nc(t,r)},a}function t_(t){return t=qr(t),t.tag=3,t}function n_(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){e_(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){e_(r,a,l),typeof h!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function dS(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&vl(r,a,h,!0),a=$n.current,a!==null){switch(a.tag){case 13:return Ri===null?jd():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Qf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),qd(t,l,h)),!1;case 22:return a.flags|=65536,l===Qf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),qd(t,l,h)),!1}throw Error(s(435,a.tag))}return qd(t,l,h),jd(),!1}if(Je)return r=$n.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Bf&&(t=Error(s(422),{cause:l}),_l(Qn(t,a)))):(l!==Bf&&(r=Error(s(423),{cause:l}),_l(Qn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Qn(l,a),h=yd(t.stateNode,l,h),Xf(t,h),St!==4&&(St=2)),!1;var d=Error(s(520),{cause:l});if(d=Qn(d,a),Bl===null?Bl=[d]:Bl.push(d),St!==4&&(St=2),r===null)return!0;l=Qn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=yd(a.stateNode,l,t),Xf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Jr===null||!Jr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=t_(h),n_(h,t,a,l),Xf(a,h),!1}a=a.return}while(a!==null);return!1}var i_=Error(s(461)),Kt=!1;function Jt(t,r,a,l){r.child=t===null?Ky(r,null,a,l):to(r,t.child,a,l)}function r_(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return sa(r),l=ed(t,r,a,v,d,h),A=td(),t!==null&&!Kt?(nd(t,r,h),or(t,r,h)):(Je&&A&&Uf(r),r.flags|=1,Jt(t,r,l,h),r.child)}function s_(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Mf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,a_(t,r,d,l,h)):(t=uc(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!wd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(v,l)&&t.ref===r.ref)return or(t,r,h)}return r.flags|=1,t=er(d,l),t.ref=r.ref,t.return=r,r.child=t}function a_(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(ml(d,l)&&t.ref===r.ref)if(Kt=!1,r.pendingProps=l=d,wd(t,h))(t.flags&131072)!==0&&(Kt=!0);else return r.lanes=t.lanes,or(t,r,h)}return _d(t,r,a,l,h)}function o_(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return l_(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&mc(r,d!==null?d.cachePool:null),d!==null?ay(r,d):Zf(),Yy(r);else return r.lanes=r.childLanes=536870912,l_(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(mc(r,d.cachePool),ay(r,d),Kr(),r.memoizedState=null):(t!==null&&mc(r,null),Zf(),Kr());return Jt(t,r,h,a),r.child}function l_(t,r,a,l){var h=Gf();return h=h===null?null:{parent:Ft._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&mc(r,null),Zf(),Yy(r),t!==null&&vl(t,r,l,!0),null}function Oc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function _d(t,r,a,l,h){return sa(r),a=ed(t,r,a,l,void 0,h),l=td(),t!==null&&!Kt?(nd(t,r,h),or(t,r,h)):(Je&&l&&Uf(r),r.flags|=1,Jt(t,r,a,h),r.child)}function u_(t,r,a,l,h,d){return sa(r),r.updateQueue=null,a=ly(r,l,a,h),oy(t),l=td(),t!==null&&!Kt?(nd(t,r,d),or(t,r,d)):(Je&&l&&Uf(r),r.flags|=1,Jt(t,r,a,d),r.child)}function c_(t,r,a,l,h){if(sa(r),r.stateNode===null){var d=Ga,v=a.contextType;typeof v=="object"&&v!==null&&(d=ln(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Kf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?ln(v):Ga,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(gd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&pd.enqueueReplaceState(d,d.state,null),Rl(r,l,d,h),wl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var A=r.memoizedProps,C=la(a,A);d.props=C;var j=d.context,W=a.contextType;v=Ga,typeof W=="object"&&W!==null&&(v=ln(W));var ne=a.getDerivedStateFromProps;W=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||j!==v)&&$y(r,d,l,v),Fr=!1;var H=r.memoizedState;d.state=H,Rl(r,l,d,h),wl(),j=r.memoizedState,A||H!==j||Fr?(typeof ne=="function"&&(gd(r,a,ne,l),j=r.memoizedState),(C=Fr||Xy(r,a,C,l,H,j,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),d.props=l,d.state=j,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Yf(t,r),v=r.memoizedProps,W=la(a,v),d.props=W,ne=r.pendingProps,H=d.context,j=a.contextType,C=Ga,typeof j=="object"&&j!==null&&(C=ln(j)),A=a.getDerivedStateFromProps,(j=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ne||H!==C)&&$y(r,d,l,C),Fr=!1,H=r.memoizedState,d.state=H,Rl(r,l,d,h),wl();var G=r.memoizedState;v!==ne||H!==G||Fr||t!==null&&t.dependencies!==null&&fc(t.dependencies)?(typeof A=="function"&&(gd(r,a,A,l),G=r.memoizedState),(W=Fr||Xy(r,a,W,l,H,G,C)||t!==null&&t.dependencies!==null&&fc(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=C,l=W):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Oc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=to(r,t.child,null,h),r.child=to(r,null,a,h)):Jt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=or(t,r,h),t}function h_(t,r,a,l){return yl(),r.flags|=256,Jt(t,r,a,l),r.child}var vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(t){return{baseLanes:t,cachePool:Wp()}}function Td(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Zn),t}function f_(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(qt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Je){if(h?Qr(r):Kr(),Je){var A=At,C;if(C=A){e:{for(C=A,A=wi;C.nodeType!==8;){if(!A){A=null;break e}if(C=li(C.nextSibling),C===null){A=null;break e}}A=C}A!==null?(r.memoizedState={dehydrated:A,treeContext:ea!==null?{id:tr,overflow:nr}:null,retryLane:536870912,hydrationErrors:null},C=Vn(18,null,null,0),C.stateNode=A,C.return=r,r.child=C,vn=r,At=null,C=!0):C=!1}C||ia(r)}if(A=r.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return rm(A)?r.lanes=32:r.lanes=536870912,null;ar(r)}return A=l.children,l=l.fallback,h?(Kr(),h=r.mode,A=Vc({mode:"hidden",children:A},h),l=Js(l,h,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,h=r.child,h.memoizedState=Ed(a),h.childLanes=Td(t,v,a),r.memoizedState=vd,l):(Qr(r),Ad(r,A))}if(C=t.memoizedState,C!==null&&(A=C.dehydrated,A!==null)){if(d)r.flags&256?(Qr(r),r.flags&=-257,r=Sd(t,r,a)):r.memoizedState!==null?(Kr(),r.child=t.child,r.flags|=128,r=null):(Kr(),h=l.fallback,A=r.mode,l=Vc({mode:"visible",children:l.children},A),h=Js(h,A,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,to(r,t.child,null,a),l=r.child,l.memoizedState=Ed(a),l.childLanes=Td(t,v,a),r.memoizedState=vd,r=h);else if(Qr(r),rm(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,_l({value:l,source:null,stack:null}),r=Sd(t,r,a)}else if(Kt||vl(t,r,a,!1),v=(a&t.childLanes)!==0,Kt||v){if(v=ht,v!==null&&(l=a&-a,l=(l&42)!==0?1:Zo(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ha(t,l),Un(v,t,l),i_;A.data==="$?"||jd(),r=Sd(t,r,a)}else A.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,At=li(A.nextSibling),vn=r,Je=!0,na=null,wi=!1,t!==null&&(Yn[Xn++]=tr,Yn[Xn++]=nr,Yn[Xn++]=ea,tr=t.id,nr=t.overflow,ea=r),r=Ad(r,l.children),r.flags|=4096);return r}return h?(Kr(),h=l.fallback,A=r.mode,C=t.child,j=C.sibling,l=er(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?h=er(j,h):(h=Js(h,A,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,A=t.child.memoizedState,A===null?A=Ed(a):(C=A.cachePool,C!==null?(j=Ft._currentValue,C=C.parent!==j?{parent:j,pool:j}:C):C=Wp(),A={baseLanes:A.baseLanes|a,cachePool:C}),h.memoizedState=A,h.childLanes=Td(t,v,a),r.memoizedState=vd,l):(Qr(r),a=t.child,t=a.sibling,a=er(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function Ad(t,r){return r=Vc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Vc(t,r){return t=Vn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Sd(t,r,a){return to(r,t.child,null,a),t=Ad(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function d_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),jf(t.return,r,a)}function bd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function m_(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Jt(t,r,l.children,a),l=qt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&d_(t,a,r);else if(t.tag===19)d_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(fe(qt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Cc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),bd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Cc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}bd(r,!0,a,null,d);break;case"together":bd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function or(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Wr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(vl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=er(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=er(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function wd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&fc(t)))}function mS(t,r,a){switch(r.tag){case 3:We(r,r.stateNode.containerInfo),jr(r,Ft,t.memoizedState.cache),yl();break;case 27:case 5:Fi(r);break;case 4:We(r,r.stateNode.containerInfo);break;case 10:jr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Qr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?f_(t,r,a):(Qr(r),t=or(t,r,a),t!==null?t.sibling:null);Qr(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(vl(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return m_(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),fe(qt,qt.current),l)break;return null;case 22:case 23:return r.lanes=0,o_(t,r,a);case 24:jr(r,Ft,t.memoizedState.cache)}return or(t,r,a)}function g_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Kt=!0;else{if(!wd(t,a)&&(r.flags&128)===0)return Kt=!1,mS(t,r,a);Kt=(t.flags&131072)!==0}else Kt=!1,Je&&(r.flags&1048576)!==0&&Gp(r,hc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Mf(l)?(t=la(l,t),r.tag=1,r=c_(null,r,l,t,a)):(r.tag=0,r=_d(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===we){r.tag=11,r=r_(null,r,l,t,a);break e}else if(h===O){r.tag=14,r=s_(null,r,l,t,a);break e}}throw r=xe(l)||l,Error(s(306,r,""))}}return r;case 0:return _d(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=la(l,r.pendingProps),c_(t,r,l,h,a);case 3:e:{if(We(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Yf(t,r),Rl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,jr(r,Ft,l),l!==d.cache&&Ff(r,[Ft],a,!0),wl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=h_(t,r,l,a);break e}else if(l!==h){h=Qn(Error(s(424)),r),_l(h),r=h_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(At=li(t.firstChild),vn=r,Je=!0,na=null,wi=!0,a=Ky(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yl(),l===h){r=or(t,r,a);break e}Jt(t,r,l,a)}r=r.child}return r;case 26:return Oc(t,r),t===null?(a=vv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Je||(a=r.type,t=r.pendingProps,l=Qc(Re.current).createElement(a),l[Rt]=r,l[Wt]=t,tn(l,a,t),It(l),r.stateNode=l):r.memoizedState=vv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Fi(r),t===null&&Je&&(l=r.stateNode=pv(r.type,r.pendingProps,Re.current),vn=r,wi=!0,h=At,ns(r.type)?(sm=h,At=li(l.firstChild)):At=h),Jt(t,r,r.pendingProps.children,a),Oc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Je&&((h=l=At)&&(l=FS(l,r.type,r.pendingProps,wi),l!==null?(r.stateNode=l,vn=r,At=li(l.firstChild),wi=!1,h=!0):h=!1),h||ia(r)),Fi(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,tm(h,d)?l=null:v!==null&&tm(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=ed(t,r,aS,null,null,a),Yl._currentValue=h),Oc(t,r),Jt(t,r,l,a),r.child;case 6:return t===null&&Je&&((t=a=At)&&(a=qS(a,r.pendingProps,wi),a!==null?(r.stateNode=a,vn=r,At=null,t=!0):t=!1),t||ia(r)),null;case 13:return f_(t,r,a);case 4:return We(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=to(r,null,l,a):Jt(t,r,l,a),r.child;case 11:return r_(t,r,r.type,r.pendingProps,a);case 7:return Jt(t,r,r.pendingProps,a),r.child;case 8:return Jt(t,r,r.pendingProps.children,a),r.child;case 12:return Jt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,jr(r,r.type,l.value),Jt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,sa(r),h=ln(h),l=l(h),r.flags|=1,Jt(t,r,l,a),r.child;case 14:return s_(t,r,r.type,r.pendingProps,a);case 15:return a_(t,r,r.type,r.pendingProps,a);case 19:return m_(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Vc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=er(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return o_(t,r,a);case 24:return sa(r),l=ln(Ft),t===null?(h=Gf(),h===null&&(h=ht,d=qf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Kf(r),jr(r,Ft,h)):((t.lanes&a)!==0&&(Yf(t,r),Rl(r,null,null,a),wl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),jr(r,Ft,l)):(l=d.cache,jr(r,Ft,l),l!==h.cache&&Ff(r,[Ft],a,!0))),Jt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function lr(t){t.flags|=4}function p_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!bv(r)){if(r=$n.current,r!==null&&((Xe&4194048)===Xe?Ri!==null:(Xe&62914560)!==Xe&&(Xe&536870912)===0||r!==Ri))throw Sl=Qf,Jp;t.flags|=8192}}function xc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Cr():536870912,t.lanes|=r,so|=r)}function xl(t,r){if(!Je)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function _t(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function gS(t,r,a){var l=r.pendingProps;switch(Lf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(r),null;case 1:return _t(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),rr(Ft),mn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(pl(r)?lr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Yp())),_t(r),null;case 26:return a=r.memoizedState,t===null?(lr(r),a!==null?(_t(r),p_(r,a)):(_t(r),r.flags&=-16777217)):a?a!==t.memoizedState?(lr(r),_t(r),p_(r,a)):(_t(r),r.flags&=-16777217):(t.memoizedProps!==l&&lr(r),_t(r),r.flags&=-16777217),null;case 27:Rr(r),a=Re.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&lr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return _t(r),null}t=Te.current,pl(r)?Qp(r):(t=pv(h,l,a),r.stateNode=t,lr(r))}return _t(r),null;case 5:if(Rr(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&lr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return _t(r),null}if(t=Te.current,pl(r))Qp(r);else{switch(h=Qc(Re.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Rt]=r,t[Wt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(tn(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&lr(r)}}return _t(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&lr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Re.current,pl(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=vn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Rt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||uv(t.nodeValue,a)),t||ia(r)}else t=Qc(t).createTextNode(l),t[Rt]=r,r.stateNode=t}return _t(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=pl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Rt]=r}else yl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;_t(r),h=!1}else h=Yp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(ar(r),r):(ar(r),null)}if(ar(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),xc(r,r.updateQueue),_t(r),null;case 4:return mn(),t===null&&$d(r.stateNode.containerInfo),_t(r),null;case 10:return rr(r.type),_t(r),null;case 19:if(ge(qt),h=r.memoizedState,h===null)return _t(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)xl(h,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Cc(t),d!==null){for(r.flags|=128,xl(h,!1),t=d.updateQueue,r.updateQueue=t,xc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Hp(a,t),a=a.sibling;return fe(qt,qt.current&1|2),r.child}t=t.sibling}h.tail!==null&&an()>kc&&(r.flags|=128,l=!0,xl(h,!1),r.lanes=4194304)}else{if(!l)if(t=Cc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,xc(r,t),xl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Je)return _t(r),null}else 2*an()-h.renderingStartTime>kc&&a!==536870912&&(r.flags|=128,l=!0,xl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=an(),r.sibling=null,t=qt.current,fe(qt,l?t&1|2:t&1),r):(_t(r),null);case 22:case 23:return ar(r),Wf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(_t(r),r.subtreeFlags&6&&(r.flags|=8192)):_t(r),a=r.updateQueue,a!==null&&xc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ge(aa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),rr(Ft),_t(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function pS(t,r){switch(Lf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return rr(Ft),mn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Rr(r),null;case 13:if(ar(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));yl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ge(qt),null;case 4:return mn(),null;case 10:return rr(r.type),null;case 22:case 23:return ar(r),Wf(),t!==null&&ge(aa),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return rr(Ft),null;case 25:return null;default:return null}}function y_(t,r){switch(Lf(r),r.tag){case 3:rr(Ft),mn();break;case 26:case 27:case 5:Rr(r);break;case 4:mn();break;case 13:ar(r);break;case 19:ge(qt);break;case 10:rr(r.type);break;case 22:case 23:ar(r),Wf(),t!==null&&ge(aa);break;case 24:rr(Ft)}}function Ml(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(A){ut(r,r.return,A)}}function Yr(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,h=r;var C=a,j=A;try{j()}catch(W){ut(h,C,W)}}}l=l.next}while(l!==d)}}catch(W){ut(r,r.return,W)}}function __(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{sy(r,a)}catch(l){ut(t,t.return,l)}}}function v_(t,r,a){a.props=la(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ut(t,r,l)}}function Pl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ut(t,r,h)}}function Ii(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ut(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ut(t,r,h)}else a.current=null}function E_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ut(t,t.return,h)}}function Rd(t,r,a){try{var l=t.stateNode;US(l,t.type,a,r),l[Wt]=r}catch(h){ut(t,t.return,h)}}function T_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ns(t.type)||t.tag===4}function Id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ns(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Gc));else if(l!==4&&(l===27&&ns(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Cd(t,r,a),t=t.sibling;t!==null;)Cd(t,r,a),t=t.sibling}function Mc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&ns(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Mc(t,r,a),t=t.sibling;t!==null;)Mc(t,r,a),t=t.sibling}function A_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);tn(r,l,a),r[Rt]=t,r[Wt]=a}catch(d){ut(t,t.return,d)}}var ur=!1,Nt=!1,Dd=!1,S_=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function yS(t,r){if(t=t.containerInfo,Jd=Wc,t=Mp(t),If(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,A=-1,C=-1,j=0,W=0,ne=t,H=null;t:for(;;){for(var G;ne!==a||h!==0&&ne.nodeType!==3||(A=v+h),ne!==d||l!==0&&ne.nodeType!==3||(C=v+l),ne.nodeType===3&&(v+=ne.nodeValue.length),(G=ne.firstChild)!==null;)H=ne,ne=G;for(;;){if(ne===t)break t;if(H===a&&++j===h&&(A=v),H===d&&++W===l&&(C=v),(G=ne.nextSibling)!==null)break;ne=H,H=ne.parentNode}ne=G}a=A===-1||C===-1?null:{start:A,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(em={focusedElem:t,selectionRange:a},Wc=!1,Yt=r;Yt!==null;)if(r=Yt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Yt=t;else for(;Yt!==null;){switch(r=Yt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var De=la(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(De,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){ut(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)im(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Yt=t;break}Yt=r.return}}function b_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xr(t,a),l&4&&Ml(5,a);break;case 1:if(Xr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){ut(a,a.return,v)}else{var h=la(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ut(a,a.return,v)}}l&64&&__(a),l&512&&Pl(a,a.return);break;case 3:if(Xr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{sy(t,r)}catch(v){ut(a,a.return,v)}}break;case 27:r===null&&l&4&&A_(a);case 26:case 5:Xr(t,a),r===null&&l&4&&E_(a),l&512&&Pl(a,a.return);break;case 12:Xr(t,a);break;case 13:Xr(t,a),l&4&&I_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=RS.bind(null,a),HS(t,a))));break;case 22:if(l=a.memoizedState!==null||ur,!l){r=r!==null&&r.memoizedState!==null||Nt,h=ur;var d=Nt;ur=l,(Nt=r)&&!d?$r(t,a,(a.subtreeFlags&8772)!==0):Xr(t,a),ur=h,Nt=d}break;case 30:break;default:Xr(t,a)}}function w_(t){var r=t.alternate;r!==null&&(t.alternate=null,w_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Da(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,Sn=!1;function cr(t,r,a){for(a=a.child;a!==null;)R_(t,r,a),a=a.sibling}function R_(t,r,a){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(_e,a)}catch{}switch(a.tag){case 26:Nt||Ii(a,r),cr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Ii(a,r);var l=gt,h=Sn;ns(a.type)&&(gt=a.stateNode,Sn=!1),cr(t,r,a),Hl(a.stateNode),gt=l,Sn=h;break;case 5:Nt||Ii(a,r);case 6:if(l=gt,h=Sn,gt=null,cr(t,r,a),gt=l,Sn=h,gt!==null)if(Sn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(a.stateNode)}catch(d){ut(a,r,d)}else try{gt.removeChild(a.stateNode)}catch(d){ut(a,r,d)}break;case 18:gt!==null&&(Sn?(t=gt,mv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Wl(t)):mv(gt,a.stateNode));break;case 4:l=gt,h=Sn,gt=a.stateNode.containerInfo,Sn=!0,cr(t,r,a),gt=l,Sn=h;break;case 0:case 11:case 14:case 15:Nt||Yr(2,a,r),Nt||Yr(4,a,r),cr(t,r,a);break;case 1:Nt||(Ii(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&v_(a,r,l)),cr(t,r,a);break;case 21:cr(t,r,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,cr(t,r,a),Nt=l;break;default:cr(t,r,a)}}function I_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wl(t)}catch(a){ut(r,r.return,a)}}function _S(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new S_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new S_),r;default:throw Error(s(435,t.tag))}}function Nd(t,r){var a=_S(t);r.forEach(function(l){var h=IS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function xn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(ns(A.type)){gt=A.stateNode,Sn=!1;break e}break;case 5:gt=A.stateNode,Sn=!1;break e;case 3:case 4:gt=A.stateNode.containerInfo,Sn=!0;break e}A=A.return}if(gt===null)throw Error(s(160));R_(d,v,h),gt=null,Sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)C_(r,t),r=r.sibling}var oi=null;function C_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(r,t),Mn(t),l&4&&(Yr(3,t,t.return),Ml(3,t),Yr(5,t,t.return));break;case 1:xn(r,t),Mn(t),l&512&&(Nt||a===null||Ii(a,a.return)),l&64&&ur&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=oi;if(xn(r,t),Mn(t),l&512&&(Nt||a===null||Ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Or]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),tn(d,l,a),d[Rt]=t,It(d),l=d;break e;case"link":var v=Av("link","href",h).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break t}}d=h.createElement(l),tn(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Av("meta","content",h).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break t}}d=h.createElement(l),tn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Rt]=t,It(d),l=d}t.stateNode=l}else Sv(h,t.type,t.stateNode);else t.stateNode=Tv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Sv(h,t.type,t.stateNode):Tv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:xn(r,t),Mn(t),l&512&&(Nt||a===null||Ii(a,a.return)),a!==null&&l&4&&Rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(xn(r,t),Mn(t),l&512&&(Nt||a===null||Ii(a,a.return)),t.flags&32){h=t.stateNode;try{Hn(h,"")}catch(G){ut(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Rd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Dd=!0);break;case 6:if(xn(r,t),Mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){ut(t,t.return,G)}}break;case 3:if(Xc=null,h=oi,oi=Kc(r.containerInfo),xn(r,t),oi=h,Mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Wl(r.containerInfo)}catch(G){ut(t,t.return,G)}Dd&&(Dd=!1,D_(t));break;case 4:l=oi,oi=Kc(t.stateNode.containerInfo),xn(r,t),Mn(t),oi=l;break;case 12:xn(r,t),Mn(t);break;case 13:xn(r,t),Mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kd=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nd(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=ur,W=Nt;if(ur=j||h,Nt=W||C,xn(r,t),Nt=W,ur=j,Mn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||C||ur||Nt||ua(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=C.stateNode;var ne=C.memoizedProps.style,H=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;A.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){ut(C,C.return,G)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(G){ut(C,C.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nd(t,a))));break;case 19:xn(r,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nd(t,l)));break;case 30:break;case 21:break;default:xn(r,t),Mn(t)}}function Mn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(T_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Id(t);Mc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Hn(v,""),a.flags&=-33);var A=Id(t);Mc(t,A,v);break;case 3:case 4:var C=a.stateNode.containerInfo,j=Id(t);Cd(t,j,C);break;default:throw Error(s(161))}}catch(W){ut(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function D_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;D_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Xr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)b_(t,r.alternate,r),r=r.sibling}function ua(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Yr(4,r,r.return),ua(r);break;case 1:Ii(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&v_(r,r.return,a),ua(r);break;case 27:Hl(r.stateNode);case 26:case 5:Ii(r,r.return),ua(r);break;case 22:r.memoizedState===null&&ua(r);break;case 30:ua(r);break;default:ua(r)}t=t.sibling}}function $r(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:$r(h,d,a),Ml(4,d);break;case 1:if($r(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ut(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ry(C[h],A)}catch(j){ut(l,l.return,j)}}a&&v&64&&__(d),Pl(d,d.return);break;case 27:A_(d);case 26:case 5:$r(h,d,a),a&&l===null&&v&4&&E_(d),Pl(d,d.return);break;case 12:$r(h,d,a);break;case 13:$r(h,d,a),a&&v&4&&I_(h,d);break;case 22:d.memoizedState===null&&$r(h,d,a),Pl(d,d.return);break;case 30:break;default:$r(h,d,a)}r=r.sibling}}function Od(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&El(a))}function Vd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&El(t))}function Ci(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)N_(t,r,a,l),r=r.sibling}function N_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ci(t,r,a,l),h&2048&&Ml(9,r);break;case 1:Ci(t,r,a,l);break;case 3:Ci(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&El(t)));break;case 12:if(h&2048){Ci(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){ut(r,r.return,C)}}else Ci(t,r,a,l);break;case 13:Ci(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?Ci(t,r,a,l):kl(t,r):d._visibility&2?Ci(t,r,a,l):(d._visibility|=2,no(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Od(v,r);break;case 24:Ci(t,r,a,l),h&2048&&Vd(r.alternate,r);break;default:Ci(t,r,a,l)}}function no(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,A=a,C=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:no(d,v,A,C,h),Ml(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?no(d,v,A,C,h):kl(d,v):(W._visibility|=2,no(d,v,A,C,h)),h&&j&2048&&Od(v.alternate,v);break;case 24:no(d,v,A,C,h),h&&j&2048&&Vd(v.alternate,v);break;default:no(d,v,A,C,h)}r=r.sibling}}function kl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:kl(a,l),h&2048&&Od(l.alternate,l);break;case 24:kl(a,l),h&2048&&Vd(l.alternate,l);break;default:kl(a,l)}r=r.sibling}}var Ul=8192;function io(t){if(t.subtreeFlags&Ul)for(t=t.child;t!==null;)O_(t),t=t.sibling}function O_(t){switch(t.tag){case 26:io(t),t.flags&Ul&&t.memoizedState!==null&&ib(oi,t.memoizedState,t.memoizedProps);break;case 5:io(t);break;case 3:case 4:var r=oi;oi=Kc(t.stateNode.containerInfo),io(t),oi=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Ul,Ul=16777216,io(t),Ul=r):io(t));break;default:io(t)}}function V_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ll(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Yt=l,M_(l,t)}V_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)x_(t),t=t.sibling}function x_(t){switch(t.tag){case 0:case 11:case 15:Ll(t),t.flags&2048&&Yr(9,t,t.return);break;case 3:Ll(t);break;case 12:Ll(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Pc(t)):Ll(t);break;default:Ll(t)}}function Pc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Yt=l,M_(l,t)}V_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Yr(8,r,r.return),Pc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Pc(r));break;default:Pc(r)}t=t.sibling}}function M_(t,r){for(;Yt!==null;){var a=Yt;switch(a.tag){case 0:case 11:case 15:Yr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Yt=l;else e:for(a=t;Yt!==null;){l=Yt;var h=l.sibling,d=l.return;if(w_(l),l===a){Yt=null;break e}if(h!==null){h.return=d,Yt=h;break e}Yt=d}}}var vS={getCacheForType:function(t){var r=ln(Ft),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},ES=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,He=null,Xe=0,it=0,Pn=null,Zr=!1,ro=!1,xd=!1,hr=0,St=0,Wr=0,ca=0,Md=0,Zn=0,so=0,Bl=null,bn=null,Pd=!1,kd=0,kc=1/0,Uc=null,Jr=null,en=0,es=null,ao=null,oo=0,Ud=0,Ld=null,P_=null,zl=0,Bd=null;function kn(){if((nt&2)!==0&&Xe!==0)return Xe&-Xe;if($.T!==null){var t=Ya;return t!==0?t:Qd()}return Ki()}function k_(){Zn===0&&(Zn=(Xe&536870912)===0||Je?$o():536870912);var t=$n.current;return t!==null&&(t.flags|=32),Zn}function Un(t,r,a){(t===ht&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(lo(t,0),ts(t,Xe,Zn,!1)),wt(t,a),((nt&2)===0||t!==ht)&&(t===ht&&((nt&2)===0&&(ca|=a),St===4&&ts(t,Xe,Zn,!1)),Di(t))}function U_(t,r,a){if((nt&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||pi(t,r),h=l?SS(t,r):Fd(t,r,!0),d=l;do{if(h===0){ro&&!l&&ts(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!TS(a)){h=Fd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var A=t;h=Bl;var C=A.current.memoizedState.isDehydrated;if(C&&(lo(A,v).flags|=256),v=Fd(A,v,!1),v!==2){if(xd&&!C){A.errorRecoveryDisabledLanes|=d,ca|=d,h=4;break e}d=bn,bn=h,d!==null&&(bn===null?bn=d:bn.push.apply(bn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){lo(t,0),ts(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ts(l,r,Zn,!Zr);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=kd+300-an(),10<h)){if(ts(l,r,Zn,!Zr),gn(l,0,!0)!==0)break e;l.timeoutHandle=fv(L_.bind(null,l,a,bn,Uc,Pd,r,Zn,ca,so,Zr,d,2,-0,0),h);break e}L_(l,a,bn,Uc,Pd,r,Zn,ca,so,Zr,d,0,-0,0)}}break}while(!0);Di(t)}function L_(t,r,a,l,h,d,v,A,C,j,W,ne,H,G){if(t.timeoutHandle=-1,ne=r.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:nb},O_(r),ne=rb(),ne!==null)){t.cancelPendingCommit=ne(G_.bind(null,t,r,d,a,l,h,v,A,C,W,1,H,G)),ts(t,d,v,!j);return}G_(t,r,d,a,l,h,v,A,C)}function TS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!On(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ts(t,r,a,l){r&=~Md,r&=~ca,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-rt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Dr(t,a,r)}function Lc(){return(nt&6)===0?(jl(0),!1):!0}function zd(){if(He!==null){if(it===0)var t=He.return;else t=He,ir=ra=null,id(t),eo=null,Ol=0,t=He;for(;t!==null;)y_(t.alternate,t),t=t.return;He=null}}function lo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,BS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),zd(),ht=t,He=a=er(t.current,null),Xe=r,it=0,Pn=null,Zr=!1,ro=pi(t,r),xd=!1,so=Zn=Md=ca=Wr=St=0,bn=Bl=null,Pd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-rt(l),d=1<<h;r|=t[h],l&=~d}return hr=r,ac(),a}function B_(t,r){Fe=null,$.H=wc,r===Al||r===gc?(r=ny(),it=3):r===Jp?(r=ny(),it=4):it=r===i_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Pn=r,He===null&&(St=1,Nc(t,Qn(r,t.current)))}function z_(){var t=$.H;return $.H=wc,t===null?wc:t}function j_(){var t=$.A;return $.A=vS,t}function jd(){St=4,Zr||(Xe&4194048)!==Xe&&$n.current!==null||(ro=!0),(Wr&134217727)===0&&(ca&134217727)===0||ht===null||ts(ht,Xe,Zn,!1)}function Fd(t,r,a){var l=nt;nt|=2;var h=z_(),d=j_();(ht!==t||Xe!==r)&&(Uc=null,lo(t,r)),r=!1;var v=St;e:do try{if(it!==0&&He!==null){var A=He,C=Pn;switch(it){case 8:zd(),v=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(r=!0);var j=it;if(it=0,Pn=null,uo(t,A,C,j),a&&ro){v=0;break e}break;default:j=it,it=0,Pn=null,uo(t,A,C,j)}}AS(),v=St;break}catch(W){B_(t,W)}while(!0);return r&&t.shellSuspendCounter++,ir=ra=null,nt=l,$.H=h,$.A=d,He===null&&(ht=null,Xe=0,ac()),v}function AS(){for(;He!==null;)F_(He)}function SS(t,r){var a=nt;nt|=2;var l=z_(),h=j_();ht!==t||Xe!==r?(Uc=null,kc=an()+500,lo(t,r)):ro=pi(t,r);e:do try{if(it!==0&&He!==null){r=He;var d=Pn;t:switch(it){case 1:it=0,Pn=null,uo(t,r,d,1);break;case 2:case 9:if(ey(d)){it=0,Pn=null,q_(r);break}r=function(){it!==2&&it!==9||ht!==t||(it=7),Di(t)},d.then(r,r);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:ey(d)?(it=0,Pn=null,q_(r)):(it=0,Pn=null,uo(t,r,d,7));break;case 5:var v=null;switch(He.tag){case 26:v=He.memoizedState;case 5:case 27:var A=He;if(!v||bv(v)){it=0,Pn=null;var C=A.sibling;if(C!==null)He=C;else{var j=A.return;j!==null?(He=j,Bc(j)):He=null}break t}}it=0,Pn=null,uo(t,r,d,5);break;case 6:it=0,Pn=null,uo(t,r,d,6);break;case 8:zd(),St=6;break e;default:throw Error(s(462))}}bS();break}catch(W){B_(t,W)}while(!0);return ir=ra=null,$.H=l,$.A=h,nt=a,He!==null?0:(ht=null,Xe=0,ac(),St)}function bS(){for(;He!==null&&!Ra();)F_(He)}function F_(t){var r=g_(t.alternate,t,hr);t.memoizedProps=t.pendingProps,r===null?Bc(t):He=r}function q_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=u_(a,r,r.pendingProps,r.type,void 0,Xe);break;case 11:r=u_(a,r,r.pendingProps,r.type.render,r.ref,Xe);break;case 5:id(r);default:y_(a,r),r=He=Hp(r,hr),r=g_(a,r,hr)}t.memoizedProps=t.pendingProps,r===null?Bc(t):He=r}function uo(t,r,a,l){ir=ra=null,id(r),eo=null,Ol=0;var h=r.return;try{if(dS(t,h,r,a,Xe)){St=1,Nc(t,Qn(a,t.current)),He=null;return}}catch(d){if(h!==null)throw He=h,d;St=1,Nc(t,Qn(a,t.current)),He=null;return}r.flags&32768?(Je||l===1?t=!0:ro||(Xe&536870912)!==0?t=!1:(Zr=t=!0,(l===2||l===9||l===3||l===6)&&(l=$n.current,l!==null&&l.tag===13&&(l.flags|=16384))),H_(r,t)):Bc(r)}function Bc(t){var r=t;do{if((r.flags&32768)!==0){H_(r,Zr);return}t=r.return;var a=gS(r.alternate,r,hr);if(a!==null){He=a;return}if(r=r.sibling,r!==null){He=r;return}He=r=t}while(r!==null);St===0&&(St=5)}function H_(t,r){do{var a=pS(t.alternate,t);if(a!==null){a.flags&=32767,He=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){He=t;return}He=t=a}while(t!==null);St=6,He=null}function G_(t,r,a,l,h,d,v,A,C){t.cancelPendingCommit=null;do zc();while(en!==0);if((nt&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Vf,qu(t,a,d,v,A,C),t===ht&&(He=ht=null,Xe=0),ao=r,es=t,oo=a,Ud=d,Ld=h,P_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,CS(z,function(){return $_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=le.p,le.p=2,v=nt,nt|=4;try{yS(t,r,a)}finally{nt=v,le.p=h,$.T=l}}en=1,Q_(),K_(),Y_()}}function Q_(){if(en===1){en=0;var t=es,r=ao,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=le.p;le.p=2;var h=nt;nt|=4;try{C_(r,t);var d=em,v=Mp(t.containerInfo),A=d.focusedElem,C=d.selectionRange;if(v!==A&&A&&A.ownerDocument&&xp(A.ownerDocument.documentElement,A)){if(C!==null&&If(A)){var j=C.start,W=C.end;if(W===void 0&&(W=j),"selectionStart"in A)A.selectionStart=j,A.selectionEnd=Math.min(W,A.value.length);else{var ne=A.ownerDocument||document,H=ne&&ne.defaultView||window;if(H.getSelection){var G=H.getSelection(),De=A.textContent.length,be=Math.min(C.start,De),lt=C.end===void 0?be:Math.min(C.end,De);!G.extend&&be>lt&&(v=lt,lt=be,be=v);var U=Vp(A,be),M=Vp(A,lt);if(U&&M&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var L=ne.createRange();L.setStart(U.node,U.offset),G.removeAllRanges(),be>lt?(G.addRange(L),G.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),G.addRange(L))}}}}for(ne=[],G=A;G=G.parentNode;)G.nodeType===1&&ne.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ne.length;A++){var J=ne[A];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Wc=!!Jd,em=Jd=null}finally{nt=h,le.p=l,$.T=a}}t.current=r,en=2}}function K_(){if(en===2){en=0;var t=es,r=ao,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=le.p;le.p=2;var h=nt;nt|=4;try{b_(t,r.alternate,r)}finally{nt=h,le.p=l,$.T=a}}en=3}}function Y_(){if(en===4||en===3){en=0,Ns();var t=es,r=ao,a=oo,l=P_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?en=5:(en=0,ao=es=null,X_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Jr=null),Wo(a),r=r.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(_e,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,h=le.p,le.p=2,$.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var A=l[v];d(A.value,{componentStack:A.stack})}}finally{$.T=r,le.p=h}}(oo&3)!==0&&zc(),Di(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Bd?zl++:(zl=0,Bd=t):zl=0,jl(0)}}function X_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,El(r)))}function zc(t){return Q_(),K_(),Y_(),$_()}function $_(){if(en!==5)return!1;var t=es,r=Ud;Ud=0;var a=Wo(oo),l=$.T,h=le.p;try{le.p=32>a?32:a,$.T=null,a=Ld,Ld=null;var d=es,v=oo;if(en=0,ao=es=null,oo=0,(nt&6)!==0)throw Error(s(331));var A=nt;if(nt|=4,x_(d.current),N_(d,d.current,v,a),nt=A,jl(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(_e,d)}catch{}return!0}finally{le.p=h,$.T=l,X_(t,r)}}function Z_(t,r,a){r=Qn(a,r),r=yd(t.stateNode,r,2),t=Hr(t,r,2),t!==null&&(wt(t,2),Di(t))}function ut(t,r,a){if(t.tag===3)Z_(t,t,a);else for(;r!==null;){if(r.tag===3){Z_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Jr===null||!Jr.has(l))){t=Qn(a,t),a=t_(2),l=Hr(r,a,2),l!==null&&(n_(a,l,r,t),wt(l,2),Di(l));break}}r=r.return}}function qd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ES;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(xd=!0,h.add(a),t=wS.bind(null,t,r,a),r.then(t,t))}function wS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(Xe&a)===a&&(St===4||St===3&&(Xe&62914560)===Xe&&300>an()-kd?(nt&2)===0&&lo(t,0):Md|=a,so===Xe&&(so=0)),Di(t)}function W_(t,r){r===0&&(r=Cr()),t=Ha(t,r),t!==null&&(wt(t,r),Di(t))}function RS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),W_(t,a)}function IS(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),W_(t,a)}function CS(t,r){return Hi(t,r)}var jc=null,co=null,Hd=!1,Fc=!1,Gd=!1,ha=0;function Di(t){t!==co&&t.next===null&&(co===null?jc=co=t:co=co.next=t),Fc=!0,Hd||(Hd=!0,NS())}function jl(t,r){if(!Gd&&Fc){Gd=!0;do for(var a=!1,l=jc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-rt(42|t)+1)-1,d&=h&~(v&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,nv(l,d))}else d=Xe,d=gn(l,l===ht?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||pi(l,d)||(a=!0,nv(l,d));l=l.next}while(a);Gd=!1}}function DS(){J_()}function J_(){Fc=Hd=!1;var t=0;ha!==0&&(LS()&&(t=ha),ha=0);for(var r=an(),a=null,l=jc;l!==null;){var h=l.next,d=ev(l,r);d===0?(l.next=null,a===null?jc=h:a.next=h,h===null&&(co=a)):(a=l,(t!==0||(d&3)!==0)&&(Fc=!0)),l=h}jl(t)}function ev(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-rt(d),A=1<<v,C=h[v];C===-1?((A&a)===0||(A&l)!==0)&&(h[v]=Qi(A,r)):C<=r&&(t.expiredLanes|=A),d&=~A}if(r=ht,a=Xe,a=gn(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(it===2||it===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Gi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||pi(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Gi(l),Wo(a)){case 2:case 8:a=D;break;case 32:a=z;break;case 268435456:a=de;break;default:a=z}return l=tv.bind(null,t),a=Hi(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Gi(l),t.callbackPriority=2,t.callbackNode=null,2}function tv(t,r){if(en!==0&&en!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(zc()&&t.callbackNode!==a)return null;var l=Xe;return l=gn(t,t===ht?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(U_(t,l,r),ev(t,an()),t.callbackNode!=null&&t.callbackNode===a?tv.bind(null,t):null)}function nv(t,r){if(zc())return null;U_(t,r,!0)}function NS(){zS(function(){(nt&6)!==0?Hi(Tt,DS):J_()})}function Qd(){return ha===0&&(ha=$o()),ha}function iv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ni(""+t)}function rv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function OS(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=iv((h[Wt]||null).action),v=l.submitter;v&&(r=(r=v[Wt]||null)?iv(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var A=new Hs("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ha!==0){var C=v?rv(h,v):new FormData(h);fd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(A.preventDefault(),C=v?rv(h,v):new FormData(h),fd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Kd=0;Kd<Of.length;Kd++){var Yd=Of[Kd],VS=Yd.toLowerCase(),xS=Yd[0].toUpperCase()+Yd.slice(1);ai(VS,"on"+xS)}ai(Up,"onAnimationEnd"),ai(Lp,"onAnimationIteration"),ai(Bp,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai($1,"onTransitionRun"),ai(Z1,"onTransitionStart"),ai(W1,"onTransitionCancel"),ai(zp,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function sv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var A=l[v],C=A.instance,j=A.currentTarget;if(A=A.listener,C!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=j;try{d(h)}catch(W){Dc(W)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(A=l[v],C=A.instance,j=A.currentTarget,A=A.listener,C!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=j;try{d(h)}catch(W){Dc(W)}h.currentTarget=null,d=C}}}}function Ge(t,r){var a=r[Os];a===void 0&&(a=r[Os]=new Set);var l=t+"__bubble";a.has(l)||(av(r,t,2,!1),a.add(l))}function Xd(t,r,a){var l=0;r&&(l|=4),av(a,t,l,r)}var qc="_reactListening"+Math.random().toString(36).slice(2);function $d(t){if(!t[qc]){t[qc]=!0,Hu.forEach(function(a){a!=="selectionchange"&&(MS.has(a)||Xd(a,!1,t),Xd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[qc]||(r[qc]=!0,Xd("selectionchange",!1,r))}}function av(t,r,a,l){switch(Nv(r)){case 2:var h=ob;break;case 8:h=lb;break;default:h=cm}a=h.bind(null,r,a,t),h=void 0,!Wi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Zd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;A!==null;){if(v=_i(A),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}A=A.parentNode}}l=l.return}js(function(){var j=d,W=sl(a),ne=[];e:{var H=jp.get(t);if(H!==void 0){var G=Hs,De=t;switch(t){case"keypress":if(Fs(a)===0)break e;case"keydown":case"keyup":G=za;break;case"focusin":De="focus",G=Ua;break;case"focusout":De="blur",G=Ua;break;case"beforeblur":case"afterblur":G=Ua;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=zr;break;case Up:case Lp:case Bp:G=ol;break;case zp:G=y;break;case"scroll":case"scrollend":G=Qs;break;case"wheel":G=S;break;case"copy":case"cut":case"paste":G=Ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=cl;break;case"toggle":case"beforetoggle":G=K}var be=(r&4)!==0,lt=!be&&(t==="scroll"||t==="scrollend"),U=be?H!==null?H+"Capture":null:H;be=[];for(var M=j,L;M!==null;){var J=M;if(L=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||L===null||U===null||(J=Lr(M,U),J!=null&&be.push(ql(M,J,L))),lt)break;M=M.return}0<be.length&&(H=new G(H,De,null,a,W),ne.push({event:H,listeners:be}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&a!==rl&&(De=a.relatedTarget||a.fromElement)&&(_i(De)||De[Yi]))break e;if((G||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,G?(De=a.relatedTarget||a.toElement,G=j,De=De?_i(De):null,De!==null&&(lt=u(De),be=De.tag,De!==lt||be!==5&&be!==27&&be!==6)&&(De=null)):(G=null,De=j),G!==De)){if(be=Xs,J="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(be=cl,J="onPointerLeave",U="onPointerEnter",M="pointer"),lt=G==null?H:Vr(G),L=De==null?H:Vr(De),H=new be(J,M+"leave",G,a,W),H.target=lt,H.relatedTarget=L,J=null,_i(W)===j&&(be=new be(U,M+"enter",De,a,W),be.target=L,be.relatedTarget=lt,J=be),lt=J,G&&De)t:{for(be=G,U=De,M=0,L=be;L;L=ho(L))M++;for(L=0,J=U;J;J=ho(J))L++;for(;0<M-L;)be=ho(be),M--;for(;0<L-M;)U=ho(U),L--;for(;M--;){if(be===U||U!==null&&be===U.alternate)break t;be=ho(be),U=ho(U)}be=null}else be=null;G!==null&&ov(ne,H,G,be,!1),De!==null&&lt!==null&&ov(ne,lt,De,be,!0)}}e:{if(H=j?Vr(j):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ye=Rp;else if(bp(H))if(Ip)ye=K1;else{ye=G1;var qe=H1}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?j&&Ma(j.elementType)&&(ye=Rp):ye=Q1;if(ye&&(ye=ye(t,j))){wp(ne,ye,a,W);break e}qe&&qe(t,H,j),t==="focusout"&&j&&H.type==="number"&&j.memoizedProps.value!=null&&tl(H,"number",H.value)}switch(qe=j?Vr(j):window,t){case"focusin":(bp(qe)||qe.contentEditable==="true")&&(ja=qe,Cf=j,gl=null);break;case"focusout":gl=Cf=ja=null;break;case"mousedown":Df=!0;break;case"contextmenu":case"mouseup":case"dragend":Df=!1,Pp(ne,a,W);break;case"selectionchange":if(X1)break;case"keydown":case"keyup":Pp(ne,a,W)}var Ae;if(Me)e:{switch(t){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else si?ii(t,a)&&(Ie="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(Ct&&a.locale!=="ko"&&(si||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&si&&(Ae=$u()):(Gn=W,ct="value"in Gn?Gn.value:Gn.textContent,si=!0)),qe=Hc(j,Ie),0<qe.length&&(Ie=new ul(Ie,t,null,a,W),ne.push({event:Ie,listeners:qe}),Ae?Ie.data=Ae:(Ae=ri(a),Ae!==null&&(Ie.data=Ae)))),(Ae=tt?hl(t,a):j1(t,a))&&(Ie=Hc(j,"onBeforeInput"),0<Ie.length&&(qe=new ul("onBeforeInput","beforeinput",null,a,W),ne.push({event:qe,listeners:Ie}),qe.data=Ae)),OS(ne,t,j,a,W)}sv(ne,r)})}function ql(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Hc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Lr(t,a),h!=null&&l.unshift(ql(t,h,d)),h=Lr(t,r),h!=null&&l.push(ql(t,h,d))),t.tag===3)return l;t=t.return}return[]}function ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ov(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var A=a,C=A.alternate,j=A.stateNode;if(A=A.tag,C!==null&&C===l)break;A!==5&&A!==26&&A!==27||j===null||(C=j,h?(j=Lr(a,d),j!=null&&v.unshift(ql(a,j,C))):h||(j=Lr(a,d),j!=null&&v.push(ql(a,j,C)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var PS=/\r\n?/g,kS=/\u0000|\uFFFD/g;function lv(t){return(typeof t=="string"?t:""+t).replace(PS,`
`).replace(kS,"")}function uv(t,r){return r=lv(r),lv(t)===r}function Gc(){}function ot(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Hn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Hn(t,""+l);break;case"className":ks(t,"class",l);break;case"tabIndex":ks(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ks(t,a,l);break;case"style":il(t,l,d);break;case"data":if(r!=="object"){ks(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ni(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&ot(t,r,"name",h.name,h,null),ot(t,r,"formEncType",h.formEncType,h,null),ot(t,r,"formMethod",h.formMethod,h,null),ot(t,r,"formTarget",h.formTarget,h,null)):(ot(t,r,"encType",h.encType,h,null),ot(t,r,"method",h.method,h,null),ot(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ni(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Gc);break;case"onScroll":l!=null&&Ge("scroll",t);break;case"onScrollEnd":l!=null&&Ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ni(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ge("beforetoggle",t),Ge("toggle",t),Ps(t,"popover",l);break;case"xlinkActuate":qn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ps(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ku.get(a)||a,Ps(t,a,l))}}function Wd(t,r,a,l,h,d){switch(a){case"style":il(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Hn(t,l):(typeof l=="number"||typeof l=="bigint")&&Hn(t,""+l);break;case"onScroll":l!=null&&Ge("scroll",t);break;case"onScrollEnd":l!=null&&Ge("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[Wt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ps(t,a,l)}}}function tn(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",t),Ge("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ot(t,r,d,v,a,null)}}h&&ot(t,r,"srcSet",a.srcSet,a,null),l&&ot(t,r,"src",a.src,a,null);return;case"input":Ge("invalid",t);var A=d=v=h=null,C=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":C=W;break;case"defaultChecked":j=W;break;case"value":d=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:ot(t,r,l,W,a,null)}}el(t,d,A,C,j,v,h,!1),Pr(t);return;case"select":Ge("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:ot(t,r,h,A,a,null)}r=d,a=v,t.multiple=!!l,r!=null?kr(t,!!l,r,!1):a!=null&&kr(t,!!l,a,!0);return;case"textarea":Ge("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ot(t,r,v,A,a,null)}Qu(t,l,h,d),Pr(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ot(t,r,C,l,a,null)}return;case"dialog":Ge("beforetoggle",t),Ge("toggle",t),Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":Ge("load",t);break;case"video":case"audio":for(l=0;l<Fl.length;l++)Ge(Fl[l],t);break;case"image":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"embed":case"source":case"link":Ge("error",t),Ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ot(t,r,j,l,a,null)}return;default:if(Ma(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Wd(t,r,W,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&ot(t,r,A,l,a,null))}function US(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,A=null,C=null,j=null,W=null;for(G in a){var ne=a[G];if(a.hasOwnProperty(G)&&ne!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=ne;default:l.hasOwnProperty(G)||ot(t,r,G,null,l,ne)}}for(var H in l){var G=l[H];if(ne=a[H],l.hasOwnProperty(H)&&(G!=null||ne!=null))switch(H){case"type":d=G;break;case"name":h=G;break;case"checked":j=G;break;case"defaultChecked":W=G;break;case"value":v=G;break;case"defaultValue":A=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==ne&&ot(t,r,H,G,l,ne)}}Jo(t,v,A,C,j,W,d,h);return;case"select":G=v=A=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||ot(t,r,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==C&&ot(t,r,h,d,l,C)}r=A,a=v,l=G,H!=null?kr(t,!!a,H,!1):!!l!=!!a&&(r!=null?kr(t,!!a,r,!0):kr(t,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ot(t,r,A,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ot(t,r,v,h,l,d)}Gu(t,H,G);return;case"option":for(var De in a)if(H=a[De],a.hasOwnProperty(De)&&H!=null&&!l.hasOwnProperty(De))switch(De){case"selected":t.selected=!1;break;default:ot(t,r,De,null,l,H)}for(C in l)if(H=l[C],G=a[C],l.hasOwnProperty(C)&&H!==G&&(H!=null||G!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:ot(t,r,C,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)H=a[be],a.hasOwnProperty(be)&&H!=null&&!l.hasOwnProperty(be)&&ot(t,r,be,null,l,H);for(j in l)if(H=l[j],G=a[j],l.hasOwnProperty(j)&&H!==G&&(H!=null||G!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:ot(t,r,j,H,l,G)}return;default:if(Ma(r)){for(var lt in a)H=a[lt],a.hasOwnProperty(lt)&&H!==void 0&&!l.hasOwnProperty(lt)&&Wd(t,r,lt,void 0,l,H);for(W in l)H=l[W],G=a[W],!l.hasOwnProperty(W)||H===G||H===void 0&&G===void 0||Wd(t,r,W,H,l,G);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&ot(t,r,U,null,l,H);for(ne in l)H=l[ne],G=a[ne],!l.hasOwnProperty(ne)||H===G||H==null&&G==null||ot(t,r,ne,H,l,G)}var Jd=null,em=null;function Qc(t){return t.nodeType===9?t:t.ownerDocument}function cv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function tm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nm=null;function LS(){var t=window.event;return t&&t.type==="popstate"?t===nm?!1:(nm=t,!0):(nm=null,!1)}var fv=typeof setTimeout=="function"?setTimeout:void 0,BS=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,zS=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(t){return dv.resolve(null).then(t).catch(jS)}:fv;function jS(t){setTimeout(function(){throw t})}function ns(t){return t==="head"}function mv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Hl(v.documentElement),a&2&&Hl(v.body),a&4)for(a=v.head,Hl(a),v=a.firstChild;v;){var A=v.nextSibling,C=v.nodeName;v[Or]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=A}}if(h===0){t.removeChild(d),Wl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Wl(r)}function im(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),Da(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function FS(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Or])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=li(t.nextSibling),t===null)break}return null}function qS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=li(t.nextSibling),t===null))return null;return t}function rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function HS(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function li(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var sm=null;function gv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function pv(t,r,a){switch(r=Qc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Hl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Da(t)}var Wn=new Map,yv=new Set;function Kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fr=le.d;le.d={f:GS,r:QS,D:KS,C:YS,L:XS,m:$S,X:WS,S:ZS,M:JS};function GS(){var t=fr.f(),r=Lc();return t||r}function QS(t){var r=vi(t);r!==null&&r.tag===5&&r.type==="form"?Uy(r):fr.r(t)}var fo=typeof document>"u"?null:document;function _v(t,r,a){var l=fo;if(l&&typeof r=="string"&&r){var h=Qt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),yv.has(h)||(yv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),tn(r,"link",t),It(r),l.head.appendChild(r)))}}function KS(t){fr.D(t),_v("dns-prefetch",t,null)}function YS(t,r){fr.C(t,r),_v("preconnect",t,r)}function XS(t,r,a){fr.L(t,r,a);var l=fo;if(l&&t&&r){var h='link[rel="preload"][as="'+Qt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Qt(a.imageSizes)+'"]')):h+='[href="'+Qt(t)+'"]';var d=h;switch(r){case"style":d=mo(t);break;case"script":d=go(t)}Wn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Wn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Gl(d))||r==="script"&&l.querySelector(Ql(d))||(r=l.createElement("link"),tn(r,"link",t),It(r),l.head.appendChild(r)))}}function $S(t,r){fr.m(t,r);var a=fo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Qt(l)+'"][href="'+Qt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=go(t)}if(!Wn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Wn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(d)))return}l=a.createElement("link"),tn(l,"link",t),It(l),a.head.appendChild(l)}}}function ZS(t,r,a){fr.S(t,r,a);var l=fo;if(l&&t){var h=xr(l).hoistableStyles,d=mo(t);r=r||"default";var v=h.get(d);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(Gl(d)))A.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Wn.get(d))&&am(t,a);var C=v=l.createElement("link");It(C),tn(C,"link",t),C._p=new Promise(function(j,W){C.onload=j,C.onerror=W}),C.addEventListener("load",function(){A.loading|=1}),C.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Yc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:A},h.set(d,v)}}}function WS(t,r){fr.X(t,r);var a=fo;if(a&&t){var l=xr(a).hoistableScripts,h=go(t),d=l.get(h);d||(d=a.querySelector(Ql(h)),d||(t=E({src:t,async:!0},r),(r=Wn.get(h))&&om(t,r),d=a.createElement("script"),It(d),tn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function JS(t,r){fr.M(t,r);var a=fo;if(a&&t){var l=xr(a).hoistableScripts,h=go(t),d=l.get(h);d||(d=a.querySelector(Ql(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Wn.get(h))&&om(t,r),d=a.createElement("script"),It(d),tn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function vv(t,r,a,l){var h=(h=Re.current)?Kc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=mo(a.href),a=xr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=mo(a.href);var d=xr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Gl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(t,a),d||eb(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=go(a),a=xr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function mo(t){return'href="'+Qt(t)+'"'}function Gl(t){return'link[rel="stylesheet"]['+t+"]"}function Ev(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function eb(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),tn(r,"link",a),It(r),t.head.appendChild(r))}function go(t){return'[src="'+Qt(t)+'"]'}function Ql(t){return"script[async]"+t}function Tv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Qt(a.href)+'"]');if(l)return r.instance=l,It(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),It(l),tn(l,"style",h),Yc(l,a.precedence,t),r.instance=l;case"stylesheet":h=mo(a.href);var d=t.querySelector(Gl(h));if(d)return r.state.loading|=4,r.instance=d,It(d),d;l=Ev(a),(h=Wn.get(h))&&am(l,h),d=(t.ownerDocument||t).createElement("link"),It(d);var v=d;return v._p=new Promise(function(A,C){v.onload=A,v.onerror=C}),tn(d,"link",l),r.state.loading|=4,Yc(d,a.precedence,t),r.instance=d;case"script":return d=go(a.src),(h=t.querySelector(Ql(d)))?(r.instance=h,It(h),h):(l=a,(h=Wn.get(d))&&(l=E({},a),om(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),It(h),tn(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Yc(l,a.precedence,t));return r.instance}function Yc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===r)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function am(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function om(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Xc=null;function Av(t,r,a){if(Xc===null){var l=new Map,h=Xc=new Map;h.set(a,l)}else h=Xc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Or]||d[Rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var A=l.get(v);A?A.push(d):l.set(v,[d])}}return l}function Sv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function tb(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function bv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Kl=null;function nb(){}function ib(t,r,a){if(Kl===null)throw Error(s(475));var l=Kl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=mo(a.href),d=t.querySelector(Gl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=$c.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,It(d);return}d=t.ownerDocument||t,a=Ev(a),(h=Wn.get(h))&&am(a,h),d=d.createElement("link"),It(d);var v=d;v._p=new Promise(function(A,C){v.onload=A,v.onerror=C}),tn(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=$c.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function rb(){if(Kl===null)throw Error(s(475));var t=Kl;return t.stylesheets&&t.count===0&&lm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&lm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function $c(){if(this.count--,this.count===0){if(this.stylesheets)lm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zc=null;function lm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zc=new Map,r.forEach(sb,t),Zc=null,$c.call(t))}function sb(t,r){if(!(r.state.loading&4)){var a=Zc.get(t);if(a)var l=a.get(null);else{a=new Map,Zc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=$c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Yl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function ab(t,r,a,l,h,d,v,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ca(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ca(0),this.hiddenUpdates=Ca(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function wv(t,r,a,l,h,d,v,A,C,j,W,ne){return t=new ab(t,r,a,v,A,C,j,ne),r=1,d===!0&&(r|=24),d=Vn(3,null,null,r),t.current=d,d.stateNode=t,r=qf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Kf(d),t}function Rv(t){return t?(t=Ga,t):Ga}function Iv(t,r,a,l,h,d){h=Rv(h),l.context===null?l.context=h:l.pendingContext=h,l=qr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Hr(t,l,r),a!==null&&(Un(a,t,r),bl(a,t,r))}function Cv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function um(t,r){Cv(t,r),(t=t.alternate)&&Cv(t,r)}function Dv(t){if(t.tag===13){var r=Ha(t,67108864);r!==null&&Un(r,t,67108864),um(t,67108864)}}var Wc=!0;function ob(t,r,a,l){var h=$.T;$.T=null;var d=le.p;try{le.p=2,cm(t,r,a,l)}finally{le.p=d,$.T=h}}function lb(t,r,a,l){var h=$.T;$.T=null;var d=le.p;try{le.p=8,cm(t,r,a,l)}finally{le.p=d,$.T=h}}function cm(t,r,a,l){if(Wc){var h=hm(l);if(h===null)Zd(t,r,l,Jc,a),Ov(t,l);else if(cb(h,t,r,a,l))l.stopPropagation();else if(Ov(t,l),r&4&&-1<ub.indexOf(t)){for(;h!==null;){var d=vi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Dn(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var C=1<<31-rt(v);A.entanglements[1]|=C,v&=~C}Di(d),(nt&6)===0&&(kc=an()+500,jl(0))}}break;case 13:A=Ha(d,2),A!==null&&Un(A,d,2),Lc(),um(d,2)}if(d=hm(l),d===null&&Zd(t,r,l,Jc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Zd(t,r,l,null,a)}}function hm(t){return t=sl(t),fm(t)}var Jc=null;function fm(t){if(Jc=null,t=_i(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Jc=t,null}function Nv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xo()){case Tt:return 2;case D:return 8;case z:case Z:return 32;case de:return 268435456;default:return 32}default:return 32}}var dm=!1,is=null,rs=null,ss=null,Xl=new Map,$l=new Map,as=[],ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ov(t,r){switch(t){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":Xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(r.pointerId)}}function Zl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=vi(r),r!==null&&Dv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function cb(t,r,a,l,h){switch(r){case"focusin":return is=Zl(is,t,r,a,l,h),!0;case"dragenter":return rs=Zl(rs,t,r,a,l,h),!0;case"mouseover":return ss=Zl(ss,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Xl.set(d,Zl(Xl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,$l.set(d,Zl($l.get(d)||null,t,r,a,l,h)),!0}return!1}function Vv(t){var r=_i(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Ef(t.priority,function(){if(a.tag===13){var l=kn();l=Zo(l);var h=Ha(a,l);h!==null&&Un(h,a,l),um(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=hm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);rl=l,a.target.dispatchEvent(l),rl=null}else return r=vi(a),r!==null&&Dv(r),t.blockedOn=a,!1;r.shift()}return!0}function xv(t,r,a){eh(t)&&a.delete(r)}function hb(){dm=!1,is!==null&&eh(is)&&(is=null),rs!==null&&eh(rs)&&(rs=null),ss!==null&&eh(ss)&&(ss=null),Xl.forEach(xv),$l.forEach(xv)}function th(t,r){t.blockedOn===r&&(t.blockedOn=null,dm||(dm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,hb)))}var nh=null;function Mv(t){nh!==t&&(nh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){nh===t&&(nh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var d=vi(a);d!==null&&(t.splice(r,3),r-=3,fd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Wl(t){function r(C){return th(C,t)}is!==null&&th(is,t),rs!==null&&th(rs,t),ss!==null&&th(ss,t),Xl.forEach(r),$l.forEach(r);for(var a=0;a<as.length;a++){var l=as[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<as.length&&(a=as[0],a.blockedOn===null);)Vv(a),a.blockedOn===null&&as.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Wt]||null;if(typeof d=="function")v||Mv(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Wt]||null)A=v.formAction;else if(fm(h)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),Mv(a)}}}function mm(t){this._internalRoot=t}ih.prototype.render=mm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=kn();Iv(a,l,t,r,null,null)},ih.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Iv(t.current,2,null,t,null,null),Lc(),r[Yi]=null}};function ih(t){this._internalRoot=t}ih.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ki();t={blockedOn:null,target:t,priority:r};for(var a=0;a<as.length&&r!==0&&r<as[a].priority;a++);as.splice(a,0,t),a===0&&Vv(t)}};var Pv=e.version;if(Pv!=="19.1.1")throw Error(s(527,Pv,"19.1.1"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var fb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{_e=rh.inject(fb),Oe=rh}catch{}}return eu.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Zy,d=Wy,v=Jy,A=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks)),r=wv(t,1,!1,null,null,a,l,h,d,v,A,null),t[Yi]=r.current,$d(t),new mm(r)},eu.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Zy,v=Wy,A=Jy,C=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),r=wv(t,1,!0,r,a??null,l,h,d,v,A,C,j),r.context=Rv(null),a=r.current,l=kn(),l=Zo(l),h=qr(l),h.callback=null,Hr(a,h,l),a=l,r.current.lanes=a,wt(r,a),Di(r),t[Yi]=r.current,$d(t),new ih(r)},eu.version="19.1.1",eu}var Gv;function Sb(){if(Gv)return ym.exports;Gv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ym.exports=Ab(),ym.exports}var bb=Sb();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qv="popstate";function wb(i={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=Sa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Lm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:yu(u))}function s(o,u){mi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Ib(e,n,s,i)}function vt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function mi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rb(){return Math.random().toString(36).substring(2,10)}function Kv(i,e){return{usr:i.state,key:i.key,idx:e}}function Lm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Sa(e):e,state:n,key:e&&e.key||s||Rb()}}function yu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Sa(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Ib(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let q=E(),se=q==null?null:q-g;g=q,p&&p({action:m,location:Y.location,delta:se})}function b(q,se){m="PUSH";let F=Lm(Y.location,q,se);n&&n(F,q),g=E()+1;let ae=Kv(F,g),we=Y.createHref(F);try{f.pushState(ae,"",we)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(we)}u&&p&&p({action:m,location:Y.location,delta:1})}function k(q,se){m="REPLACE";let F=Lm(Y.location,q,se);n&&n(F,q),g=E();let ae=Kv(F,g),we=Y.createHref(F);f.replaceState(ae,"",we),u&&p&&p({action:m,location:Y.location,delta:0})}function Q(q){return Cb(q)}let Y={get action(){return m},get location(){return i(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Qv,T),p=q,()=>{o.removeEventListener(Qv,T),p=null}},createHref(q){return e(o,q)},createURL:Q,encodeLocation(q){let se=Q(q);return{pathname:se.pathname,search:se.search,hash:se.hash}},push:b,replace:k,go(q){return f.go(q)}};return Y}function Cb(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:yu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function LT(i,e,n="/"){return Db(i,e,n,!1)}function Db(i,e,n,s){let o=typeof e=="string"?Sa(e):e,u=vr(o.pathname||"/",n);if(u==null)return null;let f=BT(i);Nb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=jb(u);m=Bb(f[p],g,s)}return m}function BT(i,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;vt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=yr([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(vt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),BT(f.children,e,b,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:Ub(T,f.index),routesMeta:b})};return i.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of zT(f.path))u(f,m,!0,p)}),e}function zT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=zT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Nb(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Lb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Ob=/^:[\w-]+$/,Vb=3,xb=2,Mb=1,Pb=10,kb=-2,Yv=i=>i==="*";function Ub(i,e){let n=i.split("/"),s=n.length;return n.some(Yv)&&(s+=kb),e&&(s+=xb),n.filter(o=>!Yv(o)).reduce((o,u)=>o+(Ob.test(u)?Vb:u===""?Mb:Pb),s)}function Lb(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Bb(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),b=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:yr([u,T.pathname]),pathnameBase:Gb(yr([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=yr([u,T.pathnameBase]))}return f}function bh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=zb(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},b)=>{if(E==="*"){let Q=m[b]||"";f=u.slice(0,u.length-Q.length).replace(/(.)\/+$/,"$1")}const k=m[b];return T&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function zb(i,e=!1,n=!0){mi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function jb(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function vr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Fb(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Sa(i):i;return{pathname:n?n.startsWith("/")?n:qb(n,e):e,search:Qb(s),hash:Kb(o)}}function qb(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Hb(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jT(i){let e=Hb(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function FT(i,e,n,s=!1){let o;typeof i=="string"?o=Sa(i):(o={...i},vt(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),vt(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),vt(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}m=T>=0?e[T]:"/"}let p=Fb(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var yr=i=>i.join("/").replace(/\/\/+/g,"/"),Gb=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Qb=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Kb=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Yb(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var qT=["POST","PUT","PATCH","DELETE"];new Set(qT);var Xb=["GET",...qT];new Set(Xb);var Uo=X.createContext(null);Uo.displayName="DataRouter";var Xh=X.createContext(null);Xh.displayName="DataRouterState";X.createContext(!1);var HT=X.createContext({isTransitioning:!1});HT.displayName="ViewTransition";var $b=X.createContext(new Map);$b.displayName="Fetchers";var Zb=X.createContext(null);Zb.displayName="Await";var ji=X.createContext(null);ji.displayName="Navigation";var Iu=X.createContext(null);Iu.displayName="Location";var br=X.createContext({outlet:null,matches:[],isDataRoute:!1});br.displayName="Route";var _g=X.createContext(null);_g.displayName="RouteError";function Wb(i,{relative:e}={}){vt(Cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=X.useContext(ji),{hash:o,pathname:u,search:f}=Du(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:yr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Cu(){return X.useContext(Iu)!=null}function Is(){return vt(Cu(),"useLocation() may be used only in the context of a <Router> component."),X.useContext(Iu).location}var GT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QT(i){X.useContext(ji).static||X.useLayoutEffect(i)}function Jb(){let{isDataRoute:i}=X.useContext(br);return i?fw():ew()}function ew(){vt(Cu(),"useNavigate() may be used only in the context of a <Router> component.");let i=X.useContext(Uo),{basename:e,navigator:n}=X.useContext(ji),{matches:s}=X.useContext(br),{pathname:o}=Is(),u=JSON.stringify(jT(s)),f=X.useRef(!1);return QT(()=>{f.current=!0}),X.useCallback((p,g={})=>{if(mi(f.current,GT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=FT(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:yr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}X.createContext(null);function Du(i,{relative:e}={}){let{matches:n}=X.useContext(br),{pathname:s}=Is(),o=JSON.stringify(jT(n));return X.useMemo(()=>FT(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function tw(i,e){return KT(i,e)}function KT(i,e,n,s,o){vt(Cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=X.useContext(ji),{matches:f}=X.useContext(br),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let F=T&&T.path||"";YT(g,!T||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let b=Is(),k;if(e){let F=typeof e=="string"?Sa(e):e;vt(E==="/"||F.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${F.pathname}" was given in the \`location\` prop.`),k=F}else k=b;let Q=k.pathname||"/",Y=Q;if(E!=="/"){let F=E.replace(/^\//,"").split("/");Y="/"+Q.replace(/^\//,"").split("/").slice(F.length).join("/")}let q=LT(i,{pathname:Y});mi(T||q!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),mi(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let se=aw(q&&q.map(F=>Object.assign({},F,{params:Object.assign({},p,F.params),pathname:yr([E,u.encodeLocation?u.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?E:yr([E,u.encodeLocation?u.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),f,n,s,o);return e&&se?X.createElement(Iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},se):se}function nw(){let i=hw(),e=Yb(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=X.createElement(X.Fragment,null,X.createElement("p",null," Hey developer "),X.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",X.createElement("code",{style:u},"ErrorBoundary")," or"," ",X.createElement("code",{style:u},"errorElement")," prop on your route.")),X.createElement(X.Fragment,null,X.createElement("h2",null,"Unexpected Application Error!"),X.createElement("h3",{style:{fontStyle:"italic"}},e),n?X.createElement("pre",{style:o},n):null,f)}var iw=X.createElement(nw,null),rw=class extends X.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?X.createElement(br.Provider,{value:this.props.routeContext},X.createElement(_g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sw({routeContext:i,match:e,children:n}){let s=X.useContext(Uo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),X.createElement(br.Provider,{value:i},n)}function aw(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,f=n?.errors;if(f!=null){let g=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);vt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:T,errors:b}=n,k=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!b||b[E.route.id]===void 0);if(E.route.lazy||k){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,E,T)=>{let b,k=!1,Q=null,Y=null;n&&(b=f&&E.route.id?f[E.route.id]:void 0,Q=E.route.errorElement||iw,m&&(p<0&&T===0?(YT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,Y=null):p===T&&(k=!0,Y=E.route.hydrateFallbackElement||null)));let q=e.concat(u.slice(0,T+1)),se=()=>{let F;return b?F=Q:k?F=Y:E.route.Component?F=X.createElement(E.route.Component,null):E.route.element?F=E.route.element:F=g,X.createElement(sw,{match:E,routeContext:{outlet:g,matches:q,isDataRoute:n!=null},children:F})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?X.createElement(rw,{location:n.location,revalidation:n.revalidation,component:Q,error:b,children:se(),routeContext:{outlet:null,matches:q,isDataRoute:!0},unstable_onError:s}):se()},null)}function vg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ow(i){let e=X.useContext(Uo);return vt(e,vg(i)),e}function lw(i){let e=X.useContext(Xh);return vt(e,vg(i)),e}function uw(i){let e=X.useContext(br);return vt(e,vg(i)),e}function Eg(i){let e=uw(i),n=e.matches[e.matches.length-1];return vt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function cw(){return Eg("useRouteId")}function hw(){let i=X.useContext(_g),e=lw("useRouteError"),n=Eg("useRouteError");return i!==void 0?i:e.errors?.[n]}function fw(){let{router:i}=ow("useNavigate"),e=Eg("useNavigate"),n=X.useRef(!1);return QT(()=>{n.current=!0}),X.useCallback(async(o,u={})=>{mi(n.current,GT),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Xv={};function YT(i,e,n){!e&&!Xv[i]&&(Xv[i]=!0,mi(!1,n))}X.memo(dw);function dw({routes:i,future:e,state:n,unstable_onError:s}){return KT(i,void 0,n,s,e)}function Bm(i){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mw({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){vt(!Cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=X.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Sa(n));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:b="default"}=n,k=X.useMemo(()=>{let Q=vr(p,f);return Q==null?null:{location:{pathname:Q,search:g,hash:E,state:T,key:b},navigationType:s}},[f,p,g,E,T,b,s]);return mi(k!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:X.createElement(ji.Provider,{value:m},X.createElement(Iu.Provider,{children:e,value:k}))}function gw({children:i,location:e}){return tw(zm(i),e)}function zm(i,e=[]){let n=[];return X.Children.forEach(i,(s,o)=>{if(!X.isValidElement(s))return;let u=[...e,o];if(s.type===X.Fragment){n.push.apply(n,zm(s.props.children,u));return}vt(s.type===Bm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=zm(s.props.children,u)),n.push(f)}),n}var fh="get",dh="application/x-www-form-urlencoded";function $h(i){return i!=null&&typeof i.tagName=="string"}function pw(i){return $h(i)&&i.tagName.toLowerCase()==="button"}function yw(i){return $h(i)&&i.tagName.toLowerCase()==="form"}function _w(i){return $h(i)&&i.tagName.toLowerCase()==="input"}function vw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Ew(i,e){return i.button===0&&(!e||e==="_self")&&!vw(i)}var sh=null;function Tw(){if(sh===null)try{new FormData(document.createElement("form"),0),sh=!1}catch{sh=!0}return sh}var Aw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(i){return i!=null&&!Aw.has(i)?(mi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):i}function Sw(i,e){let n,s,o,u,f;if(yw(i)){let m=i.getAttribute("action");s=m?vr(m,e):null,n=i.getAttribute("method")||fh,o=Am(i.getAttribute("enctype"))||dh,u=new FormData(i)}else if(pw(i)||_w(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?vr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||fh,o=Am(i.getAttribute("formenctype"))||Am(m.getAttribute("enctype"))||dh,u=new FormData(m,i),!Tw()){let{name:g,type:E,value:T}=i;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,T)}}else{if($h(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fh,s=null,o=dh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function bw(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&vr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function ww(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rw(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Iw(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await ww(u,n);return f.links?f.links():[]}return[]}));return Ow(s.flat(1).filter(Rw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $v(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Cw(i,e,{includeHydrateFallback:n}={}){return Dw(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Dw(i){return[...new Set(i)]}function Nw(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function Ow(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(Nw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function XT(){let i=X.useContext(Uo);return Tg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Vw(){let i=X.useContext(Xh);return Tg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Ag=X.createContext(void 0);Ag.displayName="FrameworkContext";function $T(){let i=X.useContext(Ag);return Tg(i,"You must render this element inside a <HydratedRouter> element"),i}function xw(i,e){let n=X.useContext(Ag),[s,o]=X.useState(!1),[u,f]=X.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,b=X.useRef(null);X.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let Y=se=>{se.forEach(F=>{f(F.isIntersecting)})},q=new IntersectionObserver(Y,{threshold:.5});return b.current&&q.observe(b.current),()=>{q.disconnect()}}},[i]),X.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let k=()=>{o(!0)},Q=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,b,{}]:[u,b,{onFocus:tu(m,k),onBlur:tu(p,Q),onMouseEnter:tu(g,k),onMouseLeave:tu(E,Q),onTouchStart:tu(T,k)}]:[!1,b,{}]}function tu(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Mw({page:i,...e}){let{router:n}=XT(),s=X.useMemo(()=>LT(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?X.createElement(kw,{page:i,matches:s,...e}):null}function Pw(i){let{manifest:e,routeModules:n}=$T(),[s,o]=X.useState([]);return X.useEffect(()=>{let u=!1;return Iw(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function kw({page:i,matches:e,...n}){let s=Is(),{manifest:o,routeModules:u}=$T(),{basename:f}=XT(),{loaderData:m,matches:p}=Vw(),g=X.useMemo(()=>$v(i,e,p,o,s,"data"),[i,e,p,o,s]),E=X.useMemo(()=>$v(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=X.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let Q=new Set,Y=!1;if(e.forEach(se=>{let F=o.routes[se.route.id];!F||!F.hasLoader||(!g.some(ae=>ae.route.id===se.route.id)&&se.route.id in m&&u[se.route.id]?.shouldRevalidate||F.hasClientLoader?Y=!0:Q.add(se.route.id))}),Q.size===0)return[];let q=bw(i,f,"data");return Y&&Q.size>0&&q.searchParams.set("_routes",e.filter(se=>Q.has(se.route.id)).map(se=>se.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,g,e,i,u]),b=X.useMemo(()=>Cw(E,o),[E,o]),k=Pw(E);return X.createElement(X.Fragment,null,T.map(Q=>X.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),b.map(Q=>X.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),k.map(({key:Q,link:Y})=>X.createElement("link",{key:Q,nonce:n.nonce,...Y})))}function Uw(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZT&&(window.__reactRouterVersion="7.9.1")}catch{}function Lw({basename:i,children:e,window:n}){let s=X.useRef();s.current==null&&(s.current=wb({window:n,v5Compat:!0}));let o=s.current,[u,f]=X.useState({action:o.action,location:o.location}),m=X.useCallback(p=>{X.startTransition(()=>f(p))},[f]);return X.useLayoutEffect(()=>o.listen(m),[o,m]),X.createElement(mw,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var WT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wh=X.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...b},k){let{basename:Q}=X.useContext(ji),Y=typeof g=="string"&&WT.test(g),q,se=!1;if(typeof g=="string"&&Y&&(q=g,ZT))try{let I=new URL(window.location.href),P=g.startsWith("//")?new URL(I.protocol+g):new URL(g),N=vr(P.pathname,Q);P.origin===I.origin&&N!=null?g=N+P.search+P.hash:se=!0}catch{mi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=Wb(g,{relative:o}),[ae,we,he]=xw(s,b),ke=Fw(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function O(I){e&&e(I),I.defaultPrevented||ke(I)}let R=X.createElement("a",{...b,...he,href:q||F,onClick:se||u?e:O,ref:Uw(k,we),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return ae&&!Y?X.createElement(X.Fragment,null,R,X.createElement(Mw,{page:F})):R});wh.displayName="Link";var Bw=X.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let T=Du(f,{relative:g.relative}),b=Is(),k=X.useContext(Xh),{navigator:Q,basename:Y}=X.useContext(ji),q=k!=null&&Kw(T)&&m===!0,se=Q.encodeLocation?Q.encodeLocation(T).pathname:T.pathname,F=b.pathname,ae=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(F=F.toLowerCase(),ae=ae?ae.toLowerCase():null,se=se.toLowerCase()),ae&&Y&&(ae=vr(ae,Y)||ae);const we=se!=="/"&&se.endsWith("/")?se.length-1:se.length;let he=F===se||!o&&F.startsWith(se)&&F.charAt(we)==="/",ke=ae!=null&&(ae===se||!o&&ae.startsWith(se)&&ae.charAt(se.length)==="/"),O={isActive:he,isPending:ke,isTransitioning:q},R=he?e:void 0,I;typeof s=="function"?I=s(O):I=[s,he?"active":null,ke?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(O):u;return X.createElement(wh,{...g,"aria-current":R,className:I,ref:E,style:P,to:f,viewTransition:m},typeof p=="function"?p(O):p)});Bw.displayName="NavLink";var zw=X.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=fh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...b},k)=>{let Q=Gw(),Y=Qw(m,{relative:g}),q=f.toLowerCase()==="get"?"get":"post",se=typeof m=="string"&&WT.test(m),F=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let we=ae.nativeEvent.submitter,he=we?.getAttribute("formmethod")||f;Q(we||ae.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return X.createElement("form",{ref:k,method:q,action:Y,onSubmit:s?p:F,...b,"data-discover":!se&&i==="render"?"true":void 0})});zw.displayName="Form";function jw(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JT(i){let e=X.useContext(Uo);return vt(e,jw(i)),e}function Fw(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Jb(),p=Is(),g=Du(i,{relative:u});return X.useCallback(E=>{if(Ew(E,e)){E.preventDefault();let T=n!==void 0?n:yu(p)===yu(g);m(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var qw=0,Hw=()=>`__${String(++qw)}__`;function Gw(){let{router:i}=JT("useSubmit"),{basename:e}=X.useContext(ji),n=cw();return X.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=Sw(s,e);if(o.navigate===!1){let E=o.fetcherKey||Hw();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function Qw(i,{relative:e}={}){let{basename:n}=X.useContext(ji),s=X.useContext(br);vt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Du(i||".",{relative:e})},f=Is();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:yr([n,u.pathname])),yu(u)}function Kw(i,{relative:e}={}){let n=X.useContext(HT);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=JT("useViewTransitionState"),o=Du(i,{relative:e});if(!n.isTransitioning)return!1;let u=vr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=vr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return bh(o.pathname,f)!=null||bh(o.pathname,u)!=null}const lu={home:"/",profile:"/profile"},Es={users:"users",boardGames:"boardGames"},Yw={apiKey:"AIzaSyDM9-NOmxOE-E5xLG0jaglmlG98Z1zRhRM",authDomain:"raven-board-game-party.firebaseapp.com",projectId:"raven-board-game-party",storageBucket:"raven-board-game-party.firebasestorage.app",messagingSenderId:"400848628410",appId:"1:400848628410:web:9357bba7f8c4dcc5bcb083",measurementId:"G-VXZ52R32MK"},e0="https://board-game-party.vercel.app/api/proxy?url=",t0="https://boardgamegeek.com/xmlapi/",Xw=()=>{};var Zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},$w=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},i0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,k=g&63;p||(k=64,f||(b=64)),s.push(n[E],n[T],n[b],n[k])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(n0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):$w(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new Zw;const b=u<<2|m>>4;if(s.push(b),g!==64){const k=m<<4&240|g>>2;if(s.push(k),T!==64){const Q=g<<6&192|T;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Zw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ww=function(i){const e=n0(i);return i0.encodeByteArray(e,!0)},Rh=function(i){return Ww(i).replace(/\./g,"")},r0=function(i){try{return i0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=()=>Jw().__FIREBASE_DEFAULTS__,tR=()=>{if(typeof process>"u"||typeof Zv>"u")return;const i=Zv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},nR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&r0(i[1]);return e&&JSON.parse(e)},Zh=()=>{try{return Xw()||eR()||tR()||nR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},s0=i=>Zh()?.emulatorHosts?.[i],iR=i=>{const e=s0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},a0=()=>Zh()?.config,o0=i=>Zh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function l0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Rh(JSON.stringify(n)),Rh(JSON.stringify(f)),""].join(".")}const uu={};function aR(){const i={prod:[],emulator:[]};for(const e of Object.keys(uu))uu[e]?i.emulator.push(e):i.prod.push(e);return i}function oR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Wv=!1;function u0(i,e){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||uu[i]===e||uu[i]||Wv)return;uu[i]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=aR().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,k){b.setAttribute("width","24"),b.setAttribute("id",k),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Wv=!0,f()},b}function E(b,k){b.setAttribute("id",k),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=oR(s),k=n("text"),Q=document.getElementById(k)||document.createElement("span"),Y=n("learnmore"),q=document.getElementById(Y)||document.createElement("a"),se=n("preprendIcon"),F=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const ae=b.element;m(ae),E(q,Y);const we=g();p(F,se),ae.append(F,Q,q,we),document.body.appendChild(ae)}u?(Q.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function uR(){const i=Zh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function fR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dR(){const i=dn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function mR(){return!uR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gR(){try{return typeof indexedDB=="object"}catch{return!1}}function pR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="FirebaseError";class wr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=yR,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?_R(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new wr(o,m,s)}}function _R(i,e){return i.replace(vR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const vR=/\{\$([^}]+)}/g;function ER(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function _a(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Jv(u)&&Jv(f)){if(!_a(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Jv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function TR(i,e){const n=new AR(i,e);return n.subscribe.bind(n)}class AR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");SR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Sm),o.error===void 0&&(o.error=Sm),o.complete===void 0&&(o.complete=Sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(i){return i&&i._delegate?i._delegate:i}class va{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new rR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RR(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:wR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wR(i){return i===fa?void 0:i}function RR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Qe||(Qe={}));const CR={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},DR=Qe.INFO,NR={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},OR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=NR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sg{constructor(e){this.name=e,this._logLevel=DR,this._logHandler=OR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const VR=(i,e)=>e.some(n=>i instanceof n);let eE,tE;function xR(){return eE||(eE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MR(){return tE||(tE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c0=new WeakMap,jm=new WeakMap,h0=new WeakMap,bm=new WeakMap,bg=new WeakMap;function PR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(gs(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&c0.set(n,i)}).catch(()=>{}),bg.set(e,i),e}function kR(i){if(jm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});jm.set(i,e)}let Fm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return jm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||h0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function UR(i){Fm=i(Fm)}function LR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(wm(this),e,...n);return h0.set(s,e.sort?e.sort():[e]),gs(s)}:MR().includes(i)?function(...e){return i.apply(wm(this),e),gs(c0.get(this))}:function(...e){return gs(i.apply(wm(this),e))}}function BR(i){return typeof i=="function"?LR(i):(i instanceof IDBTransaction&&kR(i),VR(i,xR())?new Proxy(i,Fm):i)}function gs(i){if(i instanceof IDBRequest)return PR(i);if(bm.has(i))return bm.get(i);const e=BR(i);return e!==i&&(bm.set(i,e),bg.set(e,i)),e}const wm=i=>bg.get(i);function zR(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=gs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(gs(f.result),p.oldVersion,p.newVersion,gs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const jR=["get","getKey","getAll","getAllKeys","count"],FR=["put","add","delete","clear"],Rm=new Map;function nE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=FR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||jR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Rm.set(e,u),u}UR(i=>({...i,get:(e,n,s)=>nE(e,n)||i.get(e,n,s),has:(e,n)=>!!nE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function HR(i){return i.getComponent()?.type==="VERSION"}const qm="@firebase/app",iE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new Sg("@firebase/app"),GR="@firebase/app-compat",QR="@firebase/analytics-compat",KR="@firebase/analytics",YR="@firebase/app-check-compat",XR="@firebase/app-check",$R="@firebase/auth",ZR="@firebase/auth-compat",WR="@firebase/database",JR="@firebase/data-connect",eI="@firebase/database-compat",tI="@firebase/functions",nI="@firebase/functions-compat",iI="@firebase/installations",rI="@firebase/installations-compat",sI="@firebase/messaging",aI="@firebase/messaging-compat",oI="@firebase/performance",lI="@firebase/performance-compat",uI="@firebase/remote-config",cI="@firebase/remote-config-compat",hI="@firebase/storage",fI="@firebase/storage-compat",dI="@firebase/firestore",mI="@firebase/ai",gI="@firebase/firestore-compat",pI="firebase",yI="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="[DEFAULT]",_I={[qm]:"fire-core",[GR]:"fire-core-compat",[KR]:"fire-analytics",[QR]:"fire-analytics-compat",[XR]:"fire-app-check",[YR]:"fire-app-check-compat",[$R]:"fire-auth",[ZR]:"fire-auth-compat",[WR]:"fire-rtdb",[JR]:"fire-data-connect",[eI]:"fire-rtdb-compat",[tI]:"fire-fn",[nI]:"fire-fn-compat",[iI]:"fire-iid",[rI]:"fire-iid-compat",[sI]:"fire-fcm",[aI]:"fire-fcm-compat",[oI]:"fire-perf",[lI]:"fire-perf-compat",[uI]:"fire-rc",[cI]:"fire-rc-compat",[hI]:"fire-gcs",[fI]:"fire-gcs-compat",[dI]:"fire-fst",[gI]:"fire-fst-compat",[mI]:"fire-vertex","fire-js":"fire-js",[pI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new Map,vI=new Map,Gm=new Map;function rE(i,e){try{i.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Co(i){const e=i.name;if(Gm.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,i);for(const n of _u.values())rE(n,i);for(const n of vI.values())rE(n,i);return!0}function wg(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function ui(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new Nu("app","Firebase",EI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=yI;function f0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Hm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ps.create("bad-app-name",{appName:String(o)});if(n||(n=a0()),!n)throw ps.create("no-options");const u=_u.get(o);if(u){if(_a(n,u.options)&&_a(s,u.config))return u;throw ps.create("duplicate-app",{appName:o})}const f=new IR(o);for(const p of Gm.values())f.addComponent(p);const m=new TI(n,s,f);return _u.set(o,m),m}function Rg(i=Hm){const e=_u.get(i);if(!e&&i===Hm&&a0())return f0();if(!e)throw ps.create("no-app",{appName:i});return e}function AI(){return Array.from(_u.values())}function ys(i,e,n){let s=_I[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(f.join(" "));return}Co(new va(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="firebase-heartbeat-database",bI=1,vu="firebase-heartbeat-store";let Im=null;function d0(){return Im||(Im=zR(SI,bI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(vu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ps.create("idb-open",{originalErrorMessage:i.message})})),Im}async function wI(i){try{const n=(await d0()).transaction(vu),s=await n.objectStore(vu).get(m0(i));return await n.done,s}catch(e){if(e instanceof wr)Er.warn(e.message);else{const n=ps.create("idb-get",{originalErrorMessage:e?.message});Er.warn(n.message)}}}async function sE(i,e){try{const s=(await d0()).transaction(vu,"readwrite");await s.objectStore(vu).put(e,m0(i)),await s.done}catch(n){if(n instanceof wr)Er.warn(n.message);else{const s=ps.create("idb-set",{originalErrorMessage:n?.message});Er.warn(s.message)}}}function m0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=1024,II=30;class CI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>II){const o=OI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Er.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=aE(),{heartbeatsToSend:n,unsentEntries:s}=DI(this._heartbeatsCache.heartbeats),o=Rh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Er.warn(e),""}}}function aE(){return new Date().toISOString().substring(0,10)}function DI(i,e=RI){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),oE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),oE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class NI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gR()?pR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return sE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return sE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function oE(i){return Rh(JSON.stringify({version:2,heartbeats:i})).length}function OI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(i){Co(new va("platform-logger",e=>new qR(e),"PRIVATE")),Co(new va("heartbeat",e=>new CI(e),"PRIVATE")),ys(qm,iE,i),ys(qm,iE,"esm2020"),ys("fire-js","")}VI("");var lE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,g0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function I(){}I.prototype=R.prototype,O.F=R.prototype,O.prototype=new I,O.prototype.constructor=O,O.D=function(P,N,x){for(var w=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)w[xe-2]=arguments[xe];return R.prototype[N].apply(P,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,I){I||(I=0);const P=Array(16);if(typeof R=="string")for(var N=0;N<16;++N)P[N]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(N=0;N<16;++N)P[N]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=O.g[0],I=O.g[1],N=O.g[2];let x=O.g[3],w;w=R+(x^I&(N^x))+P[0]+3614090360&4294967295,R=I+(w<<7&4294967295|w>>>25),w=x+(N^R&(I^N))+P[1]+3905402710&4294967295,x=R+(w<<12&4294967295|w>>>20),w=N+(I^x&(R^I))+P[2]+606105819&4294967295,N=x+(w<<17&4294967295|w>>>15),w=I+(R^N&(x^R))+P[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=R+(x^I&(N^x))+P[4]+4118548399&4294967295,R=I+(w<<7&4294967295|w>>>25),w=x+(N^R&(I^N))+P[5]+1200080426&4294967295,x=R+(w<<12&4294967295|w>>>20),w=N+(I^x&(R^I))+P[6]+2821735955&4294967295,N=x+(w<<17&4294967295|w>>>15),w=I+(R^N&(x^R))+P[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=R+(x^I&(N^x))+P[8]+1770035416&4294967295,R=I+(w<<7&4294967295|w>>>25),w=x+(N^R&(I^N))+P[9]+2336552879&4294967295,x=R+(w<<12&4294967295|w>>>20),w=N+(I^x&(R^I))+P[10]+4294925233&4294967295,N=x+(w<<17&4294967295|w>>>15),w=I+(R^N&(x^R))+P[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=R+(x^I&(N^x))+P[12]+1804603682&4294967295,R=I+(w<<7&4294967295|w>>>25),w=x+(N^R&(I^N))+P[13]+4254626195&4294967295,x=R+(w<<12&4294967295|w>>>20),w=N+(I^x&(R^I))+P[14]+2792965006&4294967295,N=x+(w<<17&4294967295|w>>>15),w=I+(R^N&(x^R))+P[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=R+(N^x&(I^N))+P[1]+4129170786&4294967295,R=I+(w<<5&4294967295|w>>>27),w=x+(I^N&(R^I))+P[6]+3225465664&4294967295,x=R+(w<<9&4294967295|w>>>23),w=N+(R^I&(x^R))+P[11]+643717713&4294967295,N=x+(w<<14&4294967295|w>>>18),w=I+(x^R&(N^x))+P[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=R+(N^x&(I^N))+P[5]+3593408605&4294967295,R=I+(w<<5&4294967295|w>>>27),w=x+(I^N&(R^I))+P[10]+38016083&4294967295,x=R+(w<<9&4294967295|w>>>23),w=N+(R^I&(x^R))+P[15]+3634488961&4294967295,N=x+(w<<14&4294967295|w>>>18),w=I+(x^R&(N^x))+P[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=R+(N^x&(I^N))+P[9]+568446438&4294967295,R=I+(w<<5&4294967295|w>>>27),w=x+(I^N&(R^I))+P[14]+3275163606&4294967295,x=R+(w<<9&4294967295|w>>>23),w=N+(R^I&(x^R))+P[3]+4107603335&4294967295,N=x+(w<<14&4294967295|w>>>18),w=I+(x^R&(N^x))+P[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=R+(N^x&(I^N))+P[13]+2850285829&4294967295,R=I+(w<<5&4294967295|w>>>27),w=x+(I^N&(R^I))+P[2]+4243563512&4294967295,x=R+(w<<9&4294967295|w>>>23),w=N+(R^I&(x^R))+P[7]+1735328473&4294967295,N=x+(w<<14&4294967295|w>>>18),w=I+(x^R&(N^x))+P[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=R+(I^N^x)+P[5]+4294588738&4294967295,R=I+(w<<4&4294967295|w>>>28),w=x+(R^I^N)+P[8]+2272392833&4294967295,x=R+(w<<11&4294967295|w>>>21),w=N+(x^R^I)+P[11]+1839030562&4294967295,N=x+(w<<16&4294967295|w>>>16),w=I+(N^x^R)+P[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=R+(I^N^x)+P[1]+2763975236&4294967295,R=I+(w<<4&4294967295|w>>>28),w=x+(R^I^N)+P[4]+1272893353&4294967295,x=R+(w<<11&4294967295|w>>>21),w=N+(x^R^I)+P[7]+4139469664&4294967295,N=x+(w<<16&4294967295|w>>>16),w=I+(N^x^R)+P[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=R+(I^N^x)+P[13]+681279174&4294967295,R=I+(w<<4&4294967295|w>>>28),w=x+(R^I^N)+P[0]+3936430074&4294967295,x=R+(w<<11&4294967295|w>>>21),w=N+(x^R^I)+P[3]+3572445317&4294967295,N=x+(w<<16&4294967295|w>>>16),w=I+(N^x^R)+P[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=R+(I^N^x)+P[9]+3654602809&4294967295,R=I+(w<<4&4294967295|w>>>28),w=x+(R^I^N)+P[12]+3873151461&4294967295,x=R+(w<<11&4294967295|w>>>21),w=N+(x^R^I)+P[15]+530742520&4294967295,N=x+(w<<16&4294967295|w>>>16),w=I+(N^x^R)+P[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=R+(N^(I|~x))+P[0]+4096336452&4294967295,R=I+(w<<6&4294967295|w>>>26),w=x+(I^(R|~N))+P[7]+1126891415&4294967295,x=R+(w<<10&4294967295|w>>>22),w=N+(R^(x|~I))+P[14]+2878612391&4294967295,N=x+(w<<15&4294967295|w>>>17),w=I+(x^(N|~R))+P[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=R+(N^(I|~x))+P[12]+1700485571&4294967295,R=I+(w<<6&4294967295|w>>>26),w=x+(I^(R|~N))+P[3]+2399980690&4294967295,x=R+(w<<10&4294967295|w>>>22),w=N+(R^(x|~I))+P[10]+4293915773&4294967295,N=x+(w<<15&4294967295|w>>>17),w=I+(x^(N|~R))+P[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=R+(N^(I|~x))+P[8]+1873313359&4294967295,R=I+(w<<6&4294967295|w>>>26),w=x+(I^(R|~N))+P[15]+4264355552&4294967295,x=R+(w<<10&4294967295|w>>>22),w=N+(R^(x|~I))+P[6]+2734768916&4294967295,N=x+(w<<15&4294967295|w>>>17),w=I+(x^(N|~R))+P[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=R+(N^(I|~x))+P[4]+4149444226&4294967295,R=I+(w<<6&4294967295|w>>>26),w=x+(I^(R|~N))+P[11]+3174756917&4294967295,x=R+(w<<10&4294967295|w>>>22),w=N+(R^(x|~I))+P[2]+718787259&4294967295,N=x+(w<<15&4294967295|w>>>17),w=I+(x^(N|~R))+P[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+x&4294967295}s.prototype.v=function(O,R){R===void 0&&(R=O.length);const I=R-this.blockSize,P=this.C;let N=this.h,x=0;for(;x<R;){if(N==0)for(;x<=I;)o(this,O,x),x+=this.blockSize;if(typeof O=="string"){for(;x<R;)if(P[N++]=O.charCodeAt(x++),N==this.blockSize){o(this,P),N=0;break}}else for(;x<R;)if(P[N++]=O[x++],N==this.blockSize){o(this,P),N=0;break}}this.h=N,this.o+=R},s.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;R=this.o*8;for(var I=O.length-8;I<O.length;++I)O[I]=R&255,R/=256;for(this.v(O),O=Array(16),R=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)O[R++]=this.g[I]>>>P&255;return O};function u(O,R){var I=m;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=R(O)}function f(O,R){this.h=R;const I=[];let P=!0;for(let N=O.length-1;N>=0;N--){const x=O[N]|0;P&&x==R||(I[N]=x,P=!1)}this.g=I}var m={};function p(O){return-128<=O&&O<128?u(O,function(R){return new f([R|0],R<0?-1:0)}):new f([O|0],O<0?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return T;if(O<0)return q(g(-O));const R=[];let I=1;for(let P=0;O>=I;P++)R[P]=O/I|0,I*=4294967296;return new f(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return q(E(O.substring(1),R));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(R,8));let P=T;for(let x=0;x<O.length;x+=8){var N=Math.min(8,O.length-x);const w=parseInt(O.substring(x,x+N),R);N<8?(N=g(Math.pow(R,N)),P=P.j(N).add(g(w))):(P=P.j(I),P=P.add(g(w)))}return P}var T=p(0),b=p(1),k=p(16777216);i=f.prototype,i.m=function(){if(Y(this))return-q(this).m();let O=0,R=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);O+=(P>=0?P:4294967296+P)*R,R*=4294967296}return O},i.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(Q(this))return"0";if(Y(this))return"-"+q(this).toString(O);const R=g(Math.pow(O,6));var I=this;let P="";for(;;){const N=we(I,R).g;I=se(I,N.j(R));let x=((I.g.length>0?I.g[0]:I.h)>>>0).toString(O);if(I=N,Q(I))return x+P;for(;x.length<6;)x="0"+x;P=x+P}},i.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function Q(O){if(O.h!=0)return!1;for(let R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function Y(O){return O.h==-1}i.l=function(O){return O=se(this,O),Y(O)?-1:Q(O)?0:1};function q(O){const R=O.g.length,I=[];for(let P=0;P<R;P++)I[P]=~O.g[P];return new f(I,~O.h).add(b)}i.abs=function(){return Y(this)?q(this):this},i.add=function(O){const R=Math.max(this.g.length,O.g.length),I=[];let P=0;for(let N=0;N<=R;N++){let x=P+(this.i(N)&65535)+(O.i(N)&65535),w=(x>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);P=w>>>16,x&=65535,w&=65535,I[N]=w<<16|x}return new f(I,I[I.length-1]&-2147483648?-1:0)};function se(O,R){return O.add(q(R))}i.j=function(O){if(Q(this)||Q(O))return T;if(Y(this))return Y(O)?q(this).j(q(O)):q(q(this).j(O));if(Y(O))return q(this.j(q(O)));if(this.l(k)<0&&O.l(k)<0)return g(this.m()*O.m());const R=this.g.length+O.g.length,I=[];for(var P=0;P<2*R;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let N=0;N<O.g.length;N++){const x=this.i(P)>>>16,w=this.i(P)&65535,xe=O.i(N)>>>16,Le=O.i(N)&65535;I[2*P+2*N]+=w*Le,F(I,2*P+2*N),I[2*P+2*N+1]+=x*Le,F(I,2*P+2*N+1),I[2*P+2*N+1]+=w*xe,F(I,2*P+2*N+1),I[2*P+2*N+2]+=x*xe,F(I,2*P+2*N+2)}for(O=0;O<R;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=R;O<2*R;O++)I[O]=0;return new f(I,0)};function F(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function ae(O,R){this.g=O,this.h=R}function we(O,R){if(Q(R))throw Error("division by zero");if(Q(O))return new ae(T,T);if(Y(O))return R=we(q(O),R),new ae(q(R.g),q(R.h));if(Y(R))return R=we(O,q(R)),new ae(q(R.g),R.h);if(O.g.length>30){if(Y(O)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var I=b,P=R;P.l(O)<=0;)I=he(I),P=he(P);var N=ke(I,1),x=ke(P,1);for(P=ke(P,2),I=ke(I,2);!Q(P);){var w=x.add(P);w.l(O)<=0&&(N=N.add(I),x=w),P=ke(P,1),I=ke(I,1)}return R=se(O,N.j(R)),new ae(N,R)}for(N=T;O.l(R)>=0;){for(I=Math.max(1,Math.floor(O.m()/R.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),x=g(I),w=x.j(R);Y(w)||w.l(O)>0;)I-=P,x=g(I),w=x.j(R);Q(x)&&(x=b),N=N.add(x),O=se(O,w)}return new ae(N,O)}i.B=function(O){return we(this,O).h},i.and=function(O){const R=Math.max(this.g.length,O.g.length),I=[];for(let P=0;P<R;P++)I[P]=this.i(P)&O.i(P);return new f(I,this.h&O.h)},i.or=function(O){const R=Math.max(this.g.length,O.g.length),I=[];for(let P=0;P<R;P++)I[P]=this.i(P)|O.i(P);return new f(I,this.h|O.h)},i.xor=function(O){const R=Math.max(this.g.length,O.g.length),I=[];for(let P=0;P<R;P++)I[P]=this.i(P)^O.i(P);return new f(I,this.h^O.h)};function he(O){const R=O.g.length+1,I=[];for(let P=0;P<R;P++)I[P]=O.i(P)<<1|O.i(P-1)>>>31;return new f(I,O.h)}function ke(O,R){const I=R>>5;R%=32;const P=O.g.length-I,N=[];for(let x=0;x<P;x++)N[x]=R>0?O.i(x+I)>>>R|O.i(x+I+1)<<32-R:O.i(x+I);return new f(N,O.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,g0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,_s=f}).apply(typeof lE<"u"?lE:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var p0,ru,y0,mh,Qm,_0,v0,E0;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in _))break e;_=_[B]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var _=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&_.push([S,y[S]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,_){return c.call.apply(c.bind,arguments)}function g(c,y,_){return g=p,g.apply(null,arguments)}function E(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function _(){}_.prototype=y.prototype,c.Z=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(S,B,K){for(var ue=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ue[Me-2]=arguments[Me];return y.prototype[B].apply(S,ue)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const y=c.length;if(y>0){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function Q(c,y){for(let S=1;S<arguments.length;S++){const B=arguments[S];var _=typeof B;if(_=_!="object"?_:B?Array.isArray(B)?"array":_:"null",_=="array"||_=="object"&&typeof B.length=="number"){_=c.length||0;const K=B.length||0;c.length=_+K;for(let ue=0;ue<K;ue++)c[_+ue]=B[ue]}else c.push(B)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(c){f.setTimeout(()=>{throw c},0)}function se(){var c=O;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class F{constructor(){this.h=this.g=null}add(y,_){const S=ae.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ae=new Y(()=>new we,c=>c.reset());class we{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ke=!1,O=new F,R=()=>{const c=Promise.resolve(void 0);he=()=>{c.then(I)}};function I(){for(var c;c=se();){try{c.h.call(c.g)}catch(_){q(_)}var y=ae;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ke=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,y),f.removeEventListener("test",_,y)}catch{}return c})();function w(c){return/^[\s\xa0]*$/.test(c)}function xe(c,y){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(xe,N),xe.prototype.init=function(c,y){const _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(_=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Le="closure_listenable_"+(Math.random()*1e6|0),$=0;function le(c,y,_,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=B,this.key=++$,this.da=this.fa=!1}function Ee(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Be(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function V(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function re(c){const y={};for(const _ in c)y[_]=c[_];return y}const ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(c,y){let _,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(_ in S)c[_]=S[_];for(let K=0;K<ge.length;K++)_=ge[K],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function Te(c){this.src=c,this.g={},this.h=0}Te.prototype.add=function(c,y,_,S,B){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const ue=Re(c,y,S,B);return ue>-1?(y=c[ue],_||(y.fa=!1)):(y=new le(y,this.src,K,!!S,B),y.fa=_,c.push(y)),y};function ze(c,y){const _=y.type;if(_ in c.g){var S=c.g[_],B=Array.prototype.indexOf.call(S,y,void 0),K;(K=B>=0)&&Array.prototype.splice.call(S,B,1),K&&(Ee(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Re(c,y,_,S){for(let B=0;B<c.length;++B){const K=c[B];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==S)return B}return-1}var bt="closure_lm_"+(Math.random()*1e6|0),We={};function mn(c,y,_,S,B){if(Array.isArray(y)){for(let K=0;K<y.length;K++)mn(c,y[K],_,S,B);return null}return _=Xo(_),c&&c[Le]?c.J(y,_,m(S)?!!S.capture:!1,B):Fi(c,y,_,!1,S,B)}function Fi(c,y,_,S,B,K){if(!y)throw Error("Invalid event type");const ue=m(B)?!!B.capture:!!B;let Me=Ns(c);if(Me||(c[bt]=Me=new Te(c)),_=Me.add(y,_,S,ue,K),_.proxy)return _;if(S=Rr(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)x||(B=ue),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(Gi(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Rr(){function c(_){return y.call(c.src,c.listener,_)}const y=Ra;return c}function qi(c,y,_,S,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)qi(c,y[K],_,S,B);else S=m(S)?!!S.capture:!!S,_=Xo(_),c&&c[Le]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],_=Re(y,_,S,B),_>-1&&(Ee(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Ns(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Re(y,_,S,B)),(_=c>-1?y[c]:null)&&Hi(_))}function Hi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Le])ze(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(Gi(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Ns(y))?(ze(_,c),_.h==0&&(_.src=null,y[bt]=null)):Ee(c)}}}function Gi(c){return c in We?We[c]:We[c]="on"+c}function Ra(c,y){if(c.da)c=!0;else{y=new xe(y,this);const _=c.listener,S=c.ha||c.src;c.fa&&Hi(c),c=_.call(S,y)}return c}function Ns(c){return c=c[bt],c instanceof Te?c:null}var an="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xo(c){return typeof c=="function"?c:(c[an]||(c[an]=function(y){return c.handleEvent(y)}),c[an])}function Tt(){P.call(this),this.i=new Te(this),this.M=this,this.G=null}T(Tt,P),Tt.prototype[Le]=!0,Tt.prototype.removeEventListener=function(c,y,_,S){qi(this,c,y,_,S)};function D(c,y){var _,S=c.G;if(S)for(_=[];S;S=S.G)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new N(y,c);else if(y instanceof N)y.target=y.target||c;else{var B=y;y=new N(S,c),fe(y,B)}B=!0;let K,ue;if(_)for(ue=_.length-1;ue>=0;ue--)K=y.g=_[ue],B=z(K,S,!0,y)&&B;if(K=y.g=c,B=z(K,S,!0,y)&&B,B=z(K,S,!1,y)&&B,_)for(ue=0;ue<_.length;ue++)K=y.g=_[ue],B=z(K,S,!1,y)&&B}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const _=c.g[y];for(let S=0;S<_.length;S++)Ee(_[S]);delete c.g[y],c.h--}}this.G=null},Tt.prototype.J=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},Tt.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function z(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let K=0;K<y.length;++K){const ue=y[K];if(ue&&!ue.da&&ue.capture==_){const Me=ue.listener,dt=ue.ha||ue.src;ue.fa&&ze(c.i,ue),B=Me.call(dt,S)!==!1&&B}}return B&&!S.defaultPrevented}function Z(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function de(c){c.g=Z(()=>{c.g=null,c.i&&(c.i=!1,de(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ce extends P{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:de(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oe(c){P.call(this),this.h=c,this.g={}}T(oe,P);var _e=[];function Oe(c){Be(c.g,function(y,_){this.g.hasOwnProperty(_)&&Hi(y)},c),c.g={}}oe.prototype.N=function(){oe.Z.N.call(this),Oe(this)},oe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var je=f.JSON.stringify,rt=f.JSON.parse,Ir=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Cn(){}function Ia(){}var Tn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fn(){N.call(this,"d")}T(Fn,N);function Dn(){N.call(this,"c")}T(Dn,N);var gn={},pi=null;function Qi(){return pi=pi||new Tt}gn.Ia="serverreachability";function $o(c){N.call(this,gn.Ia,c)}T($o,N);function Cr(c){const y=Qi();D(y,new $o(y))}gn.STAT_EVENT="statevent";function Ca(c,y){N.call(this,gn.STAT_EVENT,c),this.stat=y}T(Ca,N);function wt(c){const y=Qi();D(y,new Ca(y,c))}gn.Ja="timingevent";function qu(c,y){N.call(this,gn.Ja,c),this.size=y}T(qu,N);function Dr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Nr(){this.g=!0}Nr.prototype.ua=function(){this.g=!1};function Zo(c,y,_,S,B,K){c.info(function(){if(c.g)if(K){var ue="",Me=K.split("&");for(let tt=0;tt<Me.length;tt++){var dt=Me[tt].split("=");if(dt.length>1){const Ct=dt[0];dt=dt[1];const Nn=Ct.split("_");ue=Nn.length>=2&&Nn[1]=="type"?ue+(Ct+"="+dt+"&"):ue+(Ct+"=redacted&")}}}else ue=null;else ue=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+_+`
`+ue})}function Wo(c,y,_,S,B,K,ue){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+_+`
`+K+" "+ue})}function Ki(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+yi(c,_)+(S?" "+S:"")})}function Ef(c,y){c.info(function(){return"TIMEOUT: "+y})}Nr.prototype.info=function(){};function yi(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var _=K[c];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var B=S[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ue=1;ue<S.length;ue++)S[ue]=""}}}}return je(K)}catch{return y}}var Rt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yi;function Os(){}T(Os,Cn),Os.prototype.g=function(){return new XMLHttpRequest},Yi=new Os;function Vs(c){return encodeURIComponent(String(c))}function Tf(c){var y=1;c=c.split(":");const _=[];for(;y>0&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function ei(c,y,_,S){this.j=c,this.i=y,this.l=_,this.S=S||1,this.V=new oe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Or}function Or(){this.i=null,this.g="",this.h=!1}var Da={},_i={};function vi(c,y,_){c.M=1,c.A=$i(yt(y)),c.u=_,c.R=!0,Vr(c,null)}function Vr(c,y){c.F=Date.now(),xs(c),c.B=yt(c.A);var _=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Ku(_.i,"t",S),c.C=0,_=c.j.L,c.h=new Or,c.g=Ba(c.j,_?y:null,!c.u),c.P>0&&(c.O=new ce(g(c.Y,c,c.g),c.P)),y=c.V,_=c.g,S=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(_e[0]=B.toString()),B=_e);for(let K=0;K<B.length;K++){const ue=mn(_,B[K],S||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.J?re(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),Cr(),Zo(c.i,c.v,c.B,c.l,c.S,c.u)}ei.prototype.ba=function(c){c=c.target;const y=this.O;y&&on(c)==3?y.j():this.Y(c)},ei.prototype.Y=function(c){try{if(c==this.g)e:{const Me=on(this.g),dt=this.g.ya(),tt=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||Hs(this.g)))){this.K||Me!=4||dt==7||(dt==8||tt<=0?Cr(3):Cr(2)),Ti(this);var y=this.g.ca();this.X=y;var _=xr(this);if(this.o=y==200,Wo(this.i,this.v,this.B,this.l,this.S,Me,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,B=this.g;if((S=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(S)){var K=S;break t}}K=null}if(c=K)Ki(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Na(this,c);else{this.o=!1,this.m=3,wt(12),Ai(this),Ms(this);break e}}if(this.R){c=!0;let Ct;for(;!this.K&&this.C<_.length;)if(Ct=Hu(this,_),Ct==_i){Me==4&&(this.m=4,wt(14),c=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Da){this.m=4,wt(15),Ki(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else Ki(this.i,this.l,Ct,null),Na(this,Ct);if(It(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||_.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)Ki(this.i,this.l,_,"[Invalid Chunked Response]"),Ai(this),Ms(this);else if(_.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),ll(ue),ue.P=!0,wt(11))}}else Ki(this.i,this.l,_,null),Na(this,_);Me==4&&Ai(this),this.o&&!this.K&&(Me==4?ul(this.j,this):(this.o=!1,xs(this)))}else Gs(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Ai(this),Ms(this)}}}catch{}finally{}};function xr(c){if(!It(c))return c.g.la();const y=Hs(c.g);if(y==="")return"";let _="";const S=y.length,B=on(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Ai(c),Ms(c),"";c.h.i=new f.TextDecoder}for(let K=0;K<S;K++)c.h.h=!0,_+=c.h.i.decode(y[K],{stream:!(B&&K==S-1)});return y.length=0,c.h.g+=_,c.C=0,c.h.g}function It(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Hu(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?_i:(_=Number(y.substring(_,S)),isNaN(_)?Da:(S+=1,S+_>y.length?_i:(y=y.slice(S,S+_),c.C=S+_,y)))}ei.prototype.cancel=function(){this.K=!0,Ai(this)};function xs(c){c.T=Date.now()+c.H,Ei(c,c.H)}function Ei(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Dr(g(c.aa,c),y)}function Ti(c){c.D&&(f.clearTimeout(c.D),c.D=null)}ei.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ef(this.i,this.B),this.M!=2&&(Cr(),wt(17)),Ai(this),this.m=2,Ms(this)):Ei(this,this.T-c)};function Ms(c){c.j.I==0||c.K||ul(c.j,c)}function Ai(c){Ti(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Oe(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Na(c,y){try{var _=c.j;if(_.I!=0&&(_.g==c||Us(_.h,c))){if(!c.L&&Us(_.h,c)&&_.I==3){try{var S=_.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)La(_),Si(_);else break e;ol(_),wt(18)}}else _.xa=B[1],0<_.xa-_.K&&B[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Dr(g(_.Va,_),6e3));qn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ji(_,11)}else if((c.L||_.g==c)&&La(_),!w(y))for(B=_.Ba.g.parse(y),y=0;y<B.length;y++){let tt=B[y];const Ct=tt[0];if(!(Ct<=_.K))if(_.K=Ct,tt=tt[1],_.I==2)if(tt[0]=="c"){_.M=tt[1],_.ba=tt[2];const Nn=tt[3];Nn!=null&&(_.ka=Nn,_.j.info("VER="+_.ka));const bi=tt[4];bi!=null&&(_.za=bi,_.j.info("SVER="+_.za));const ii=tt[5];ii!=null&&typeof ii=="number"&&ii>0&&(S=1.5*ii,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const ri=c.g;if(ri){const si=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var K=S.h;K.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Oa(K,K.h),K.h=null))}if(S.G){const hl=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;hl&&(S.wa=hl,st(S.J,S.G,hl))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var ue=c;if(S.na=nc(S,S.L?S.ba:null,S.W),ue.L){Xi(S.h,ue);var Me=ue,dt=S.O;dt&&(Me.H=dt),Me.D&&(Ti(Me),xs(Me)),S.g=ue}else Wu(S);_.i.length>0&&Xs(_)}else tt[0]!="stop"&&tt[0]!="close"||Ji(_,7);else _.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Ji(_,7):Ks(_):tt[0]!="noop"&&_.l&&_.l.qa(tt),_.A=0)}}Cr(4)}catch{}}var Af=class{constructor(c,y){this.g=c,this.map=y}};function Ps(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ks(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function qn(c){return c.h?1:c.g?c.g.size:0}function Us(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Oa(c,y){c.g?c.g.add(y):c.h=y}function Xi(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ps.prototype.cancel=function(){if(this.i=Va(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Va(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.G);return y}return k(c.i)}var xa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sf(c,y){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const S=c[_].indexOf("=");let B,K=null;S>=0?(B=c[_].substring(0,S),K=c[_].substring(S+1)):B=c[_],y(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function ti(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof ti?(this.l=c.l,Mr(this,c.j),this.o=c.o,this.g=c.g,Ls(this,c.u),this.h=c.h,Pr(this,Yu(c.i)),this.m=c.m):c&&(y=String(c).match(xa))?(this.l=!1,Mr(this,y[1]||"",!0),this.o=Bs(y[2]||""),this.g=Bs(y[3]||"",!0),Ls(this,y[4]),this.h=Bs(y[5]||"",!0),Pr(this,y[6]||"",!0),this.m=Bs(y[7]||"")):(this.l=!1,this.i=new Hn(null,this.l))}ti.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Qt(y,el,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Qt(y,el,!0),"@"),c.push(Vs(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Qt(_,_.charAt(0)=="/"?kr:tl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Qt(_,Qu)),c.join("")},ti.prototype.resolve=function(c){const y=yt(this);let _=!!c.j;_?Mr(y,c.j):_=!!c.o,_?y.o=c.o:_=!!c.g,_?y.g=c.g:_=c.u!=null;var S=c.h;if(_)Ls(y,c.u);else if(_=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var B=y.h.lastIndexOf("/");B!=-1&&(S=y.h.slice(0,B+1)+S)}if(B=S,B==".."||B==".")S="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){S=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let ue=0;ue<B.length;){const Me=B[ue++];Me=="."?S&&ue==B.length&&K.push(""):Me==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&ue==B.length&&K.push("")):(K.push(Me),S=!0)}S=K.join("/")}else S=B}return _?y.h=S:_=c.i.toString()!=="",_?Pr(y,Yu(c.i)):_=!!c.m,_&&(y.m=c.m),y};function yt(c){return new ti(c)}function Mr(c,y,_){c.j=_?Bs(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ls(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Pr(c,y,_){y instanceof Hn?(c.i=y,rl(c.i,c.l)):(_||(y=Qt(y,Gu)),c.i=new Hn(y,c.l))}function st(c,y,_){c.i.set(y,_)}function $i(c){return st(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Bs(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Qt(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Jo),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Jo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var el=/[#\/\?@]/g,tl=/[#\?:]/g,kr=/[#\?]/g,Gu=/[#\?@]/g,Qu=/#/g;function Hn(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Zi(c){c.g||(c.g=new Map,c.h=0,c.i&&Sf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Hn.prototype,i.add=function(c,y){Zi(this),this.i=null,c=ni(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function nl(c,y){Zi(c),y=ni(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function il(c,y){return Zi(c),y=ni(c,y),c.g.has(y)}i.forEach=function(c,y){Zi(this),this.g.forEach(function(_,S){_.forEach(function(B){c.call(y,B,S,this)},this)},this)};function Ma(c,y){Zi(c);let _=[];if(typeof y=="string")il(c,y)&&(_=_.concat(c.g.get(ni(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)_=_.concat(c[y]);return _}i.set=function(c,y){return Zi(this),this.i=null,c=ni(this,c),il(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Ma(this,c),c.length>0?String(c[0]):y):y};function Ku(c,y,_){nl(c,y),_.length>0&&(c.i=null,c.g.set(ni(c,y),k(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var _=y[S];const B=Vs(_);_=Ma(this,_);for(let K=0;K<_.length;K++){let ue=B;_[K]!==""&&(ue+="="+Vs(_[K])),c.push(ue)}}return this.i=c.join("&")};function Yu(c){const y=new Hn;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function ni(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function rl(c,y){y&&!c.j&&(Zi(c),c.i=null,c.g.forEach(function(_,S){const B=S.toLowerCase();S!=B&&(nl(this,S),Ku(this,B,_))},c)),c.j=y}function sl(c,y){const _=new Nr;if(f.Image){const S=new Image;S.onload=E(pn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=E(pn,_,"TestLoadImage: error",!1,y,S),S.onabort=E(pn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(pn,_,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Ur(c,y){const _=new Nr,S=new AbortController,B=setTimeout(()=>{S.abort(),pn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?pn(_,"TestPingServer: ok",!0,y):pn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),pn(_,"TestPingServer: error",!1,y)})}function pn(c,y,_,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(_)}catch{}}function Xu(){this.g=new Ir}function zs(c){this.i=c.Sb||null,this.h=c.ab||!1}T(zs,Cn),zs.prototype.g=function(){return new js(this.i,this.h)};function js(c,y){Tt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(js,Tt),i=js.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Wi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yn(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Lr(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Lr(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?yn(this):Wi(this),this.readyState==3&&Lr(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,yn(this))},i.Na=function(c){this.g&&(this.response=c,yn(this))},i.ga=function(){this.g&&yn(this)};function yn(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Wi(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Wi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Br(c){let y="";return Be(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Gn(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Br(_),typeof c=="string"?_!=null&&Vs(_):st(c,y,_))}function ct(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(ct,Tt);var Pa=/^https?$/i,$u=["POST","PUT"];i=ct.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yi.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Fs(this,K);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)_.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call($u,y,void 0)>=0)||S||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ue]of _)this.g.setRequestHeader(K,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Fs(this,K)}};function Fs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,qs(c),jt(c)}function qs(c){c.A||(c.A=!0,D(c,"complete"),D(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,D(this,"complete"),D(this,"abort"),jt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jt(this,!0)),ct.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?al(this):this.Xa())},i.Xa=function(){al(this)};function al(c){if(c.h&&typeof u<"u"){if(c.v&&on(c)==4)setTimeout(c.Ca.bind(c),0);else if(D(c,"readystatechange"),on(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=K===0){let ue=String(c.D).match(xa)[1]||null;!ue&&f.self&&f.self.location&&(ue=f.self.location.protocol.slice(0,-1)),S=!Pa.test(ue?ue.toLowerCase():"")}_=S}if(_)D(c,"complete"),D(c,"success");else{c.o=6;try{var B=on(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",qs(c)}}finally{jt(c)}}}}function jt(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,y||D(c,"ready");try{_.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function on(c){return c.g?c.g.readyState:0}i.ca=function(){try{return on(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),rt(y)}};function Hs(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gs(c){const y={};c=(c.g&&on(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(w(c[S]))continue;var _=Tf(c[S]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[B]||[];y[B]=K,K.push(_)}V(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ka(c){this.za=0,this.i=[],this.j=new Nr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qs("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qs("baseRetryDelayMs",5e3,c),this.Za=Qs("retryDelaySeedMs",1e4,c),this.Ta=Qs("forwardChannelMaxRetries",2,c),this.va=Qs("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ps(c&&c.concurrentRequestLimit),this.Ba=new Xu,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=ka.prototype,i.ka=8,i.I=1,i.connect=function(c,y,_,S){wt(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=nc(this,null,this.W),Xs(this)};function Ks(c){if(Ys(c),c.I==3){var y=c.V++,_=yt(c.J);if(st(_,"SID",c.M),st(_,"RID",y),st(_,"TYPE","terminate"),$s(c,_),y=new ei(c,c.j,y),y.M=2,y.A=$i(yt(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=y.A,_=!0),_||(y.g=Ba(y.j,null),y.g.ea(y.A)),y.F=Date.now(),xs(y)}tc(c)}function Si(c){c.g&&(ll(c),c.g.cancel(),c.g=null)}function Ys(c){Si(c),c.v&&(f.clearTimeout(c.v),c.v=null),La(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Xs(c){if(!ks(c.h)&&!c.m){c.m=!0;var y=c.Ea;he||R(),ke||(he(),ke=!0),O.add(y,c),c.D=0}}function bf(c,y){return qn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Dr(g(c.Ea,c,y),ec(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new ei(this,this.j,c);let K=this.o;if(this.U&&(K?(K=re(K),fe(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Ua(this,B,y),_=yt(this.J),st(_,"RID",c),st(_,"CVER",22),this.G&&st(_,"X-HTTP-Session-Id",this.G),$s(this,_),K&&(this.R?y="headers="+Vs(Br(K))+"&"+y:this.u&&Gn(_,this.u,K)),Oa(this.h,B),this.Ra&&st(_,"TYPE","init"),this.S?(st(_,"$req",y),st(_,"SID","null"),B.U=!0,vi(B,_,null)):vi(B,_,y),this.I=2}}else this.I==3&&(c?Zu(this,c):this.i.length==0||ks(this.h)||Zu(this))};function Zu(c,y){var _;y?_=y.l:_=c.V++;const S=yt(c.J);st(S,"SID",c.M),st(S,"RID",_),st(S,"AID",c.K),$s(c,S),c.u&&c.o&&Gn(S,c.u,c.o),_=new ei(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Ua(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Oa(c.h,_),vi(_,S,y)}function $s(c,y){c.H&&Be(c.H,function(_,S){st(y,S,_)}),c.l&&Be({},function(_,S){st(y,S,_)})}function Ua(c,y,_){_=Math.min(c.i.length,_);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let Me=-1;for(;;){const dt=["count="+_];Me==-1?_>0?(Me=B[0].g,dt.push("ofs="+Me)):Me=0:dt.push("ofs="+Me);let tt=!0;for(let Ct=0;Ct<_;Ct++){var K=B[Ct].g;const Nn=B[Ct].map;if(K-=Me,K<0)Me=Math.max(0,B[Ct].g-100),tt=!1;else try{K="req"+K+"_"||"";try{var ue=Nn instanceof Map?Nn:Object.entries(Nn);for(const[bi,ii]of ue){let ri=ii;m(ii)&&(ri=je(ii)),dt.push(K+bi+"="+encodeURIComponent(ri))}}catch(bi){throw dt.push(K+"type="+encodeURIComponent("_badmap")),bi}}catch{S&&S(Nn)}}if(tt){ue=dt.join("&");break e}}ue=void 0}return c=c.i.splice(0,_),y.G=c,ue}function Wu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;he||R(),ke||(he(),ke=!0),O.add(y,c),c.A=0}}function ol(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Dr(g(c.Da,c),ec(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Dr(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Si(this),Ju(this))};function ll(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Ju(c){c.g=new ei(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=yt(c.na);st(y,"RID","rpc"),st(y,"SID",c.M),st(y,"AID",c.K),st(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&st(y,"TO",c.ia),st(y,"TYPE","xmlhttp"),$s(c,y),c.u&&c.o&&Gn(y,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=$i(yt(y)),_.u=null,_.R=!0,Vr(_,c)}i.Va=function(){this.C!=null&&(this.C=null,Si(this),ol(this),wt(19))};function La(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ul(c,y){var _=null;if(c.g==y){La(c),ll(c),c.g=null;var S=2}else if(Us(c.h,y))_=y.G,Xi(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;S=Qi(),D(S,new qu(S,_)),Xs(c)}else Wu(c);else if(B=y.m,B==3||B==0&&y.X>0||!(S==1&&bf(c,y)||S==2&&ol(c)))switch(_&&_.length>0&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Ji(c,5);break;case 4:Ji(c,10);break;case 3:Ji(c,6);break;default:Ji(c,2)}}}function ec(c,y){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*y}function Ji(c,y){if(c.j.info("Error code "+y),y==2){var _=g(c.bb,c),S=c.Ua;const B=!S;S=new ti(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Mr(S,"https"),$i(S),B?sl(S.toString(),_):Ur(S.toString(),_)}else wt(2);c.I=0,c.l&&c.l.pa(y),tc(c),Ys(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function tc(c){if(c.I=0,c.ja=[],c.l){const y=Va(c.h);(y.length!=0||c.i.length!=0)&&(Q(c.ja,y),Q(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function nc(c,y,_){var S=_ instanceof ti?yt(_):new ti(_);if(S.g!="")y&&(S.g=y+"."+S.g),Ls(S,S.u);else{var B=f.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const K=new ti(null);S&&Mr(K,S),y&&(K.g=y),B&&Ls(K,B),_&&(K.h=_),S=K}return _=c.G,y=c.wa,_&&y&&st(S,_,y),st(S,"VER",c.ka),$s(c,S),S}function Ba(c,y,_){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new ct(new zs({ab:_})):new ct(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ic(){}i=ic.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function za(){}za.prototype.g=function(c,y){return new _n(c,y)};function _n(c,y){Tt.call(this),this.g=new ka(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!w(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!w(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new zr(this)}T(_n,Tt),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Ks(this.g)},_n.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=je(c),c=_);y.i.push(new Af(y.Ya++,c)),y.I==3&&Xs(y)},_n.prototype.N=function(){this.g.l=null,delete this.j,Ks(this.g),delete this.g,_n.Z.N.call(this)};function cl(c){Fn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(cl,Fn);function rc(){Dn.call(this),this.status=1}T(rc,Dn);function zr(c){this.g=c}T(zr,ic),zr.prototype.ra=function(){D(this.g,"a")},zr.prototype.qa=function(c){D(this.g,new cl(c))},zr.prototype.pa=function(c){D(this.g,new rc)},zr.prototype.oa=function(){D(this.g,"b")},za.prototype.createWebChannel=za.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,E0=function(){return new za},v0=function(){return Qi()},_0=gn,Qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,mh=Rt,Wt.COMPLETE="complete",y0=Wt,Ia.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,ru=Ia,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,p0=ct}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const uE="@firebase/firestore",cE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new Sg("@firebase/firestore");function yo(){return Ea.logLevel}function pe(i,...e){if(Ea.logLevel<=Qe.DEBUG){const n=e.map(Ig);Ea.debug(`Firestore (${zo}): ${i}`,...n)}}function Tr(i,...e){if(Ea.logLevel<=Qe.ERROR){const n=e.map(Ig);Ea.error(`Firestore (${zo}): ${i}`,...n)}}function Do(i,...e){if(Ea.logLevel<=Qe.WARN){const n=e.map(Ig);Ea.warn(`Firestore (${zo}): ${i}`,...n)}}function Ig(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,T0(i,s,n)}function T0(i,e,n){let s=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Tr(s),new Error(s)}function et(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||T0(e,o,s)}function Pe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hn.UNAUTHENTICATED)))}shutdown(){}}class MI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class PI{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new _r,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new _r)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(et(typeof s.accessToken=="string",31837,{l:s}),new A0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class kI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new kI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const s=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=BI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ke(i,e){return i<e?-1:i>e?1:0}function Km(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Cm(o)===Cm(u)?Ke(o,u):Cm(o)?1:-1}return Ke(i.length,e.length)}const zI=55296,jI=57343;function Cm(i){const e=i.charCodeAt(0);return e>=zI&&e<=jI}function No(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="__name__";class Ni{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ce(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ni.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ke(e.length,n.length)}static compareSegments(e,n){const s=Ni.isNumericId(e),o=Ni.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(n)):Km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _s.fromString(e.substring(4,e.length-2))}}class ft extends Ni{construct(e,n,s){return new ft(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const FI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Ni{construct(e,n,s){return new rn(e,n,s)}static isValidIdentifier(e){return FI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ym}static keyField(){return new rn([Ym])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new me(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ft.fromString(e))}static fromName(e){return new Se(ft.fromString(e).popFirst(5))}static empty(){return new Se(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(i,e,n){if(!n)throw new me(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function qI(i,e,n,s){if(e===!0&&s===!0)throw new me(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function fE(i){if(!Se.isDocumentKey(i))throw new me(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function dE(i){if(Se.isDocumentKey(i))throw new me(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function b0(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Wh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ce(12329,{type:typeof i})}function Li(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(i);throw new me(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Vu(i,e){if(!b0(i))throw new me(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new me(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=-62135596800,gE=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*gE);return new mt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<mE)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gE}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vu(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Bt("string",mt._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new mt(0,0))}static max(){return new Ve(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=-1;function HI(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(s===1e9?new mt(n+1,0):new mt(n,s));return new Ts(o,Se.empty(),e)}function GI(i){return new Ts(i.readTime,i.key,Eu)}class Ts{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ts(Ve.min(),Se.empty(),Eu)}static max(){return new Ts(Ve.max(),Se.empty(),Eu)}}function QI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(i.documentKey,e.documentKey),n!==0?n:Ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==KI)throw i;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function XI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=-1;function ef(i){return i==null}function Ih(i){return i===0&&1/i==-1/0}function $I(i){return typeof i=="number"&&Number.isInteger(i)&&!Ih(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="";function ZI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=pE(e)),e=WI(i.get(n),e);return pE(e)}function WI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case w0:n+="";break;default:n+=u}}return n}function pE(i){return i+w0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Cs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function R0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??nn.RED,this.left=o??nn.EMPTY,this.right=u??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new nn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _E(this.data.getIterator())}getIteratorFrom(e){return new _E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class _E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new zn([])}unionWith(e){let n=new Ht(rn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new I0("Invalid base64 string: "+u):u}})(e);return new sn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const JI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(i){if(et(!!i,39018),typeof i=="string"){let e=0;const n=JI.exec(i);if(et(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ot(i.seconds),nanos:Ot(i.nanos)}}function Ot(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ss(i){return typeof i=="string"?sn.fromBase64String(i):sn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="server_timestamp",D0="__type__",N0="__previous_value__",O0="__local_write_time__";function Ng(i){return(i?.mapValue?.fields||{})[D0]?.stringValue===C0}function tf(i){const e=i.mapValue.fields[N0];return Ng(e)?tf(e):e}function Tu(i){const e=As(i.mapValue.fields[O0].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Ch="(default)";class Au{constructor(e,n){this.projectId=e,this.database=n||Ch}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof Au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="__type__",tC="__max__",lh={mapValue:{}},x0="__vector__",Dh="value";function bs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ng(i)?4:iC(i)?9007199254740991:nC(i)?10:11:Ce(28295,{value:i})}function Bi(i,e){if(i===e)return!0;const n=bs(i);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Tu(i).isEqual(Tu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=As(o.timestampValue),m=As(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Ss(o.bytesValue).isEqual(Ss(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ot(o.geoPointValue.latitude)===Ot(u.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ot(o.integerValue)===Ot(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ot(o.doubleValue),m=Ot(u.doubleValue);return f===m?Ih(f)===Ih(m):isNaN(f)&&isNaN(m)}return!1})(i,e);case 9:return No(i.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(yE(f)!==yE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Bi(f[p],m[p])))return!1;return!0})(i,e);default:return Ce(52216,{left:i})}}function Su(i,e){return(i.values||[]).find((n=>Bi(n,e)))!==void 0}function Oo(i,e){if(i===e)return 0;const n=bs(i),s=bs(e);if(n!==s)return Ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(i.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=Ot(u.integerValue||u.doubleValue),p=Ot(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return vE(i.timestampValue,e.timestampValue);case 4:return vE(Tu(i),Tu(e));case 5:return Km(i.stringValue,e.stringValue);case 6:return(function(u,f){const m=Ss(u),p=Ss(f);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ke(m[g],p[g]);if(E!==0)return E}return Ke(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ke(Ot(u.latitude),Ot(f.latitude));return m!==0?m:Ke(Ot(u.longitude),Ot(f.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return EE(i.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Dh]?.arrayValue,E=p[Dh]?.arrayValue,T=Ke(g?.values?.length||0,E?.values?.length||0);return T!==0?T:EE(g,E)})(i.mapValue,e.mapValue);case 11:return(function(u,f){if(u===lh.mapValue&&f===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(f===lh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const b=Km(p[T],E[T]);if(b!==0)return b;const k=Oo(m[p[T]],g[E[T]]);if(k!==0)return k}return Ke(p.length,E.length)})(i.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function vE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ke(i,e);const n=As(i),s=As(e),o=Ke(n.seconds,s.seconds);return o!==0?o:Ke(n.nanos,s.nanos)}function EE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Oo(n[o],s[o]);if(u)return u}return Ke(n.length,s.length)}function Vo(i){return Xm(i)}function Xm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=As(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Ss(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Se.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Xm(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Xm(n.fields[f])}`;return o+"}"})(i.mapValue):Ce(61005,{value:i})}function gh(i){switch(bs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tf(i);return e?16+gh(e):16;case 5:return 2*i.stringValue.length;case 6:return Ss(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+gh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Cs(s.fields,((u,f)=>{o+=u.length+gh(f)})),o})(i.mapValue);default:throw Ce(13486,{value:i})}}function TE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function $m(i){return!!i&&"integerValue"in i}function Og(i){return!!i&&"arrayValue"in i}function AE(i){return!!i&&"nullValue"in i}function SE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ph(i){return!!i&&"mapValue"in i}function nC(i){return(i?.mapValue?.fields||{})[V0]?.stringValue===x0}function cu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Cs(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=cu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(i.arrayValue.values[n]);return e}return{...i}}function iC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===tC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ph(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=rn.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=cu(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Cs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new In(cu(this.value))}}function M0(i){const e=[];return Cs(i.fields,((n,s)=>{const o=new rn([n]);if(ph(s)){const u=M0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new fn(e,0,Ve.min(),Ve.min(),Ve.min(),In.empty(),0)}static newFoundDocument(e,n,s,o){return new fn(e,1,n,Ve.min(),s,o,0)}static newNoDocument(e,n){return new fn(e,2,n,Ve.min(),Ve.min(),In.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Ve.min(),Ve.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.position=e,this.inclusive=n}}function bE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=Se.comparator(Se.fromName(f.referenceValue),n.key):s=Oo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function wE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Bi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,n="asc"){this.field=e,this.dir=n}}function rC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{}class Lt extends P0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new aC(e,n,s):n==="array-contains"?new uC(e,s):n==="in"?new cC(e,s):n==="not-in"?new hC(e,s):n==="array-contains-any"?new fC(e,s):new Lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new oC(e,s):new lC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Oo(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(Oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends P0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new gi(e,n)}matches(e){return k0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k0(i){return i.op==="and"}function U0(i){return sC(i)&&k0(i)}function sC(i){for(const e of i.filters)if(e instanceof gi)return!1;return!0}function Zm(i){if(i instanceof Lt)return i.field.canonicalString()+i.op.toString()+Vo(i.value);if(U0(i))return i.filters.map((e=>Zm(e))).join(",");{const e=i.filters.map((n=>Zm(n))).join(",");return`${i.op}(${e})`}}function L0(i,e){return i instanceof Lt?(function(s,o){return o instanceof Lt&&s.op===o.op&&s.field.isEqual(o.field)&&Bi(s.value,o.value)})(i,e):i instanceof gi?(function(s,o){return o instanceof gi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&L0(f,o.filters[m])),!0):!1})(i,e):void Ce(19439)}function B0(i){return i instanceof Lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Vo(n.value)}`})(i):i instanceof gi?(function(n){return n.op.toString()+" {"+n.getFilters().map(B0).join(" ,")+"}"})(i):"Filter"}class aC extends Lt{constructor(e,n,s){super(e,n,s),this.key=Se.fromName(s.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class oC extends Lt{constructor(e,n){super(e,"in",n),this.keys=z0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class lC extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=z0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function z0(i,e){return(e.arrayValue?.values||[]).map((n=>Se.fromName(n.referenceValue)))}class uC extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Og(n)&&Su(n.arrayValue,this.value)}}class cC extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Su(this.value.arrayValue,n)}}class hC extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Su(this.value.arrayValue,n)}}class fC extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Og(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Su(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function RE(i,e=null,n=[],s=[],o=null,u=null,f=null){return new dC(i,e,n,s,o,u,f)}function Vg(i){const e=Pe(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Zm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ef(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Vo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Vo(s))).join(",")),e.Te=n}return e.Te}function xg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!rC(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!L0(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!wE(i.startAt,e.startAt)&&wE(i.endAt,e.endAt)}function Wm(i){return Se.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mC(i,e,n,s,o,u,f,m){return new xu(i,e,n,s,o,u,f,m)}function Mg(i){return new xu(i)}function IE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function j0(i){return i.collectionGroup!==null}function hu(i){const e=Pe(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ht(rn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Oh(u,s))})),n.has(rn.keyField().canonicalString())||e.Ie.push(new Oh(rn.keyField(),s))}return e.Ie}function Vi(i){const e=Pe(i);return e.Ee||(e.Ee=gC(e,hu(i))),e.Ee}function gC(i,e){if(i.limitType==="F")return RE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Oh(o.field,u)}));const n=i.endAt?new Nh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Nh(i.startAt.position,i.startAt.inclusive):null;return RE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Jm(i,e){const n=i.filters.concat([e]);return new xu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function eg(i,e,n){return new xu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function nf(i,e){return xg(Vi(i),Vi(e))&&i.limitType===e.limitType}function F0(i){return`${Vg(Vi(i))}|lt:${i.limitType}`}function _o(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>B0(o))).join(", ")}]`),ef(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Vo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Vo(o))).join(",")),`Target(${s})`})(Vi(i))}; limitType=${i.limitType})`}function rf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Se.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of hu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=bE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,hu(s),o)||s.endAt&&!(function(f,m,p){const g=bE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,hu(s),o))})(i,e)}function pC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function q0(i){return(e,n)=>{let s=!1;for(const o of hu(i)){const u=yC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function yC(i,e,n){const s=i.field.isKeyField()?Se.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Oo(p,g):Ce(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ce(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return R0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new Et(Se.comparator);function Ar(){return _C}const H0=new Et(Se.comparator);function su(...i){let e=H0;for(const n of i)e=e.insert(n.key,n);return e}function G0(i){let e=H0;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function da(){return fu()}function Q0(){return fu()}function fu(){return new ba((i=>i.toString()),((i,e)=>i.isEqual(e)))}const vC=new Et(Se.comparator),EC=new Ht(Se.comparator);function Ye(...i){let e=EC;for(const n of i)e=e.add(n);return e}const TC=new Ht(Ke);function AC(){return TC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function K0(i){return{integerValue:""+i}}function SC(i,e){return $I(e)?K0(e):Pg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this._=void 0}}function bC(i,e,n){return i instanceof Vh?(function(o,u){const f={fields:{[D0]:{stringValue:C0},[O0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ng(u)&&(u=tf(u)),u&&(f.fields[N0]=u),{mapValue:f}})(n,e):i instanceof bu?X0(i,e):i instanceof wu?$0(i,e):(function(o,u){const f=Y0(o,u),m=CE(f)+CE(o.Ae);return $m(f)&&$m(o.Ae)?K0(m):Pg(o.serializer,m)})(i,e)}function wC(i,e,n){return i instanceof bu?X0(i,e):i instanceof wu?$0(i,e):n}function Y0(i,e){return i instanceof xh?(function(s){return $m(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Vh extends sf{}class bu extends sf{constructor(e){super(),this.elements=e}}function X0(i,e){const n=Z0(e);for(const s of i.elements)n.some((o=>Bi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class wu extends sf{constructor(e){super(),this.elements=e}}function $0(i,e){let n=Z0(e);for(const s of i.elements)n=n.filter((o=>!Bi(o,s)));return{arrayValue:{values:n}}}class xh extends sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function CE(i){return Ot(i.integerValue||i.doubleValue)}function Z0(i){return Og(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function RC(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof bu&&o instanceof bu||s instanceof wu&&o instanceof wu?No(s.elements,o.elements,Bi):s instanceof xh&&o instanceof xh?Bi(s.Ae,o.Ae):s instanceof Vh&&o instanceof Vh})(i.transform,e.transform)}class IC{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class af{}function W0(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new kg(i.key,jn.none()):new Mu(i.key,i.data,jn.none());{const n=i.data,s=In.empty();let o=new Ht(rn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ds(i.key,s,new zn(o.toArray()),jn.none())}}function CC(i,e,n){i instanceof Mu?(function(o,u,f){const m=o.value.clone(),p=NE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Ds?(function(o,u,f){if(!yh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=NE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(J0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function du(i,e,n,s){return i instanceof Mu?(function(u,f,m,p){if(!yh(u.precondition,f))return m;const g=u.value.clone(),E=OE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof Ds?(function(u,f,m,p){if(!yh(u.precondition,f))return m;const g=OE(u.fieldTransforms,p,f),E=f.data;return E.setAll(J0(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,f,m){return yh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(i,e,n)}function DC(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Y0(s.transform,o||null);u!=null&&(n===null&&(n=In.empty()),n.set(s.field,u))}return n||null}function DE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&No(s,o,((u,f)=>RC(u,f)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Mu extends af{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends af{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function J0(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function NE(i,e,n){const s=new Map;et(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,wC(f,m,n[o]))}return s}function OE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,bC(u,f,e))}return s}class kg extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NC extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&CC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Q0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=W0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ve.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,((n,s)=>DE(n,s)))&&No(this.baseMutations,e.baseMutations,((n,s)=>DE(n,s)))}}class Ug{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){et(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return vC})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ug(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,$e;function MC(i){switch(i){case ee.OK:return Ce(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ce(15467,{code:i})}}function eA(i){if(i===void 0)return Tr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case kt.OK:return ee.OK;case kt.CANCELLED:return ee.CANCELLED;case kt.UNKNOWN:return ee.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ee.INTERNAL;case kt.UNAVAILABLE:return ee.UNAVAILABLE;case kt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case kt.NOT_FOUND:return ee.NOT_FOUND;case kt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case kt.ABORTED:return ee.ABORTED;case kt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case kt.DATA_LOSS:return ee.DATA_LOSS;default:return Ce(39323,{code:i})}}($e=kt||(kt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=new _s([4294967295,4294967295],0);function VE(i){const e=PC().encode(i),n=new g0;return n.update(e),new Uint8Array(n.digest())}function xE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new _s([n,s],0),new _s([o,u],0)]}class Lg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new au(`Invalid padding: ${n}`);if(s<0)throw new au(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new au(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_s.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(_s.fromNumber(s)));return o.compare(kC)===1&&(o=new _s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=VE(e),[s,o]=xE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Lg(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=VE(e),[s,o]=xE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new of(Ve.min(),o,new Et(Ke),Ar(),Ye())}}class Pu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Pu(s,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class tA{constructor(e,n){this.targetId=e,this.Ce=n}}class nA{constructor(e,n,s=sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class ME{constructor(){this.ve=0,this.Fe=PE(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),s=Ye();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ce(38017,{changeType:u})}})),new Pu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=PE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ar(),this.Je=uh(),this.He=uh(),this.Ye=new Et(Ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Wm(u))if(s===0){const f=new Se(u.path);this.et(n,f,fn.newNoDocument(f,Ve.min()))}else et(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Ss(s).toUint8Array()}catch(p){if(p instanceof I0)return Do("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Lg(f,o,u)}catch(p){return Do(p instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Wm(m.target)){const p=new Se(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,fn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Ye();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new of(e,n,this.Ye,this.je,s);return this.je=Ar(),this.Je=uh(),this.He=uh(),this.Ye=new Et(Ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ME,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ht(Ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ht(Ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ME),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uh(){return new Et(Se.comparator)}function PE(){return new Et(Se.comparator)}const LC={asc:"ASCENDING",desc:"DESCENDING"},BC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zC={and:"AND",or:"OR"};class jC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tg(i,e){return i.useProto3Json||ef(e)?e:{value:e}}function Mh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function FC(i,e){return Mh(i,e.toTimestamp())}function xi(i){return et(!!i,49232),Ve.fromTimestamp((function(n){const s=As(n);return new mt(s.seconds,s.nanos)})(i))}function Bg(i,e){return ng(i,e).canonicalString()}function ng(i,e){const n=(function(o){return new ft(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function rA(i){const e=ft.fromString(i);return et(uA(e),10190,{key:e.toString()}),e}function ig(i,e){return Bg(i.databaseId,e.path)}function Dm(i,e){const n=rA(e);if(n.get(1)!==i.databaseId.projectId)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Se(aA(n))}function sA(i,e){return Bg(i.databaseId,e)}function qC(i){const e=rA(i);return e.length===4?ft.emptyPath():aA(e)}function rg(i){return new ft(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function aA(i){return et(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function kE(i,e,n){return{name:ig(i,e),fields:n.value.mapValue.fields}}function HC(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ce(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(et(E===void 0||typeof E=="string",58123),sn.fromBase64String(E||"")):(et(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),sn.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?ee.UNKNOWN:eA(g.code);return new me(E,g.message||"")})(f);n=new nA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Dm(i,s.document.name),u=xi(s.document.updateTime),f=s.document.createTime?xi(s.document.createTime):Ve.min(),m=new In({mapValue:{fields:s.document.fields}}),p=fn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new _h(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Dm(i,s.document),u=s.readTime?xi(s.readTime):Ve.min(),f=fn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new _h([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Dm(i,s.document),u=s.removedTargetIds||[];n=new _h([],u,o,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new xC(o,u),m=s.targetId;n=new tA(m,f)}}return n}function GC(i,e){let n;if(e instanceof Mu)n={update:kE(i,e.key,e.value)};else if(e instanceof kg)n={delete:ig(i,e.key)};else if(e instanceof Ds)n={update:kE(i,e.key,e.data),updateMask:e2(e.fieldMask)};else{if(!(e instanceof NC))return Ce(16599,{Vt:e.type});n={verify:ig(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Vh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof bu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof wu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof xh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ce(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:FC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ce(27497)})(i,e.precondition)),n}function QC(i,e){return i&&i.length>0?(et(e!==void 0,14353),i.map((n=>(function(o,u){let f=o.updateTime?xi(o.updateTime):xi(u);return f.isEqual(Ve.min())&&(f=xi(u)),new IC(f,o.transformResults||[])})(n,e)))):[]}function KC(i,e){return{documents:[sA(i,e.path)]}}function YC(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=sA(i,o);const u=(function(g){if(g.length!==0)return lA(gi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(b){return{field:vo(b.field),direction:ZC(b.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=tg(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function XC(i){let e=qC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){et(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const b=oA(T);return b instanceof gi&&U0(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((b=>(function(Q){return new Oh(Eo(Q.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,ef(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(T){const b=!!T.before,k=T.values||[];return new Nh(k,b)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const b=!T.before,k=T.values||[];return new Nh(k,b)})(n.endAt)),mC(e,o,f,u,m,"F",p,g)}function $C(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oA(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Eo(n.unaryFilter.field);return Lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(n.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Eo(n.unaryFilter.field);return Lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Eo(n.unaryFilter.field);return Lt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Lt.create(Eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return gi.create(n.compositeFilter.filters.map((s=>oA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(i):Ce(30097,{filter:i})}function ZC(i){return LC[i]}function WC(i){return BC[i]}function JC(i){return zC[i]}function vo(i){return{fieldPath:i.canonicalString()}}function Eo(i){return rn.fromServerFormat(i.fieldPath)}function lA(i){return i instanceof Lt?(function(n){if(n.op==="=="){if(SE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(AE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(SE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(AE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:WC(n.op),value:n.value}}})(i):i instanceof gi?(function(n){const s=n.getFilters().map((o=>lA(o)));return s.length===1?s[0]:{compositeFilter:{op:JC(n.op),filters:s}}})(i):Ce(54877,{filter:i})}function e2(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function uA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,s,o,u=Ve.min(),f=Ve.min(),m=sn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.yt=e}}function n2(i){const e=XC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?eg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.Cn=new r2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Ts.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Ts.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class r2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ht(ft.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ht(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cA=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(cA,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xo(0)}static cr(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="LruGarbageCollector",s2=1048576;function BE([i,e],[n,s]){const o=Ke(i,n);return o===0?Ke(e,s):o}class a2{constructor(e){this.Ir=e,this.buffer=new Ht(BE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();BE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class o2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(LE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fo(n)?pe(LE,"Ignoring IndexedDB error during garbage collection: ",n):await jo(n)}await this.Vr(3e5)}))}}class l2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Jh.ce);const s=new a2(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(UE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),yo()<=Qe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function u2(i,e){return new l2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.changes=new ba((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&du(s.mutation,o,zn.empty(),mt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ye()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ye()){const o=da();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=su();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=da();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ye())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=Ar();const f=fu(),m=(function(){return fu()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ds)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),du(E.mutation,g,E.mutation.getFieldMask(),mt.now())):f.set(g.key,zn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new h2(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=fu();let o=new Et(((f,m)=>f-m)),u=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||zn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Ye()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=Q0();E.forEach((b=>{if(!u.has(b)){const k=W0(n.get(b),s.get(b));k!==null&&T.set(b,k),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ie.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return Se.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):j0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(da());let m=Eu,p=u;return f.next((g=>ie.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((b=>{p=p.insert(E,b)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Ye()))).next((E=>({batchId:m,changes:G0(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next((s=>{let o=su();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=su();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(T,b){return new xu(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,b)=>{f=f.insert(T,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,fn.newInvalidDocument(E)))}));let m=su();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&du(E.mutation,g,zn.empty(),mt.now()),rf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:n2(o.bundledQuery),readTime:xi(o.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.overlays=new Et(Se.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=da();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=da(),u=n.length+1,f=new Se(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Et(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=da(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=da(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new VC(n,s));let u=this.qr.get(n);u===void 0&&(u=Ye(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(){this.Qr=new Ht(Zt.$r),this.Ur=new Ht(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Se(new ft([])),s=new Zt(n,e),o=new Zt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Se(new ft([])),s=new Zt(n,e),o=new Zt(n,e+1);let u=Ye();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Se.comparator(e.key,n.key)||Ke(e.Yr,n.Yr)}static Kr(e,n){return Ke(e.Yr,n.Yr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Zt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new OC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Dg:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Zt(n,0),o=new Zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ht(Ke);return n.forEach((o=>{const u=new Zt(o,0),f=new Zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Se.isDocumentKey(u)||(u=u.child(""));const f=new Zt(new Se(u),0);let m=new Ht(Ke);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){et(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new Zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Zt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.ri=e,this.docs=(function(){return new Et(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let s=Ar();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ar();const f=n.path,m=new Se(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||QI(GI(E),s)<=0||(o.has(E.key)||rf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ce(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new _2(this)}getSize(e){return ie.resolve(this.size)}}class _2 extends c2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.persistence=e,this.si=new ba((n=>Vg(n)),xg),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new zg,this.targetCount=0,this.ai=xo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Jh(0),this.li=!1,this.li=!0,this.hi=new g2,this.referenceDelegate=e(this),this.Pi=new v2(this),this.indexManager=new i2,this.remoteDocumentCache=(function(o){return new y2(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new t2(n),this.Ii=new d2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new m2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new p2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){pe("MemoryPersistence","Starting transaction:",e);const o=new E2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class E2 extends YI{constructor(e){super(),this.currentSequenceNumber=e}}class jg{constructor(e){this.persistence=e,this.Ri=new zg,this.Vi=null}static mi(e){return new jg(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=Se.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ve.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ph{constructor(e,n){this.persistence=e,this.pi=new ba((s=>ZI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=u2(this,n)}static mi(e,n){return new Ph(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ve.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gh(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ye(),o=Ye();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Fg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mR()?8:XI(dn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new T2;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(yo()<=Qe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(yo()<=Qe.DEBUG&&pe("QueryEngine","Query:",_o(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(yo()<=Qe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):ie.resolve())}ys(e,n){if(IE(n))return ie.resolve(null);let s=Vi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=eg(n,null,"F"),s=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ye(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,eg(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return IE(n)||o.isEqual(Ve.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ie.resolve(null):(yo()<=Qe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(n)),this.vs(e,f,n,HI(o,Eu)).next((m=>m)))}))}Ds(e,n){let s=new Ht(q0(e));return n.forEach(((o,u)=>{rf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return yo()<=Qe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",_o(n)),this.ps.getDocumentsMatchingQuery(e,n,Ts.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="LocalStore",S2=3e8;class b2{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Et(Ke),this.xs=new ba((u=>Vg(u)),xg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function w2(i,e,n,s){return new b2(i,e,n,s)}async function fA(i,e){const n=Pe(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Ye();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function R2(i,e){const n=Pe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,b=T.keys();let k=ie.resolve();return b.forEach((Q=>{k=k.next((()=>E.getEntry(p,Q))).next((Y=>{const q=g.docVersions.get(Q);et(q!==null,48541),Y.version.compareTo(q)<0&&(T.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Ye();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function dA(i){const e=Pe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function I2(i,e){const n=Pe(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const b=o.get(T);if(!b)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let k=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(sn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),(function(Y,q,se){return Y.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=S2?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(b,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let p=Ar(),g=Ye();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(C2(u,f,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Ve.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ie.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function C2(i,e,n){let s=Ye(),o=Ye();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let f=Ar();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ve.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):pe(qg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function D2(i,e){const n=Pe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Dg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function N2(i,e){const n=Pe(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new ms(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function sg(i,e,n){const s=Pe(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Fo(f))throw f;pe(qg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function zE(i,e,n){const s=Pe(i);let o=Ve.min(),u=Ye();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const T=Pe(p),b=T.xs.get(E);return b!==void 0?ie.resolve(T.Ms.get(b)):T.Pi.getTargetData(g,E)})(s,f,Vi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ve.min(),n?u:Ye()))).next((m=>(O2(s,pC(e),m),{documents:m,Qs:u})))))}function O2(i,e,n){let s=i.Os.get(e)||Ve.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class jE{constructor(){this.activeTargetIds=AC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V2{constructor(){this.Mo=new jE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new jE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="ConnectivityMonitor";class qE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(FE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(FE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function ag(){return ch===null?ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",M2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class P2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ch?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=ag(),m=this.zo(e,n.toUriEncodedString());pe(Nm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Lo(g);return this.Jo(e,m,p,s,E).then((T=>(pe(Nm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw Do(Nm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=M2[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class U2 extends P2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=ag();return new Promise(((m,p)=>{const g=new p0;g.setWithCredentials(!0),g.listenOnce(y0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case mh.NO_ERROR:const T=g.getResponseJson();pe(cn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case mh.TIMEOUT:pe(cn,`RPC '${e}' ${f} timed out`),p(new me(ee.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const b=g.getStatus();if(pe(cn,`RPC '${e}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const Q=k?.error;if(Q&&Q.status&&Q.message){const Y=(function(se){const F=se.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(F)>=0?F:ee.UNKNOWN})(Q.status);p(new me(Y,Q.message))}else p(new me(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new me(ee.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pe(cn,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);pe(cn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=ag(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=E0(),m=v0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");pe(cn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let b=!1,k=!1;const Q=new k2({Yo:q=>{k?pe(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(b||(pe(cn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),pe(cn,`RPC '${e}' stream ${o} sending:`,q),T.send(q))},Zo:()=>T.close()}),Y=(q,se,F)=>{q.listen(se,(ae=>{try{F(ae)}catch(we){setTimeout((()=>{throw we}),0)}}))};return Y(T,ru.EventType.OPEN,(()=>{k||(pe(cn,`RPC '${e}' stream ${o} transport opened.`),Q.o_())})),Y(T,ru.EventType.CLOSE,(()=>{k||(k=!0,pe(cn,`RPC '${e}' stream ${o} transport closed`),Q.a_(),this.E_(T))})),Y(T,ru.EventType.ERROR,(q=>{k||(k=!0,Do(cn,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),Q.a_(new me(ee.UNAVAILABLE,"The operation could not be completed")))})),Y(T,ru.EventType.MESSAGE,(q=>{if(!k){const se=q.data[0];et(!!se,16349);const F=se,ae=F?.error||F[0]?.error;if(ae){pe(cn,`RPC '${e}' stream ${o} received error:`,ae);const we=ae.status;let he=(function(R){const I=kt[R];if(I!==void 0)return eA(I)})(we),ke=ae.message;he===void 0&&(he=ee.INTERNAL,ke="Unknown error status: "+we+" with message "+ae.message),k=!0,Q.a_(new me(he,ke)),T.close()}else pe(cn,`RPC '${e}' stream ${o} received:`,se),Q.u_(se)}})),Y(m,_0.STAT_EVENT,(q=>{q.stat===Qm.PROXY?pe(cn,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Qm.NOPROXY&&pe(cn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(i){return new jC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="PersistentStream";class gA{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new me(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(HE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(HE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class L2 extends gA{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=HC(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ve.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ve.min():f.readTime?xi(f.readTime):Ve.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=rg(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Wm(p)?{documents:KC(u,p)}:{query:YC(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=iA(u,f.resumeToken);const g=tg(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ve.min())>0){m.readTime=Mh(u,f.snapshotVersion.toTimestamp());const g=tg(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=$C(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=rg(this.serializer),n.removeTarget=e,this.q_(n)}}class B2 extends gA{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=QC(e.writeResults,e.commitTime),s=xi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=rg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>GC(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{}class j2 extends z2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,ng(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,ng(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class F2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Tr(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class q2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{wa(this)&&(pe(Ta,"Restarting streams for network reachability change."),await(async function(p){const g=Pe(p);g.Ea.add(4),await ku(g),g.Ra.set("Unknown"),g.Ea.delete(4),await uf(g)})(this))}))})),this.Ra=new F2(s,o)}}async function uf(i){if(wa(i))for(const e of i.da)await e(!0)}async function ku(i){for(const e of i.da)await e(!1)}function pA(i,e){const n=Pe(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Kg(n)?Qg(n):qo(n).O_()&&Gg(n,e))}function Hg(i,e){const n=Pe(i),s=qo(n);n.Ia.delete(e),s.O_()&&yA(n,e),n.Ia.size===0&&(s.O_()?s.L_():wa(n)&&n.Ra.set("Unknown"))}function Gg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qo(i).Y_(e)}function yA(i,e){i.Va.Ue(e),qo(i).Z_(e)}function Qg(i){i.Va=new UC({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),qo(i).start(),i.Ra.ua()}function Kg(i){return wa(i)&&!qo(i).x_()&&i.Ia.size>0}function wa(i){return Pe(i).Ea.size===0}function _A(i){i.Va=void 0}async function H2(i){i.Ra.set("Online")}async function G2(i){i.Ia.forEach(((e,n)=>{Gg(i,e)}))}async function Q2(i,e){_A(i),Kg(i)?(i.Ra.ha(e),Qg(i)):i.Ra.set("Unknown")}async function K2(i,e,n){if(i.Ra.set("Online"),e instanceof nA&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){pe(Ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await kh(i,s)}else if(e instanceof _h?i.Va.Ze(e):e instanceof tA?i.Va.st(e):i.Va.tt(e),!n.isEqual(Ve.min()))try{const s=await dA(i.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(sn.EMPTY_BYTE_STRING,E.snapshotVersion)),yA(u,p);const T=new ms(E.target,p,g,E.sequenceNumber);Gg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){pe(Ta,"Failed to raise snapshot:",s),await kh(i,s)}}async function kh(i,e,n){if(!Fo(e))throw e;i.Ea.add(1),await ku(i),i.Ra.set("Offline"),n||(n=()=>dA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{pe(Ta,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await uf(i)}))}function vA(i,e){return e().catch((n=>kh(i,n,e)))}async function cf(i){const e=Pe(i),n=ws(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dg;for(;Y2(e);)try{const o=await D2(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,X2(e,o)}catch(o){await kh(e,o)}EA(e)&&TA(e)}function Y2(i){return wa(i)&&i.Ta.length<10}function X2(i,e){i.Ta.push(e);const n=ws(i);n.O_()&&n.X_&&n.ea(e.mutations)}function EA(i){return wa(i)&&!ws(i).x_()&&i.Ta.length>0}function TA(i){ws(i).start()}async function $2(i){ws(i).ra()}async function Z2(i){const e=ws(i);for(const n of i.Ta)e.ea(n.mutations)}async function W2(i,e,n){const s=i.Ta.shift(),o=Ug.from(s,e,n);await vA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await cf(i)}async function J2(i,e){e&&ws(i).X_&&await(async function(s,o){if((function(f){return MC(f)&&f!==ee.ABORTED})(o.code)){const u=s.Ta.shift();ws(s).B_(),await vA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await cf(s)}})(i,e),EA(i)&&TA(i)}async function GE(i,e){const n=Pe(i);n.asyncQueue.verifyOperationInProgress(),pe(Ta,"RemoteStore received new credentials");const s=wa(n);n.Ea.add(3),await ku(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await uf(n)}async function eD(i,e){const n=Pe(i);e?(n.Ea.delete(2),await uf(n)):e||(n.Ea.add(2),await ku(n),n.Ra.set("Unknown"))}function qo(i){return i.ma||(i.ma=(function(n,s,o){const u=Pe(n);return u.sa(),new L2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:H2.bind(null,i),t_:G2.bind(null,i),r_:Q2.bind(null,i),H_:K2.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Kg(i)?Qg(i):i.Ra.set("Unknown")):(await i.ma.stop(),_A(i))}))),i.ma}function ws(i){return i.fa||(i.fa=(function(n,s,o){const u=Pe(n);return u.sa(),new B2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:$2.bind(null,i),r_:J2.bind(null,i),ta:Z2.bind(null,i),na:W2.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await cf(i)):(await i.fa.stop(),i.Ta.length>0&&(pe(Ta,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Yg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xg(i,e){if(Tr("AsyncQueue",`${e}: ${i}`),Fo(i))return new me(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{static emptySet(e){return new So(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Se.comparator(n.key,s.key):(n,s)=>Se.comparator(n.key,s.key),this.keyedMap=su(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new So;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.ga=new Et(Se.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Mo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Mo(e,n,So.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nD{constructor(){this.queries=KE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Pe(n),u=o.queries;o.queries=KE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new me(ee.ABORTED,"Firestore shutting down"))}}function KE(){return new ba((i=>F0(i)),nf)}async function AA(i,e){const n=Pe(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new tD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Xg(f,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&$g(n)}async function SA(i,e){const n=Pe(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function iD(i,e){const n=Pe(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&$g(n)}function rD(i,e,n){const s=Pe(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function $g(i){i.Ca.forEach((e=>{e.next()}))}var og,YE;(YE=og||(og={})).Ma="default",YE.Cache="cache";class bA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.key=e}}class RA{constructor(e){this.key=e}}class sD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=q0(e),this.tu=new So(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new QE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const b=o.get(E),k=rf(this.query,T)?T:null,Q=!!b&&this.mutatedKeys.has(b.key),Y=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let q=!1;b&&k?b.data.isEqual(k.data)?Q!==Y&&(s.track({type:3,doc:k}),q=!0):this.su(b,k)||(s.track({type:2,doc:k}),q=!0,(p&&this.eu(k,p)>0||g&&this.eu(k,g)<0)&&(m=!0)):!b&&k?(s.track({type:0,doc:k}),q=!0):b&&!k&&(s.track({type:1,doc:b}),q=!0,(p||g)&&(m=!0)),q&&(k?(f=f.add(k),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(k,Q){const Y=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:q})}};return Y(k)-Y(Q)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new Mo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new QE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new RA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new wA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zg="SyncEngine";class aD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class oD{constructor(e){this.key=e,this.hu=!1}}class lD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ba((m=>F0(m)),nf),this.Iu=new Map,this.Eu=new Set,this.du=new Et(Se.comparator),this.Au=new Map,this.Ru=new zg,this.Vu={},this.mu=new Map,this.fu=xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uD(i,e,n=!0){const s=VA(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await IA(s,e,n,!0),o}async function cD(i,e){const n=VA(i);await IA(n,e,!0,!1)}async function IA(i,e,n,s){const o=await N2(i.localStore,Vi(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await hD(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&pA(i.remoteStore,o),m}async function hD(i,e,n,s,o){i.pu=(T,b,k)=>(async function(Y,q,se,F){let ae=q.view.ru(se);ae.Cs&&(ae=await zE(Y.localStore,q.query,!1).then((({documents:O})=>q.view.ru(O,ae))));const we=F&&F.targetChanges.get(q.targetId),he=F&&F.targetMismatches.get(q.targetId)!=null,ke=q.view.applyChanges(ae,Y.isPrimaryClient,we,he);return $E(Y,q.targetId,ke.au),ke.snapshot})(i,T,b,k);const u=await zE(i.localStore,e,!0),f=new sD(e,u.Qs),m=f.ru(u.documents),p=Pu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);$E(i,n,g.au);const E=new aD(e,n,f);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function fD(i,e,n){const s=Pe(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!nf(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await sg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Hg(s.remoteStore,o.targetId),lg(s,o.targetId)})).catch(jo)):(lg(s,o.targetId),await sg(s.localStore,o.targetId,!0))}async function dD(i,e){const n=Pe(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Hg(n.remoteStore,s.targetId))}async function mD(i,e,n){const s=TD(i);try{const o=await(function(f,m){const p=Pe(f),g=mt.now(),E=m.reduce(((k,Q)=>k.add(Q.key)),Ye());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let Q=Ar(),Y=Ye();return p.Ns.getEntries(k,E).next((q=>{Q=q,Q.forEach(((se,F)=>{F.isValidDocument()||(Y=Y.add(se))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,Q))).next((q=>{T=q;const se=[];for(const F of m){const ae=DC(F,T.get(F.key).overlayedDocument);ae!=null&&se.push(new Ds(F.key,ae,M0(ae.value.mapValue),jn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,se,m)})).next((q=>{b=q;const se=q.applyToLocalDocumentSet(T,Y);return p.documentOverlayCache.saveOverlays(k,q.batchId,se)}))})).then((()=>({batchId:b.batchId,changes:G0(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new Et(Ke)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await Uu(s,o.changes),await cf(s.remoteStore)}catch(o){const u=Xg(o,"Failed to persist write");n.reject(u)}}async function CA(i,e){const n=Pe(i);try{const s=await I2(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?et(f.hu,14607):o.removedDocuments.size>0&&(et(f.hu,42227),f.hu=!1))})),await Uu(n,s,e)}catch(s){await jo(s)}}function XE(i,e,n){const s=Pe(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Pe(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const b of T.Sa)b.va(m)&&(g=!0)})),g&&$g(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gD(i,e,n){const s=Pe(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new Et(Se.comparator);f=f.insert(u,fn.newNoDocument(u,Ve.min()));const m=Ye().add(u),p=new of(Ve.min(),new Map,new Et(Ke),f,m);await CA(s,p),s.du=s.du.remove(u),s.Au.delete(e),Wg(s)}else await sg(s.localStore,e,!1).then((()=>lg(s,e,n))).catch(jo)}async function pD(i,e){const n=Pe(i),s=e.batch.batchId;try{const o=await R2(n.localStore,e);NA(n,s,null),DA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Uu(n,o)}catch(o){await jo(o)}}async function yD(i,e,n){const s=Pe(i);try{const o=await(function(f,m){const p=Pe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(et(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);NA(s,e,n),DA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Uu(s,o)}catch(o){await jo(o)}}function DA(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function NA(i,e,n){const s=Pe(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function lg(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||OA(i,s)}))}function OA(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Hg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Wg(i))}function $E(i,e,n){for(const s of n)s instanceof wA?(i.Ru.addReference(s.key,e),_D(i,s)):s instanceof RA?(pe(Zg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||OA(i,s.key)):Ce(19791,{wu:s})}function _D(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(pe(Zg,"New document in limbo: "+n),i.Eu.add(s),Wg(i))}function Wg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Se(ft.fromString(e)),s=i.fu.next();i.Au.set(s,new oD(n)),i.du=i.du.insert(n,s),pA(i.remoteStore,new ms(Vi(Mg(n.path)),s,"TargetPurposeLimboResolution",Jh.ce))}}async function Uu(i,e,n){const s=Pe(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Fg.As(p.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const E=Pe(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(g,(b=>ie.forEach(b.Es,(k=>E.persistence.referenceDelegate.addReference(T,b.targetId,k))).next((()=>ie.forEach(b.ds,(k=>E.persistence.referenceDelegate.removeReference(T,b.targetId,k)))))))))}catch(T){if(!Fo(T))throw T;pe(qg,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const k=E.Ms.get(b),Q=k.snapshotVersion,Y=k.withLastLimboFreeSnapshotVersion(Q);E.Ms=E.Ms.insert(b,Y)}}})(s.localStore,u))}async function vD(i,e){const n=Pe(i);if(!n.currentUser.isEqual(e)){pe(Zg,"User change. New user:",e.toKey());const s=await fA(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new me(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Uu(n,s.Ls)}}function ED(i,e){const n=Pe(i),s=n.Au.get(e);if(s&&s.hu)return Ye().add(s.key);{let o=Ye();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function VA(i){const e=Pe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=CA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ED.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gD.bind(null,e),e.Pu.H_=iD.bind(null,e.eventManager),e.Pu.yu=rD.bind(null,e.eventManager),e}function TD(i){const e=Pe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yD.bind(null,e),e}class Uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return w2(this.persistence,new A2,e.initialUser,this.serializer)}Cu(e){return new hA(jg.mi,this.serializer)}Du(e){return new V2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uh.provider={build:()=>new Uh};class AD extends Uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){et(this.persistence.referenceDelegate instanceof Ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new o2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new hA((s=>Ph.mi(s,n)),this.serializer)}}class ug{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>XE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=vD.bind(null,this.syncEngine),await eD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nD})()}createDatastore(e){const n=lf(e.databaseInfo.databaseId),s=(function(u){return new U2(u)})(e.databaseInfo);return(function(u,f,m,p){return new j2(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new q2(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>XE(this.syncEngine,n,0)),(function(){return qE.v()?new qE:new x2})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const T=new lD(o,u,f,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Pe(n);pe(Ta,"RemoteStore shutting down."),s.Ea.add(5),await ku(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ug.provider={build:()=>new ug};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="FirestoreClient";class SD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=Cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{pe(Rs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(pe(Rs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Xg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Vm(i,e){i.asyncQueue.verifyOperationInProgress(),pe(Rs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await fA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function ZE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await bD(i);pe(Rs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>GE(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>GE(e.remoteStore,o))),i._onlineComponents=e}async function bD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pe(Rs,"Using user provided OfflineComponentProvider");try{await Vm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),await Vm(i,new Uh)}}else pe(Rs,"Using default OfflineComponentProvider"),await Vm(i,new AD(void 0));return i._offlineComponents}async function MA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pe(Rs,"Using user provided OnlineComponentProvider"),await ZE(i,i._uninitializedComponentsProvider._online)):(pe(Rs,"Using default OnlineComponentProvider"),await ZE(i,new ug))),i._onlineComponents}function wD(i){return MA(i).then((e=>e.syncEngine))}async function PA(i){const e=await MA(i),n=e.eventManager;return n.onListen=uD.bind(null,e.syncEngine),n.onUnlisten=fD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dD.bind(null,e.syncEngine),n}function RD(i,e,n={}){const s=new _r;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new xA({next:b=>{E.Nu(),f.enqueueAndForget((()=>SA(u,T)));const k=b.docs.has(m);!k&&b.fromCache?g.reject(new me(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&b.fromCache&&p&&p.source==="server"?g.reject(new me(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new bA(Mg(m.path),E,{includeMetadataChanges:!0,qa:!0});return AA(u,T)})(await PA(i),i.asyncQueue,e,n,s))),s.promise}function ID(i,e,n={}){const s=new _r;return i.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new xA({next:b=>{E.Nu(),f.enqueueAndForget((()=>SA(u,T))),b.fromCache&&p.source==="server"?g.reject(new me(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new bA(m,E,{includeMetadataChanges:!0,qa:!0});return AA(u,T)})(await PA(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="firestore.googleapis.com",JE=!0;class eT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UA,this.ssl=JE}else this.host=e.host,this.ssl=e.ssl??JE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s2)throw new me(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new xI;switch(s.type){case"firstParty":return new UI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=WE.get(n);s&&(pe("ComponentProvider","Removing Datastore"),WE.delete(n),s.terminate())})(this),Promise.resolve()}}function CD(i,e,n,s={}){i=Li(i,hf);const o=Lo(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(l0(`https://${m}`),u0("Firestore",!0)),u.host!==UA&&u.host!==m&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!_a(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=hn.MOCK_USER;else{g=sR(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new me(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new hn(T)}i._authCredentials=new MI(new A0(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ho(this.firestore,e,this._query)}}class Vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Vu(n,Vt._jsonSchema))return new Vt(e,s||null,new Se(ft.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Bt("string",Vt._jsonSchemaVersion),referencePath:Bt("string")};class vs extends Ho{constructor(e,n,s){super(e,n,Mg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Se(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function Jg(i,e,...n){if(i=Gt(i),S0("collection","path",e),i instanceof hf){const s=ft.fromString(e,...n);return dE(s),new vs(i,null,s)}{if(!(i instanceof Vt||i instanceof vs))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ft.fromString(e,...n));return dE(s),new vs(i.firestore,null,s)}}function Po(i,e,...n){if(i=Gt(i),arguments.length===1&&(e=Cg.newId()),S0("doc","path",e),i instanceof hf){const s=ft.fromString(e,...n);return fE(s),new Vt(i,null,new Se(s))}{if(!(i instanceof Vt||i instanceof vs))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ft.fromString(e,...n));return fE(s),new Vt(i.firestore,i instanceof vs?i.converter:null,new Se(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="AsyncQueue";class nT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mA(this,"async_queue_retry"),this._c=()=>{const s=Om();s&&pe(tT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fo(e))throw e;pe(tT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Tr("INTERNAL UNHANDLED ERROR: ",iT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Yg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ce(47125,{Pc:iT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function iT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Go extends hf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new nT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nT(e),this._firestoreClient=void 0,await e}}}function DD(i,e){const n=typeof i=="object"?i:Rg(),s=typeof i=="string"?i:Ch,o=wg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=iR("firestore");u&&CD(o,...u)}return o}function ff(i){if(i._terminated)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||ND(i),i._firestoreClient}function ND(i){const e=i._freezeSettings(),n=(function(o,u,f,m){return new eC(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,kA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new SD(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(sn.fromBase64String(e))}catch(n){throw new me(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jn(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vu(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Bt("string",Jn._jsonSchemaVersion),bytes:Bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function OD(){return new Qo(Ym)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(Vu(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Bt("string",Mi._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vu(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Pi(e.vectorValues);throw new me(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Bt("string",Pi._jsonSchemaVersion),vectorValues:Bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=/^__.*__$/;class xD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mu(e,this.data,n,this.fieldTransforms)}}class LA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:i})}}class tp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(BA(this.Ac)&&VD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class MD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||lf(e)}Cc(e,n,s,o=!1){return new tp({Ac:e,methodName:n,Dc:s,path:rn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function df(i){const e=i._freezeSettings(),n=lf(i._databaseId);return new MD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function zA(i,e,n,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);np("Data must be an object, but it was:",f,s);const m=qA(s,f);let p,g;if(u.merge)p=new zn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const b=cg(e,T,n);if(!f.contains(b))throw new me(ee.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);GA(E,b)||E.push(b)}p=new zn(E),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new xD(new In(m),p,g)}class mf extends ep{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mf}}function jA(i,e,n,s){const o=i.Cc(1,e,n);np("Data must be an object, but it was:",o,s);const u=[],f=In.empty();Cs(s,((p,g)=>{const E=ip(e,p,n);g=Gt(g);const T=o.yc(E);if(g instanceof mf)u.push(E);else{const b=Lu(g,T);b!=null&&(u.push(E),f.set(E,b))}}));const m=new zn(u);return new LA(f,m,o.fieldTransforms)}function FA(i,e,n,s,o,u){const f=i.Cc(1,e,n),m=[cg(e,s,n)],p=[o];if(u.length%2!=0)throw new me(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(cg(e,u[b])),p.push(u[b+1]);const g=[],E=In.empty();for(let b=m.length-1;b>=0;--b)if(!GA(g,m[b])){const k=m[b];let Q=p[b];Q=Gt(Q);const Y=f.yc(k);if(Q instanceof mf)g.push(k);else{const q=Lu(Q,Y);q!=null&&(g.push(k),E.set(k,q))}}const T=new zn(g);return new LA(E,T,f.fieldTransforms)}function PD(i,e,n,s=!1){return Lu(n,i.Cc(s?4:3,e))}function Lu(i,e){if(HA(i=Gt(i)))return np("Unsupported field value:",e,i),qA(i,e);if(i instanceof ep)return(function(s,o){if(!BA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Lu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Gt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return SC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=mt.fromDate(s);return{timestampValue:Mh(o.serializer,u)}}if(s instanceof mt){const u=new mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mh(o.serializer,u)}}if(s instanceof Mi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Jn)return{bytesValue:iA(o.serializer,s._byteString)};if(s instanceof Vt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Pi)return(function(f,m){return{mapValue:{fields:{[V0]:{stringValue:x0},[Dh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Pg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Wh(s)}`)})(i,e)}function qA(i,e){const n={};return R0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(i,((s,o)=>{const u=Lu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function HA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof mt||i instanceof Mi||i instanceof Jn||i instanceof Vt||i instanceof ep||i instanceof Pi)}function np(i,e,n){if(!HA(n)||!b0(n)){const s=Wh(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function cg(i,e,n){if((e=Gt(e))instanceof Qo)return e._internalPath;if(typeof e=="string")return ip(i,e);throw Lh("Field path arguments must be of type string or ",i,!1,void 0,n)}const kD=new RegExp("[~\\*/\\[\\]]");function ip(i,e,n){if(e.search(kD)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Qo(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Lh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new me(ee.INVALID_ARGUMENT,m+i+p)}function GA(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UD extends QA{data(){return super.data()}}function rp(i,e){return typeof e=="string"?ip(i,e):e instanceof Qo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new me(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sp{}class BD extends sp{}function KA(i,e,...n){let s=[];e instanceof sp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof ap)).length,m=u.filter((p=>p instanceof gf)).length;if(f>1||f>0&&m>0)throw new me(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class gf extends BD{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new gf(e,n,s)}_apply(e){const n=this._parse(e);return XA(e._query,n),new Ho(e.firestore,e.converter,Jm(e._query,n))}_parse(e){const n=df(e.firestore);return(function(u,f,m,p,g,E,T){let b;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new me(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){sT(T,E);const Q=[];for(const Y of T)Q.push(rT(p,u,Y));b={arrayValue:{values:Q}}}else b=rT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||sT(T,E),b=PD(m,f,T,E==="in"||E==="not-in");return Lt.create(g,E,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function YA(i,e,n){const s=e,o=rp("where",i);return gf._create(o,s,n)}class ap extends sp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ap(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:gi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)XA(f,p),f=Jm(f,p)})(e._query,n),new Ho(e.firestore,e.converter,Jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function rT(i,e,n){if(typeof(n=Gt(n))=="string"){if(n==="")throw new me(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j0(e)&&n.indexOf("/")!==-1)throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ft.fromString(n));if(!Se.isDocumentKey(s))throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return TE(i,new Se(s))}if(n instanceof Vt)return TE(i,n._key);throw new me(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function sT(i,e){if(!Array.isArray(i)||i.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XA(i,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zD{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Cs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Dh].arrayValue?.values?.map((s=>Ot(s.doubleValue)));return new Pi(n)}convertGeoPoint(e){return new Mi(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=tf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const n=As(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ft.fromString(e);et(uA(s),9688,{name:e});const o=new Au(s.get(1),s.get(3)),u=new Se(s.popFirst(5));return o.isEqual(n)||Tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pa extends QA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(rp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=pa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",pa._jsonSchema={type:Bt("string",pa._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class vh extends pa{data(e={}){return super.data(e)}}class bo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ou(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new vh(this._firestore,this._userDataWriter,s.key,s,new ou(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:jD(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(i){i=Li(i,Vt);const e=Li(i.firestore,Go);return RD(ff(e),i._key).then((n=>qD(e,i,n)))}bo._jsonSchemaVersion="firestore/querySnapshot/1.0",bo._jsonSchema={type:Bt("string",bo._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class WA extends zD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function JA(i){i=Li(i,Ho);const e=Li(i.firestore,Go),n=ff(e),s=new WA(e);return LD(i._query),ID(n,i._query).then((o=>new bo(e,s,i,o)))}function FD(i,e,n){i=Li(i,Vt);const s=Li(i.firestore,Go),o=$A(i.converter,e,n);return op(s,[zA(df(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,jn.none())])}function hg(i,e,n,...s){i=Li(i,Vt);const o=Li(i.firestore,Go),u=df(o);let f;return f=typeof(e=Gt(e))=="string"||e instanceof Qo?FA(u,"updateDoc",i._key,e,n,s):jA(u,"updateDoc",i._key,e),op(o,[f.toMutation(i._key,jn.exists(!0))])}function op(i,e){return(function(s,o){const u=new _r;return s.asyncQueue.enqueueAndForget((async()=>mD(await wD(s),o,u))),u.promise})(ff(i),e)}function qD(i,e,n){const s=n.docs.get(e._key),o=new WA(i);return new pa(i,o,e._key,s,new ou(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=df(e)}set(e,n,s){this._verifyNotCommitted();const o=xm(e,this._firestore),u=$A(o.converter,n,s),f=zA(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,jn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=xm(e,this._firestore);let f;return f=typeof(n=Gt(n))=="string"||n instanceof Qo?FA(this._dataReader,"WriteBatch.update",u._key,n,s,o):jA(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,jn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=xm(e,this._firestore);return this._mutations=this._mutations.concat(new kg(n._key,jn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xm(i,e){if((i=Gt(i)).firestore!==e)throw new me(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(i){return ff(i=Li(i,Go)),new HD(i,(e=>op(i,e)))}(function(e,n=!0){(function(o){zo=o})(Bo),Co(new va("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Go(new PI(s.getProvider("auth-internal")),new LI(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ys(uE,cE,e),ys(uE,cE,"esm2020")})();function lp(i,e){if(i==null)return{};var n={},s=Object.keys(i),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var QD=["color"],aT=X.forwardRef(function(i,e){var n=i.color,s=n===void 0?"currentColor":n,o=lp(i,QD);return X.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),X.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),KD=["color"],Bh=X.forwardRef(function(i,e){var n=i.color,s=n===void 0?"currentColor":n,o=lp(i,KD);return X.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),X.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),YD=["color"],oT=X.forwardRef(function(i,e){var n=i.color,s=n===void 0?"currentColor":n,o=lp(i,YD);return X.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),X.createElement("path",{d:"M11.8536 1.14645C11.6583 0.951184 11.3417 0.951184 11.1465 1.14645L3.71455 8.57836C3.62459 8.66832 3.55263 8.77461 3.50251 8.89155L2.04044 12.303C1.9599 12.491 2.00189 12.709 2.14646 12.8536C2.29103 12.9981 2.50905 13.0401 2.69697 12.9596L6.10847 11.4975C6.2254 11.4474 6.3317 11.3754 6.42166 11.2855L13.8536 3.85355C14.0488 3.65829 14.0488 3.34171 13.8536 3.14645L11.8536 1.14645ZM4.42166 9.28547L11.5 2.20711L12.7929 3.5L5.71455 10.5784L4.21924 11.2192L3.78081 10.7808L4.42166 9.28547Z",fill:s,fillRule:"evenodd",clipRule:"evenodd"}))}),Bu=i=>i.type==="checkbox",ma=i=>i instanceof Date,En=i=>i==null;const e1=i=>typeof i=="object";var zt=i=>!En(i)&&!Array.isArray(i)&&e1(i)&&!ma(i),XD=i=>zt(i)&&i.target?Bu(i.target)?i.target.checked:i.target.value:i,$D=i=>i.substring(0,i.search(/\.\d+(\.|$)/))||i,ZD=(i,e)=>i.has($D(e)),WD=i=>{const e=i.constructor&&i.constructor.prototype;return zt(e)&&e.hasOwnProperty("isPrototypeOf")},up=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $t(i){let e;const n=Array.isArray(i),s=typeof FileList<"u"?i instanceof FileList:!1;if(i instanceof Date)e=new Date(i);else if(!(up&&(i instanceof Blob||s))&&(n||zt(i)))if(e=n?[]:Object.create(Object.getPrototypeOf(i)),!n&&!WD(i))e=i;else for(const o in i)i.hasOwnProperty(o)&&(e[o]=$t(i[o]));else return i;return e}var pf=i=>/^\w*$/.test(i),Ut=i=>i===void 0,cp=i=>Array.isArray(i)?i.filter(Boolean):[],hp=i=>cp(i.replace(/["|']|\]/g,"").split(/\.|\[/)),ve=(i,e,n)=>{if(!e||!zt(i))return n;const s=(pf(e)?[e]:hp(e)).reduce((o,u)=>En(o)?o:o[u],i);return Ut(s)||s===i?Ut(i[e])?n:i[e]:s},Oi=i=>typeof i=="boolean",pt=(i,e,n)=>{let s=-1;const o=pf(e)?[e]:hp(e),u=o.length,f=u-1;for(;++s<u;){const m=o[s];let p=n;if(s!==f){const g=i[m];p=zt(g)||Array.isArray(g)?g:isNaN(+o[s+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;i[m]=p,i=i[m]}};const lT={BLUR:"blur",FOCUS_OUT:"focusout"},ci={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},dr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},JD=Ln.createContext(null);JD.displayName="HookFormContext";var eN=(i,e,n,s=!0)=>{const o={defaultValues:e._defaultValues};for(const u in i)Object.defineProperty(o,u,{get:()=>{const f=u;return e._proxyFormState[f]!==ci.all&&(e._proxyFormState[f]=!s||ci.all),i[f]}});return o};const tN=typeof window<"u"?Ln.useLayoutEffect:Ln.useEffect;var Bn=i=>typeof i=="string",nN=(i,e,n,s,o)=>Bn(i)?(s&&e.watch.add(i),ve(n,i,o)):Array.isArray(i)?i.map(u=>(s&&e.watch.add(u),ve(n,u))):(s&&(e.watchAll=!0),n),fg=i=>En(i)||!e1(i);function cs(i,e,n=new WeakSet){if(fg(i)||fg(e))return i===e;if(ma(i)&&ma(e))return i.getTime()===e.getTime();const s=Object.keys(i),o=Object.keys(e);if(s.length!==o.length)return!1;if(n.has(i)||n.has(e))return!0;n.add(i),n.add(e);for(const u of s){const f=i[u];if(!o.includes(u))return!1;if(u!=="ref"){const m=e[u];if(ma(f)&&ma(m)||zt(f)&&zt(m)||Array.isArray(f)&&Array.isArray(m)?!cs(f,m,n):f!==m)return!1}}return!0}var iN=(i,e,n,s,o)=>e?{...n[i],types:{...n[i]&&n[i].types?n[i].types:{},[s]:o||!0}}:{},mu=i=>Array.isArray(i)?i:[i],uT=()=>{let i=[];return{get observers(){return i},next:o=>{for(const u of i)u.next&&u.next(o)},subscribe:o=>(i.push(o),{unsubscribe:()=>{i=i.filter(u=>u!==o)}}),unsubscribe:()=>{i=[]}}};function t1(i,e){const n={};for(const s in i)if(i.hasOwnProperty(s)){const o=i[s],u=e[s];if(o&&zt(o)&&u){const f=t1(o,u);zt(f)&&(n[s]=f)}else i[s]&&(n[s]=u)}return n}var wn=i=>zt(i)&&!Object.keys(i).length,fp=i=>i.type==="file",hi=i=>typeof i=="function",zh=i=>{if(!up)return!1;const e=i?i.ownerDocument:0;return i instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},n1=i=>i.type==="select-multiple",dp=i=>i.type==="radio",rN=i=>dp(i)||Bu(i),Mm=i=>zh(i)&&i.isConnected;function sN(i,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)i=Ut(i)?s++:i[e[s++]];return i}function aN(i){for(const e in i)if(i.hasOwnProperty(e)&&!Ut(i[e]))return!1;return!0}function Pt(i,e){const n=Array.isArray(e)?e:pf(e)?[e]:hp(e),s=n.length===1?i:sN(i,n),o=n.length-1,u=n[o];return s&&delete s[u],o!==0&&(zt(s)&&wn(s)||Array.isArray(s)&&aN(s))&&Pt(i,n.slice(0,-1)),i}var oN=i=>{for(const e in i)if(hi(i[e]))return!0;return!1};function i1(i){return Array.isArray(i)||zt(i)&&!oN(i)}function dg(i,e={}){for(const n in i)i1(i[n])?(e[n]=Array.isArray(i[n])?[]:{},dg(i[n],e[n])):En(i[n])||(e[n]=!0);return e}function To(i,e,n){n||(n=dg(e));for(const s in i)i1(i[s])?Ut(e)||fg(n[s])?n[s]=dg(i[s],Array.isArray(i[s])?[]:{}):To(i[s],En(e)?{}:e[s],n[s]):n[s]=!cs(i[s],e[s]);return n}const cT={value:!1,isValid:!1},hT={value:!0,isValid:!0};var r1=i=>{if(Array.isArray(i)){if(i.length>1){const e=i.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return i[0].checked&&!i[0].disabled?i[0].attributes&&!Ut(i[0].attributes.value)?Ut(i[0].value)||i[0].value===""?hT:{value:i[0].value,isValid:!0}:hT:cT}return cT},s1=(i,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>Ut(i)?i:e?i===""?NaN:i&&+i:n&&Bn(i)?new Date(i):s?s(i):i;const fT={isValid:!1,value:null};var a1=i=>Array.isArray(i)?i.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,fT):fT;function dT(i){const e=i.ref;return fp(e)?e.files:dp(e)?a1(i.refs).value:n1(e)?[...e.selectedOptions].map(({value:n})=>n):Bu(e)?r1(i.refs).value:s1(Ut(e.value)?i.ref.value:e.value,i)}var lN=(i,e,n,s)=>{const o={};for(const u of i){const f=ve(e,u);f&&pt(o,u,f._f)}return{criteriaMode:n,names:[...i],fields:o,shouldUseNativeValidation:s}},jh=i=>i instanceof RegExp,nu=i=>Ut(i)?i:jh(i)?i.source:zt(i)?jh(i.value)?i.value.source:i.value:i,mT=i=>({isOnSubmit:!i||i===ci.onSubmit,isOnBlur:i===ci.onBlur,isOnChange:i===ci.onChange,isOnAll:i===ci.all,isOnTouch:i===ci.onTouched});const gT="AsyncFunction";var uN=i=>!!i&&!!i.validate&&!!(hi(i.validate)&&i.validate.constructor.name===gT||zt(i.validate)&&Object.values(i.validate).find(e=>e.constructor.name===gT)),cN=i=>i.mount&&(i.required||i.min||i.max||i.maxLength||i.minLength||i.pattern||i.validate),pT=(i,e,n)=>!n&&(e.watchAll||e.watch.has(i)||[...e.watch].some(s=>i.startsWith(s)&&/^\.\w+/.test(i.slice(s.length))));const gu=(i,e,n,s)=>{for(const o of n||Object.keys(i)){const u=ve(i,o);if(u){const{_f:f,...m}=u;if(f){if(f.refs&&f.refs[0]&&e(f.refs[0],o)&&!s)return!0;if(f.ref&&e(f.ref,f.name)&&!s)return!0;if(gu(m,e))break}else if(zt(m)&&gu(m,e))break}}};function yT(i,e,n){const s=ve(i,n);if(s||pf(n))return{error:s,name:n};const o=n.split(".");for(;o.length;){const u=o.join("."),f=ve(e,u),m=ve(i,u);if(f&&!Array.isArray(f)&&n!==u)return{name:n};if(m&&m.type)return{name:u,error:m};if(m&&m.root&&m.root.type)return{name:`${u}.root`,error:m.root};o.pop()}return{name:n}}var hN=(i,e,n,s)=>{n(i);const{name:o,...u}=i;return wn(u)||Object.keys(u).length>=Object.keys(e).length||Object.keys(u).find(f=>e[f]===(!s||ci.all))},fN=(i,e,n)=>!i||!e||i===e||mu(i).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),dN=(i,e,n,s,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(e||i):(n?s.isOnBlur:o.isOnBlur)?!i:(n?s.isOnChange:o.isOnChange)?i:!0,mN=(i,e)=>!cp(ve(i,e)).length&&Pt(i,e),gN=(i,e,n)=>{const s=mu(ve(i,n));return pt(s,"root",e[n]),pt(i,n,s),i};function _T(i,e,n="validate"){if(Bn(i)||Array.isArray(i)&&i.every(Bn)||Oi(i)&&!i)return{type:n,message:Bn(i)?i:"",ref:e}}var po=i=>zt(i)&&!jh(i)?i:{value:i,message:""},vT=async(i,e,n,s,o,u)=>{const{ref:f,refs:m,required:p,maxLength:g,minLength:E,min:T,max:b,pattern:k,validate:Q,name:Y,valueAsNumber:q,mount:se}=i._f,F=ve(n,Y);if(!se||e.has(Y))return{};const ae=m?m[0]:f,we=x=>{o&&ae.reportValidity&&(ae.setCustomValidity(Oi(x)?"":x||""),ae.reportValidity())},he={},ke=dp(f),O=Bu(f),R=ke||O,I=(q||fp(f))&&Ut(f.value)&&Ut(F)||zh(f)&&f.value===""||F===""||Array.isArray(F)&&!F.length,P=iN.bind(null,Y,s,he),N=(x,w,xe,Le=dr.maxLength,$=dr.minLength)=>{const le=x?w:xe;he[Y]={type:x?Le:$,message:le,ref:f,...P(x?Le:$,le)}};if(u?!Array.isArray(F)||!F.length:p&&(!R&&(I||En(F))||Oi(F)&&!F||O&&!r1(m).isValid||ke&&!a1(m).isValid)){const{value:x,message:w}=Bn(p)?{value:!!p,message:p}:po(p);if(x&&(he[Y]={type:dr.required,message:w,ref:ae,...P(dr.required,w)},!s))return we(w),he}if(!I&&(!En(T)||!En(b))){let x,w;const xe=po(b),Le=po(T);if(!En(F)&&!isNaN(F)){const $=f.valueAsNumber||F&&+F;En(xe.value)||(x=$>xe.value),En(Le.value)||(w=$<Le.value)}else{const $=f.valueAsDate||new Date(F),le=V=>new Date(new Date().toDateString()+" "+V),Ee=f.type=="time",Be=f.type=="week";Bn(xe.value)&&F&&(x=Ee?le(F)>le(xe.value):Be?F>xe.value:$>new Date(xe.value)),Bn(Le.value)&&F&&(w=Ee?le(F)<le(Le.value):Be?F<Le.value:$<new Date(Le.value))}if((x||w)&&(N(!!x,xe.message,Le.message,dr.max,dr.min),!s))return we(he[Y].message),he}if((g||E)&&!I&&(Bn(F)||u&&Array.isArray(F))){const x=po(g),w=po(E),xe=!En(x.value)&&F.length>+x.value,Le=!En(w.value)&&F.length<+w.value;if((xe||Le)&&(N(xe,x.message,w.message),!s))return we(he[Y].message),he}if(k&&!I&&Bn(F)){const{value:x,message:w}=po(k);if(jh(x)&&!F.match(x)&&(he[Y]={type:dr.pattern,message:w,ref:f,...P(dr.pattern,w)},!s))return we(w),he}if(Q){if(hi(Q)){const x=await Q(F,n),w=_T(x,ae);if(w&&(he[Y]={...w,...P(dr.validate,w.message)},!s))return we(w.message),he}else if(zt(Q)){let x={};for(const w in Q){if(!wn(x)&&!s)break;const xe=_T(await Q[w](F,n),ae,w);xe&&(x={...xe,...P(w,xe.message)},we(xe.message),s&&(he[Y]=x))}if(!wn(x)&&(he[Y]={ref:ae,...x},!s))return he}}return we(!0),he};const pN={mode:ci.onSubmit,reValidateMode:ci.onChange,shouldFocusError:!0};function yN(i={}){let e={...pN,...i},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:hi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},o=zt(e.defaultValues)||zt(e.values)?$t(e.defaultValues||e.values)||{}:{},u=e.shouldUnregister?{}:$t(o),f={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const E={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let T={...E};const b={array:uT(),state:uT()},k=e.criteriaMode===ci.all,Q=D=>z=>{clearTimeout(g),g=setTimeout(D,z)},Y=async D=>{if(!e.disabled&&(E.isValid||T.isValid||D)){const z=e.resolver?wn((await O()).errors):await I(s,!0);z!==n.isValid&&b.state.next({isValid:z})}},q=(D,z)=>{!e.disabled&&(E.isValidating||E.validatingFields||T.isValidating||T.validatingFields)&&((D||Array.from(m.mount)).forEach(Z=>{Z&&(z?pt(n.validatingFields,Z,z):Pt(n.validatingFields,Z))}),b.state.next({validatingFields:n.validatingFields,isValidating:!wn(n.validatingFields)}))},se=(D,z=[],Z,de,ce=!0,oe=!0)=>{if(de&&Z&&!e.disabled){if(f.action=!0,oe&&Array.isArray(ve(s,D))){const _e=Z(ve(s,D),de.argA,de.argB);ce&&pt(s,D,_e)}if(oe&&Array.isArray(ve(n.errors,D))){const _e=Z(ve(n.errors,D),de.argA,de.argB);ce&&pt(n.errors,D,_e),mN(n.errors,D)}if((E.touchedFields||T.touchedFields)&&oe&&Array.isArray(ve(n.touchedFields,D))){const _e=Z(ve(n.touchedFields,D),de.argA,de.argB);ce&&pt(n.touchedFields,D,_e)}(E.dirtyFields||T.dirtyFields)&&(n.dirtyFields=To(o,u)),b.state.next({name:D,isDirty:N(D,z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else pt(u,D,z)},F=(D,z)=>{pt(n.errors,D,z),b.state.next({errors:n.errors})},ae=D=>{n.errors=D,b.state.next({errors:n.errors,isValid:!1})},we=(D,z,Z,de)=>{const ce=ve(s,D);if(ce){const oe=ve(u,D,Ut(Z)?ve(o,D):Z);Ut(oe)||de&&de.defaultChecked||z?pt(u,D,z?oe:dT(ce._f)):xe(D,oe),f.mount&&Y()}},he=(D,z,Z,de,ce)=>{let oe=!1,_e=!1;const Oe={name:D};if(!e.disabled){if(!Z||de){(E.isDirty||T.isDirty)&&(_e=n.isDirty,n.isDirty=Oe.isDirty=N(),oe=_e!==Oe.isDirty);const je=cs(ve(o,D),z);_e=!!ve(n.dirtyFields,D),je?Pt(n.dirtyFields,D):pt(n.dirtyFields,D,!0),Oe.dirtyFields=n.dirtyFields,oe=oe||(E.dirtyFields||T.dirtyFields)&&_e!==!je}if(Z){const je=ve(n.touchedFields,D);je||(pt(n.touchedFields,D,Z),Oe.touchedFields=n.touchedFields,oe=oe||(E.touchedFields||T.touchedFields)&&je!==Z)}oe&&ce&&b.state.next(Oe)}return oe?Oe:{}},ke=(D,z,Z,de)=>{const ce=ve(n.errors,D),oe=(E.isValid||T.isValid)&&Oi(z)&&n.isValid!==z;if(e.delayError&&Z?(p=Q(()=>F(D,Z)),p(e.delayError)):(clearTimeout(g),p=null,Z?pt(n.errors,D,Z):Pt(n.errors,D)),(Z?!cs(ce,Z):ce)||!wn(de)||oe){const _e={...de,...oe&&Oi(z)?{isValid:z}:{},errors:n.errors,name:D};n={...n,..._e},b.state.next(_e)}},O=async D=>{q(D,!0);const z=await e.resolver(u,e.context,lN(D||m.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return q(D),z},R=async D=>{const{errors:z}=await O(D);if(D)for(const Z of D){const de=ve(z,Z);de?pt(n.errors,Z,de):Pt(n.errors,Z)}else n.errors=z;return z},I=async(D,z,Z={valid:!0})=>{for(const de in D){const ce=D[de];if(ce){const{_f:oe,..._e}=ce;if(oe){const Oe=m.array.has(oe.name),je=ce._f&&uN(ce._f);je&&E.validatingFields&&q([oe.name],!0);const rt=await vT(ce,m.disabled,u,k,e.shouldUseNativeValidation&&!z,Oe);if(je&&E.validatingFields&&q([oe.name]),rt[oe.name]&&(Z.valid=!1,z))break;!z&&(ve(rt,oe.name)?Oe?gN(n.errors,rt,oe.name):pt(n.errors,oe.name,rt[oe.name]):Pt(n.errors,oe.name))}!wn(_e)&&await I(_e,z,Z)}}return Z.valid},P=()=>{for(const D of m.unMount){const z=ve(s,D);z&&(z._f.refs?z._f.refs.every(Z=>!Mm(Z)):!Mm(z._f.ref))&&bt(D)}m.unMount=new Set},N=(D,z)=>!e.disabled&&(D&&z&&pt(u,D,z),!cs(V(),o)),x=(D,z,Z)=>nN(D,m,{...f.mount?u:Ut(z)?o:Bn(D)?{[D]:z}:z},Z,z),w=D=>cp(ve(f.mount?u:o,D,e.shouldUnregister?ve(o,D,[]):[])),xe=(D,z,Z={})=>{const de=ve(s,D);let ce=z;if(de){const oe=de._f;oe&&(!oe.disabled&&pt(u,D,s1(z,oe)),ce=zh(oe.ref)&&En(z)?"":z,n1(oe.ref)?[...oe.ref.options].forEach(_e=>_e.selected=ce.includes(_e.value)):oe.refs?Bu(oe.ref)?oe.refs.forEach(_e=>{(!_e.defaultChecked||!_e.disabled)&&(Array.isArray(ce)?_e.checked=!!ce.find(Oe=>Oe===_e.value):_e.checked=ce===_e.value||!!ce)}):oe.refs.forEach(_e=>_e.checked=_e.value===ce):fp(oe.ref)?oe.ref.value="":(oe.ref.value=ce,oe.ref.type||b.state.next({name:D,values:$t(u)})))}(Z.shouldDirty||Z.shouldTouch)&&he(D,ce,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&Be(D)},Le=(D,z,Z)=>{for(const de in z){if(!z.hasOwnProperty(de))return;const ce=z[de],oe=D+"."+de,_e=ve(s,oe);(m.array.has(D)||zt(ce)||_e&&!_e._f)&&!ma(ce)?Le(oe,ce,Z):xe(oe,ce,Z)}},$=(D,z,Z={})=>{const de=ve(s,D),ce=m.array.has(D),oe=$t(z);pt(u,D,oe),ce?(b.array.next({name:D,values:$t(u)}),(E.isDirty||E.dirtyFields||T.isDirty||T.dirtyFields)&&Z.shouldDirty&&b.state.next({name:D,dirtyFields:To(o,u),isDirty:N(D,oe)})):de&&!de._f&&!En(oe)?Le(D,oe,Z):xe(D,oe,Z),pT(D,m)&&b.state.next({...n,name:D}),b.state.next({name:f.mount?D:void 0,values:$t(u)})},le=async D=>{f.mount=!0;const z=D.target;let Z=z.name,de=!0;const ce=ve(s,Z),oe=je=>{de=Number.isNaN(je)||ma(je)&&isNaN(je.getTime())||cs(je,ve(u,Z,je))},_e=mT(e.mode),Oe=mT(e.reValidateMode);if(ce){let je,rt;const Ir=z.type?dT(ce._f):XD(D),Cn=D.type===lT.BLUR||D.type===lT.FOCUS_OUT,Ia=!cN(ce._f)&&!e.resolver&&!ve(n.errors,Z)&&!ce._f.deps||dN(Cn,ve(n.touchedFields,Z),n.isSubmitted,Oe,_e),Tn=pT(Z,m,Cn);pt(u,Z,Ir),Cn?(!z||!z.readOnly)&&(ce._f.onBlur&&ce._f.onBlur(D),p&&p(0)):ce._f.onChange&&ce._f.onChange(D);const Fn=he(Z,Ir,Cn),Dn=!wn(Fn)||Tn;if(!Cn&&b.state.next({name:Z,type:D.type,values:$t(u)}),Ia)return(E.isValid||T.isValid)&&(e.mode==="onBlur"?Cn&&Y():Cn||Y()),Dn&&b.state.next({name:Z,...Tn?{}:Fn});if(!Cn&&Tn&&b.state.next({...n}),e.resolver){const{errors:gn}=await O([Z]);if(oe(Ir),de){const pi=yT(n.errors,s,Z),Qi=yT(gn,s,pi.name||Z);je=Qi.error,Z=Qi.name,rt=wn(gn)}}else q([Z],!0),je=(await vT(ce,m.disabled,u,k,e.shouldUseNativeValidation))[Z],q([Z]),oe(Ir),de&&(je?rt=!1:(E.isValid||T.isValid)&&(rt=await I(s,!0)));de&&(ce._f.deps&&(!Array.isArray(ce._f.deps)||ce._f.deps.length>0)&&Be(ce._f.deps),ke(Z,rt,je,Fn))}},Ee=(D,z)=>{if(ve(n.errors,z)&&D.focus)return D.focus(),1},Be=async(D,z={})=>{let Z,de;const ce=mu(D);if(e.resolver){const oe=await R(Ut(D)?D:ce);Z=wn(oe),de=D?!ce.some(_e=>ve(oe,_e)):Z}else D?(de=(await Promise.all(ce.map(async oe=>{const _e=ve(s,oe);return await I(_e&&_e._f?{[oe]:_e}:_e)}))).every(Boolean),!(!de&&!n.isValid)&&Y()):de=Z=await I(s);return b.state.next({...!Bn(D)||(E.isValid||T.isValid)&&Z!==n.isValid?{}:{name:D},...e.resolver||!D?{isValid:Z}:{},errors:n.errors}),z.shouldFocus&&!de&&gu(s,Ee,D?ce:m.mount),de},V=(D,z)=>{let Z={...f.mount?u:o};return z&&(Z=t1(z.dirtyFields?n.dirtyFields:n.touchedFields,Z)),Ut(D)?Z:Bn(D)?ve(Z,D):D.map(de=>ve(Z,de))},re=(D,z)=>({invalid:!!ve((z||n).errors,D),isDirty:!!ve((z||n).dirtyFields,D),error:ve((z||n).errors,D),isValidating:!!ve(n.validatingFields,D),isTouched:!!ve((z||n).touchedFields,D)}),ge=D=>{D&&mu(D).forEach(z=>Pt(n.errors,z)),b.state.next({errors:D?n.errors:{}})},fe=(D,z,Z)=>{const de=(ve(s,D,{_f:{}})._f||{}).ref,ce=ve(n.errors,D)||{},{ref:oe,message:_e,type:Oe,...je}=ce;pt(n.errors,D,{...je,...z,ref:de}),b.state.next({name:D,errors:n.errors,isValid:!1}),Z&&Z.shouldFocus&&de&&de.focus&&de.focus()},Te=(D,z)=>hi(D)?b.state.subscribe({next:Z=>"values"in Z&&D(x(void 0,z),Z)}):x(D,z,!0),ze=D=>b.state.subscribe({next:z=>{fN(D.name,z.name,D.exact)&&hN(z,D.formState||E,an,D.reRenderRoot)&&D.callback({values:{...u},...n,...z,defaultValues:o})}}).unsubscribe,Re=D=>(f.mount=!0,T={...T,...D.formState},ze({...D,formState:T})),bt=(D,z={})=>{for(const Z of D?mu(D):m.mount)m.mount.delete(Z),m.array.delete(Z),z.keepValue||(Pt(s,Z),Pt(u,Z)),!z.keepError&&Pt(n.errors,Z),!z.keepDirty&&Pt(n.dirtyFields,Z),!z.keepTouched&&Pt(n.touchedFields,Z),!z.keepIsValidating&&Pt(n.validatingFields,Z),!e.shouldUnregister&&!z.keepDefaultValue&&Pt(o,Z);b.state.next({values:$t(u)}),b.state.next({...n,...z.keepDirty?{isDirty:N()}:{}}),!z.keepIsValid&&Y()},We=({disabled:D,name:z})=>{(Oi(D)&&f.mount||D||m.disabled.has(z))&&(D?m.disabled.add(z):m.disabled.delete(z))},mn=(D,z={})=>{let Z=ve(s,D);const de=Oi(z.disabled)||Oi(e.disabled);return pt(s,D,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:D}},name:D,mount:!0,...z}}),m.mount.add(D),Z?We({disabled:Oi(z.disabled)?z.disabled:e.disabled,name:D}):we(D,!0,z.value),{...de?{disabled:z.disabled||e.disabled}:{},...e.progressive?{required:!!z.required,min:nu(z.min),max:nu(z.max),minLength:nu(z.minLength),maxLength:nu(z.maxLength),pattern:nu(z.pattern)}:{},name:D,onChange:le,onBlur:le,ref:ce=>{if(ce){mn(D,z),Z=ve(s,D);const oe=Ut(ce.value)&&ce.querySelectorAll&&ce.querySelectorAll("input,select,textarea")[0]||ce,_e=rN(oe),Oe=Z._f.refs||[];if(_e?Oe.find(je=>je===oe):oe===Z._f.ref)return;pt(s,D,{_f:{...Z._f,..._e?{refs:[...Oe.filter(Mm),oe,...Array.isArray(ve(o,D))?[{}]:[]],ref:{type:oe.type,name:D}}:{ref:oe}}}),we(D,!1,void 0,oe)}else Z=ve(s,D,{}),Z._f&&(Z._f.mount=!1),(e.shouldUnregister||z.shouldUnregister)&&!(ZD(m.array,D)&&f.action)&&m.unMount.add(D)}}},Fi=()=>e.shouldFocusError&&gu(s,Ee,m.mount),Rr=D=>{Oi(D)&&(b.state.next({disabled:D}),gu(s,(z,Z)=>{const de=ve(s,Z);de&&(z.disabled=de._f.disabled||D,Array.isArray(de._f.refs)&&de._f.refs.forEach(ce=>{ce.disabled=de._f.disabled||D}))},0,!1))},qi=(D,z)=>async Z=>{let de;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let ce=$t(u);if(b.state.next({isSubmitting:!0}),e.resolver){const{errors:oe,values:_e}=await O();n.errors=oe,ce=$t(_e)}else await I(s);if(m.disabled.size)for(const oe of m.disabled)Pt(ce,oe);if(Pt(n.errors,"root"),wn(n.errors)){b.state.next({errors:{}});try{await D(ce,Z)}catch(oe){de=oe}}else z&&await z({...n.errors},Z),Fi(),setTimeout(Fi);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wn(n.errors)&&!de,submitCount:n.submitCount+1,errors:n.errors}),de)throw de},Hi=(D,z={})=>{ve(s,D)&&(Ut(z.defaultValue)?$(D,$t(ve(o,D))):($(D,z.defaultValue),pt(o,D,$t(z.defaultValue))),z.keepTouched||Pt(n.touchedFields,D),z.keepDirty||(Pt(n.dirtyFields,D),n.isDirty=z.defaultValue?N(D,$t(ve(o,D))):N()),z.keepError||(Pt(n.errors,D),E.isValid&&Y()),b.state.next({...n}))},Gi=(D,z={})=>{const Z=D?$t(D):o,de=$t(Z),ce=wn(D),oe=ce?o:de;if(z.keepDefaultValues||(o=Z),!z.keepValues){if(z.keepDirtyValues){const _e=new Set([...m.mount,...Object.keys(To(o,u))]);for(const Oe of Array.from(_e))ve(n.dirtyFields,Oe)?pt(oe,Oe,ve(u,Oe)):$(Oe,ve(oe,Oe))}else{if(up&&Ut(D))for(const _e of m.mount){const Oe=ve(s,_e);if(Oe&&Oe._f){const je=Array.isArray(Oe._f.refs)?Oe._f.refs[0]:Oe._f.ref;if(zh(je)){const rt=je.closest("form");if(rt){rt.reset();break}}}}if(z.keepFieldsRef)for(const _e of m.mount)$(_e,ve(oe,_e));else s={}}u=e.shouldUnregister?z.keepDefaultValues?$t(o):{}:$t(oe),b.array.next({values:{...oe}}),b.state.next({values:{...oe}})}m={mount:z.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!E.isValid||!!z.keepIsValid||!!z.keepDirtyValues,f.watch=!!e.shouldUnregister,b.state.next({submitCount:z.keepSubmitCount?n.submitCount:0,isDirty:ce?!1:z.keepDirty?n.isDirty:!!(z.keepDefaultValues&&!cs(D,o)),isSubmitted:z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ce?{}:z.keepDirtyValues?z.keepDefaultValues&&u?To(o,u):n.dirtyFields:z.keepDefaultValues&&D?To(o,D):z.keepDirty?n.dirtyFields:{},touchedFields:z.keepTouched?n.touchedFields:{},errors:z.keepErrors?n.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},Ra=(D,z)=>Gi(hi(D)?D(u):D,z),Ns=(D,z={})=>{const Z=ve(s,D),de=Z&&Z._f;if(de){const ce=de.refs?de.refs[0]:de.ref;ce.focus&&(ce.focus(),z.shouldSelect&&hi(ce.select)&&ce.select())}},an=D=>{n={...n,...D}},Tt={control:{register:mn,unregister:bt,getFieldState:re,handleSubmit:qi,setError:fe,_subscribe:ze,_runSchema:O,_focusError:Fi,_getWatch:x,_getDirty:N,_setValid:Y,_setFieldArray:se,_setDisabledField:We,_setErrors:ae,_getFieldArray:w,_reset:Gi,_resetDefaultValues:()=>hi(e.defaultValues)&&e.defaultValues().then(D=>{Ra(D,e.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:Rr,_subjects:b,_proxyFormState:E,get _fields(){return s},get _formValues(){return u},get _state(){return f},set _state(D){f=D},get _defaultValues(){return o},get _names(){return m},set _names(D){m=D},get _formState(){return n},get _options(){return e},set _options(D){e={...e,...D}}},subscribe:Re,trigger:Be,register:mn,handleSubmit:qi,watch:Te,setValue:$,getValues:V,reset:Ra,resetField:Hi,clearErrors:ge,unregister:bt,setError:fe,setFocus:Ns,getFieldState:re};return{...Tt,formControl:Tt}}function ET(i={}){const e=Ln.useRef(void 0),n=Ln.useRef(void 0),[s,o]=Ln.useState({isDirty:!1,isValidating:!1,isLoading:hi(i.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:i.errors||{},disabled:i.disabled||!1,isReady:!1,defaultValues:hi(i.defaultValues)?void 0:i.defaultValues});if(!e.current)if(i.formControl)e.current={...i.formControl,formState:s},i.defaultValues&&!hi(i.defaultValues)&&i.formControl.reset(i.defaultValues,i.resetOptions);else{const{formControl:f,...m}=yN(i);e.current={...m,formState:s}}const u=e.current.control;return u._options=i,tN(()=>{const f=u._subscribe({formState:u._proxyFormState,callback:()=>o({...u._formState}),reRenderRoot:!0});return o(m=>({...m,isReady:!0})),u._formState.isReady=!0,f},[u]),Ln.useEffect(()=>u._disableForm(i.disabled),[u,i.disabled]),Ln.useEffect(()=>{i.mode&&(u._options.mode=i.mode),i.reValidateMode&&(u._options.reValidateMode=i.reValidateMode)},[u,i.mode,i.reValidateMode]),Ln.useEffect(()=>{i.errors&&(u._setErrors(i.errors),u._focusError())},[u,i.errors]),Ln.useEffect(()=>{i.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[u,i.shouldUnregister]),Ln.useEffect(()=>{if(u._proxyFormState.isDirty){const f=u._getDirty();f!==s.isDirty&&u._subjects.state.next({isDirty:f})}},[u,s.isDirty]),Ln.useEffect(()=>{i.values&&!cs(i.values,n.current)?(u._reset(i.values,{keepFieldsRef:!0,...u._options.resetOptions}),n.current=i.values,o(f=>({...f}))):u._resetDefaultValues()},[u,i.values]),Ln.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),e.current.formState=eN(s,u),e.current}var _N="firebase",vN="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys(_N,vN,"app");function o1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EN=o1,l1=new Nu("auth","Firebase",o1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new Sg("@firebase/auth");function TN(i,...e){Fh.logLevel<=Qe.WARN&&Fh.warn(`Auth (${Bo}): ${i}`,...e)}function Eh(i,...e){Fh.logLevel<=Qe.ERROR&&Fh.error(`Auth (${Bo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(i,...e){throw gp(i,...e)}function di(i,...e){return gp(i,...e)}function mp(i,e,n){const s={...EN(),[e]:n};return new Nu("auth","Firebase",s).create(e,{appName:i.name})}function ya(i){return mp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AN(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&zi(i,"argument-error"),mp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return l1.create(i,...e)}function Ne(i,e,...n){if(!i)throw gp(e,...n)}function gr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Eh(e),new Error(e)}function Sr(i,e){i||gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(){return typeof self<"u"&&self.location?.href||""}function SN(){return TT()==="http:"||TT()==="https:"}function TT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SN()||hR()||"connection"in navigator)?navigator.onLine:!0}function wN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sr(n>e,"Short delay should be less than long delay!"),this.isMobile=lR()||fR()}get(){return bN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(i,e){Sr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CN=new zu(3e4,6e4);function yp(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ko(i,e,n,s,o={}){return c1(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Ou({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return cR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(g.credentials="include"),u1.fetch()(await h1(i,i.config.apiHost,n,m),g)})}async function c1(i,e,n){i._canInitEmulator=!1;const s={...RN,...e};try{const o=new NN(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw hh(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw hh(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw hh(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw mp(i,E,g);zi(i,E)}}catch(o){if(o instanceof wr)throw o;zi(i,"network-request-failed",{message:String(o)})}}async function DN(i,e,n,s,o={}){const u=await Ko(i,e,n,s,o);return"mfaPendingCredential"in u&&zi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function h1(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?pp(i.config,o):`${i.config.apiScheme}://${o}`;return IN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class NN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(di(this.auth,"network-request-failed")),CN.get())})}}function hh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=di(i,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(i,e){return Ko(i,"POST","/v1/accounts:delete",e)}async function qh(i,e){return Ko(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VN(i,e=!1){const n=Gt(i),s=await n.getIdToken(e),o=_p(s);Ne(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:pu(Pm(o.auth_time)),issuedAtTime:pu(Pm(o.iat)),expirationTime:pu(Pm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Pm(i){return Number(i)*1e3}function _p(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=r0(n);return o?JSON.parse(o):(Eh("Failed to decode base64 JWT payload"),null)}catch(o){return Eh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function AT(i){const e=_p(i);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof wr&&xN(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function xN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(i){const e=i.auth,n=await i.getIdToken(),s=await Ru(i,qh(e,{idToken:n}));Ne(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?f1(o.providerUserInfo):[],f=kN(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new gg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function PN(i){const e=Gt(i);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kN(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function f1(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(i,e){const n=await c1(i,{},async()=>{const s=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await h1(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Lo(i.emulatorConfig.host)&&(p.credentials="include"),u1.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LN(i,e){return Ko(i,"POST","/v2/accounts:revokeToken",yp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=AT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await UN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new wo;return s&&(Ne(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ne(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ne(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(i,e){Ne(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new MN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ru(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VN(this,e)}reload(){return PN(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Hh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(ya(this.auth));const e=await this.getIdToken();return await Ru(this,ON(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:k,providerData:Q,stsTokenManager:Y}=n;Ne(T&&Y,e,"internal-error");const q=wo.fromJSON(this.name,Y);Ne(typeof T=="string",e,"internal-error"),ls(s,e.name),ls(o,e.name),Ne(typeof b=="boolean",e,"internal-error"),Ne(typeof k=="boolean",e,"internal-error"),ls(u,e.name),ls(f,e.name),ls(m,e.name),ls(p,e.name),ls(g,e.name),ls(E,e.name);const se=new fi({uid:T,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:g,lastLoginAt:E});return Q&&Array.isArray(Q)&&(se.providerData=Q.map(F=>({...F}))),p&&(se._redirectEventId=p),se}static async _fromIdTokenResponse(e,n,s=!1){const o=new wo;o.updateFromServerResponse(n);const u=new fi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Hh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ne(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?f1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new wo;m.updateFromIdToken(s);const p=new fi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new gg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map;function pr(i){Sr(i instanceof Function,"Expected a class definition");let e=ST.get(i);return e?(Sr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,ST.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}d1.type="NONE";const bT=d1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(i,e,n){return`firebase:${i}:${e}:${n}`}class Ro{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Th(this.userKey,o.apiKey,u),this.fullPersistenceKey=Th("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qh(this.auth,{idToken:e}).catch(()=>{});return n?fi._fromGetAccountInfoResponse(this.auth,n,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ro(pr(bT),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||pr(bT);const f=Th(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const b=await qh(e,{idToken:E}).catch(()=>{});if(!b)break;T=await fi._fromGetAccountInfoResponse(e,b,E)}else T=fi._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ro(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Ro(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(m1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v1(e))return"Blackberry";if(E1(e))return"Webos";if(g1(e))return"Safari";if((e.includes("chrome/")||p1(e))&&!e.includes("edge/"))return"Chrome";if(_1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function m1(i=dn()){return/firefox\//i.test(i)}function g1(i=dn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function p1(i=dn()){return/crios\//i.test(i)}function y1(i=dn()){return/iemobile/i.test(i)}function _1(i=dn()){return/android/i.test(i)}function v1(i=dn()){return/blackberry/i.test(i)}function E1(i=dn()){return/webos/i.test(i)}function vp(i=dn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function BN(i=dn()){return vp(i)&&!!window.navigator?.standalone}function zN(){return dR()&&document.documentMode===10}function T1(i=dn()){return vp(i)||_1(i)||E1(i)||v1(i)||/windows phone/i.test(i)||y1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(i,e=[]){let n;switch(i){case"Browser":n=wT(dn());break;case"Worker":n=`${wT(dn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(i,e={}){return Ko(i,"GET","/v2/passwordPolicy",yp(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=6;class HN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??qN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RT(this),this.idTokenSubscription=new RT(this),this.beforeStateQueue=new jN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qh(this,{idToken:e}),s=await fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ui(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(ya(this));const n=e?Gt(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(ya(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(ya(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FN(this),n=new HN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await LN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pr(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&TN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function yf(i){return Gt(i)}class RT{constructor(e){this.auth=e,this.observer=null,this.addObserver=TR(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QN(i){Ep=i}function KN(i){return Ep.loadJS(i)}function YN(){return Ep.gapiScript}function XN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(i,e){const n=wg(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(_a(u,e??{}))return o;zi(o,"already-initialized")}return n.initialize({options:e})}function ZN(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(pr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function WN(i,e,n){const s=yf(i);Ne(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=S1(e),{host:f,port:m}=JN(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ne(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ne(_a(g,s.config.emulator)&&_a(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Lo(f)?(l0(`${u}//${f}${p}`),u0("Auth",!0)):eO()}function S1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function JN(i){const e=S1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:IT(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:IT(f)}}}function IT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function eO(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(i,e){return DN(i,"POST","/v1/accounts:signInWithIdp",yp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="http://localhost";class Aa extends b1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Aa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Io(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Io(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Io(e,n)}buildRequest(){const e={requestUri:tO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ou(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends Tp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends ju{constructor(){super("facebook.com")}static credential(e){return Aa._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Aa._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return mr.credential(n,s)}catch{return null}}}mr.GOOGLE_SIGN_IN_METHOD="google.com";mr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends ju{constructor(){super("github.com")}static credential(e){return Aa._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.GITHUB_SIGN_IN_METHOD="github.com";fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends ju{constructor(){super("twitter.com")}static credential(e,n){return Aa._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ds.credential(n,s)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await fi._fromIdTokenResponse(e,s,o),f=CT(s);return new ko({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=CT(s);return new ko({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function CT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends wr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Gh(e,n,s,o)}}function w1(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Gh._fromErrorAndOperation(i,u,e,s):u})}async function nO(i,e,n=!1){const s=await Ru(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ko._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(i,e,n=!1){const{auth:s}=i;if(ui(s.app))return Promise.reject(ya(s));const o="reauthenticate";try{const u=await Ru(i,w1(s,o,e,i),n);Ne(u.idToken,s,"internal-error");const f=_p(u.idToken);Ne(f,s,"internal-error");const{sub:m}=f;return Ne(i.uid===m,s,"user-mismatch"),ko._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&zi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rO(i,e,n=!1){if(ui(i.app))return Promise.reject(ya(i));const s="signIn",o=await w1(i,s,e),u=await ko._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function sO(i,e,n,s){return Gt(i).onIdTokenChanged(e,n,s)}function aO(i,e,n){return Gt(i).beforeAuthStateChanged(e,n)}function oO(i,e,n,s){return Gt(i).onAuthStateChanged(e,n,s)}function lO(i){return Gt(i).signOut()}const Qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=1e3,cO=10;class I1 extends R1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);zN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cO):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},uO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}I1.type="LOCAL";const hO=I1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends R1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}C1.type="SESSION";const D1=C1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new _f(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await fO(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_f.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Ap("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function mO(i){ki().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function gO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pO(){return navigator?.serviceWorker?.controller||null}function yO(){return N1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="firebaseLocalStorageDb",_O=1,Kh="firebaseLocalStorage",V1="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vf(i,e){return i.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function vO(){const i=indexedDB.deleteDatabase(O1);return new Fu(i).toPromise()}function pg(){const i=indexedDB.open(O1,_O);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Kh,{keyPath:V1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Kh)?e(s):(s.close(),await vO(),e(await pg()))})})}async function DT(i,e,n){const s=vf(i,!0).put({[V1]:e,value:n});return new Fu(s).toPromise()}async function EO(i,e){const n=vf(i,!1).get(e),s=await new Fu(n).toPromise();return s===void 0?null:s.value}function NT(i,e){const n=vf(i,!0).delete(e);return new Fu(n).toPromise()}const TO=800,AO=3;class x1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>AO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_f._getInstance(yO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gO(),!this.activeServiceWorker)return;this.sender=new dO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pg();return await DT(e,Qh,"1"),await NT(e,Qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>DT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>EO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>NT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=vf(o,!1).getAll();return new Fu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}x1.type="LOCAL";const SO=x1;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(i,e){return e?pr(e):(Ne(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp extends b1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bO(i){return rO(i.auth,new Sp(i),i.bypassAuthState)}function wO(i){const{auth:e,user:n}=i;return Ne(n,e,"internal-error"),iO(n,new Sp(i),i.bypassAuthState)}async function RO(i){const{auth:e,user:n}=i;return Ne(n,e,"internal-error"),nO(n,new Sp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bO;case"linkViaPopup":case"linkViaRedirect":return RO;case"reauthViaPopup":case"reauthViaRedirect":return wO;default:zi(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=new zu(2e3,1e4);async function CO(i,e,n){if(ui(i.app))return Promise.reject(di(i,"operation-not-supported-in-this-environment"));const s=yf(i);AN(i,e,Tp);const o=M1(s,n);return new ga(s,"signInViaPopup",e,o).executeNotNull()}class ga extends P1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const e=Ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IO.get())};e()}}ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="pendingRedirect",Ah=new Map;class NO extends P1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const s=await OO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OO(i,e){const n=MO(e),s=xO(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function VO(i,e){Ah.set(i._key(),e)}function xO(i){return pr(i._redirectPersistence)}function MO(i){return Th(DO,i.config.apiKey,i.name)}async function PO(i,e,n=!1){if(ui(i.app))return Promise.reject(ya(i));const s=yf(i),o=M1(s,e),f=await new NO(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=600*1e3;class UO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!k1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(di(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kO&&this.cachedEventUids.clear(),this.cachedEventUids.has(OT(e))}saveEventToCache(e){this.cachedEventUids.add(OT(e)),this.lastProcessedEventTime=Date.now()}}function OT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function k1({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function LO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(i,e={}){return Ko(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jO=/^https?/;async function FO(i){if(i.config.emulator)return;const{authorizedDomains:e}=await BO(i);for(const n of e)try{if(qO(n))return}catch{}zi(i,"unauthorized-domain")}function qO(i){const e=mg(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!jO.test(n))return!1;if(zO.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=new zu(3e4,6e4);function VT(){const i=ki().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function GO(i){return new Promise((e,n)=>{function s(){VT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VT(),n(di(i,"network-request-failed"))},timeout:HO.get()})}if(ki().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ki().gapi?.load)s();else{const o=XN("iframefcb");return ki()[o]=()=>{gapi.load?s():n(di(i,"network-request-failed"))},KN(`${YN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function QO(i){return Sh=Sh||GO(i),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=new zu(5e3,15e3),YO="__/auth/iframe",XO="emulator/auth/iframe",$O={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WO(i){const e=i.config;Ne(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?pp(e,XO):`https://${i.config.authDomain}/${YO}`,s={apiKey:e.apiKey,appName:i.name,v:Bo},o=ZO.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ou(s).slice(1)}`}async function JO(i){const e=await QO(i),n=ki().gapi;return Ne(n,i,"internal-error"),e.open({where:document.body,url:WO(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$O,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=di(i,"network-request-failed"),m=ki().setTimeout(()=>{u(f)},KO.get());function p(){ki().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tV=500,nV=600,iV="_blank",rV="http://localhost";class xT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sV(i,e,n,s=tV,o=nV){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...eV,width:s.toString(),height:o.toString(),top:u,left:f},g=dn().toLowerCase();n&&(m=p1(g)?iV:n),m1(g)&&(e=e||rV,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[k,Q])=>`${b}${k}=${Q},`,"");if(BN(g)&&m!=="_self")return aV(e||"",m),new xT(null);const T=window.open(e||"",m,E);Ne(T,i,"popup-blocked");try{T.focus()}catch{}return new xT(T)}function aV(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV="__/auth/handler",lV="emulator/auth/handler",uV=encodeURIComponent("fac");async function MT(i,e,n,s,o,u){Ne(i.config.authDomain,i,"auth-domain-config-required"),Ne(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Bo,eventId:o};if(e instanceof Tp){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",ER(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof ju){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${uV}=${encodeURIComponent(p)}`:"";return`${cV(i)}?${Ou(m).slice(1)}${g}`}function cV({config:i}){return i.emulator?pp(i,lV):`https://${i.authDomain}/${oV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="webStorageSupport";class hV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D1,this._completeRedirectFn=PO,this._overrideRedirectResult=VO}async _openPopup(e,n,s,o){Sr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await MT(e,n,s,mg(),o);return sV(e,u,Ap())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await MT(e,n,s,mg(),o);return mO(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await JO(e),s=new UO(e);return n.register("authEvent",o=>(Ne(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(km,{type:km},o=>{const u=o?.[0]?.[km];u!==void 0&&n(!!u),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return T1()||g1()||vp()}}const fV=hV;var PT="@firebase/auth",kT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gV(i){Co(new va("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ne(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A1(i)},g=new GN(s,o,u,p);return ZN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Co(new va("auth-internal",e=>{const n=yf(e.getProvider("auth").getImmediate());return(s=>new dV(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ys(PT,kT,mV(i)),ys(PT,kT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=300,yV=o0("authIdTokenMaxAge")||pV;let UT=null;const _V=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>yV)return;const o=n?.token;UT!==o&&(UT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vV(i=Rg()){const e=wg(i,"auth");if(e.isInitialized())return e.getImmediate();const n=$N(i,{popupRedirectResolver:fV,persistence:[SO,hO,D1]}),s=o0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=_V(u.toString());aO(n,f,()=>f(n.currentUser)),sO(n,m=>f(m))}}const o=s0("auth");return o&&WN(n,`http://${o}`),n}function EV(){return document.getElementsByTagName("head")?.[0]??document}QN({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=di("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",EV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gV("Browser");let Yh;AI().length?Yh=Rg():Yh=f0(Yw);const Um=vV(Yh),Ui=DD(Yh);async function U1(i){const e=await TV(i);if(!e)return console.error("Could not fetch user data from Firestore"),[];const n=e.gameIds||[];if(n.length===0)return console.log("User has no games saved"),[];const s=[];for(let p=0;p<n.length;p+=10)s.push(n.slice(p,p+10));const o=Jg(Ui,Es.boardGames),u=s.map(p=>{const g=KA(o,YA("id","in",p));return JA(g)}),f=await Promise.all(u),m=[];return f.forEach(p=>{p.forEach(g=>{const E=g.data();m.push({...E,id:E.id})})}),m}async function TV(i){const e=Po(Ui,Es.users,i),n=await ZA(e);return n.exists()?n.data():(console.error(`User not found for UID: ${i}`),null)}async function L1(i){const e=await i.text();return new DOMParser().parseFromString(e,"text/xml")}function us(i,e){const n=parseInt(i?.getAttribute(e)??"");return isNaN(n)?0:n}const B1=X.createContext(void 0);function Yo(){const i=X.useContext(B1);if(i===void 0)throw new Error("useApp must be used within an AppProvider");return i}class Ao{id;name;imageUrl;isExpansion;rating;minPlayers;maxPlayers;minPlaytime;maxPlaytime;types;categories;mechanisms;expansions;constructor(e){Object.assign(this,e)}static async createFromXML(e){const n=us(e,"objectid");if(n<=0)return console.error("Invalid game ID"),null;const s=iu(e,"stats"),o={id:n,name:iu(e,"name")?.textContent??"???",imageUrl:iu(e,"thumbnail")?.textContent??"",isExpansion:!1,rating:AV(iu(iu(s,"rating"),"bayesaverage"),"value"),minPlayers:us(s,"minplayers"),maxPlayers:us(s,"maxplayers"),minPlaytime:us(s,"minplaytime"),maxPlaytime:us(s,"maxplaytime"),types:[],categories:[],mechanisms:[],expansions:[]};try{const u=await fetch(e0+encodeURIComponent(`${t0}boardgame/${n}`),{method:"GET"});if(!u.ok)return console.error(`Could not fetch details for game ID ${n}. HTTP Error! Status: ${u.status}`),new Ao(o);const m=(await L1(u)).getElementsByTagName("boardgame")[0];if(!m)return console.error(`Could not fetch details for game ID ${n}`),new Ao(o);const p={...o,isExpansion:Array.from(m.getElementsByTagName("boardgameexpansion")).some(g=>g.getAttribute("inbound")==="true"),types:Array.from(m.getElementsByTagName("boardgamesubdomain")).map(g=>g.textContent??""),categories:Array.from(m.getElementsByTagName("boardgamecategory")).map(g=>g.textContent??""),mechanisms:Array.from(m.getElementsByTagName("boardgamemechanic")).map(g=>g.textContent??""),expansions:Array.from(m.getElementsByTagName("boardgameexpansion")).map(g=>us(g,"objectid"))};return new Ao(p)}catch(u){return console.error("Could not fetch game data from BGG:",u),new Ao(o)}}}function AV(i,e){const n=parseFloat(i?.getAttribute(e)??"");return isNaN(n)?0:n}function iu(i,e){return i?.getElementsByTagName(e)[0]}function SV(){const{user:i,setGames:e}=Yo(),[n,s]=X.useState(!1),[o,u]=X.useState(null);async function f(){s(!0),u(null);try{if(!i?.bggUsername){console.log("No BoardGameGeek username"),u("First set BGG username");return}const T=await fetch(e0+encodeURIComponent(`${t0}collection/${i.bggUsername}?own=1`),{method:"GET"});if(!T.ok){const F=await T.text();console.error(`Could not fetch collection of ${i.bggUsername}. HTTP error! status: ${T.status}`,"Response body:",F),u(`Proxy error: ${F}`);return}const b=await L1(T);if(!m(b)||p(b))return;const k=b.getElementsByTagName("item"),Q=Array.from(k).map(F=>us(F,"objectid")).filter(F=>F>0),Y=await bV(Q)??new Set,q=Array.from(k).filter(F=>{const ae=us(F,"objectid");return!Y.has(ae)}),se=(await Promise.all(q.map(F=>Ao.createFromXML(F)))).filter(F=>F!==null);await g(se),await E(Q),e(await U1(i.uid))}catch(T){console.error("Could not complete BGG import process:",T),u("Could not fetch games")}finally{s(!1)}}function m(T){return T.getElementsByTagName("errors").length>0?(u(T.getElementsByTagName("errors")[0]?.getElementsByTagName("error")[0]?.getElementsByTagName("message")[0]?.textContent),!1):!0}function p(T){return T.getElementsByTagName("message").length>0?(u(T.getElementsByTagName("message")[0]?.textContent),!0):!1}async function g(T){if(T.length===0){console.log("No new games to add to database");return}const b=Jg(Ui,Es.boardGames),k=GD(Ui);T.forEach(Q=>{const Y=Po(b,String(Q.id));k.set(Y,{...Q})});try{await k.commit()}catch(Q){console.error("Failed to save games to Firestore",Q),u("Could not save new games")}}async function E(T){if(T.length===0){console.log("User does not have any games");return}const b=Po(Ui,Es.users,i.uid);try{await hg(b,{gameIds:T})}catch(k){throw console.error("Failed to save user's gameIds to Firestore:",k),u("Could not save user's games"),new Error(`Failed to save user's gameIds to Firestore: ${k}`)}}return te.jsxs(te.Fragment,{children:[te.jsx("button",{onClick:f,children:n?"Importing...":"Import Games"}),o&&te.jsx("div",{style:{color:"var(--error-color)"},children:o})]})}async function bV(i){if(i.length===0)return console.log("User does not have any games"),new Set;const e=new Set,n=[];for(let f=0;f<i.length;f+=10)n.push(i.slice(f,f+10));const s=Jg(Ui,Es.boardGames),o=n.map(f=>{const m=KA(s,YA(OD(),"in",f.map(String)));return JA(m)});return(await Promise.all(o)).forEach(f=>{f.forEach(m=>{e.add(Number(m.id))})}),e}function wV(){const{user:i,setUser:e}=Yo(),[n,s]=X.useState(!1),[o,u]=X.useState(!1),{handleSubmit:f,register:m,reset:p,formState:{errors:g}}=ET({mode:"onChange"}),{handleSubmit:E,register:T,reset:b,formState:{errors:k}}=ET({mode:"onChange"});function Q(){s(!0)}function Y(){u(!0)}async function q(F){try{if(i&&i.username!==F.username){const ae=Po(Ui,Es.users,i.uid);await hg(ae,{username:F.username}),e({...i,username:F.username})}s(!1),p(F)}catch(ae){console.error("Error saving username:",ae)}}async function se(F){try{if(i&&i.bggUsername!==F.bggUsername){const ae=Po(Ui,Es.users,i.uid);await hg(ae,{bggUsername:F.bggUsername}),e({...i,bggUsername:F.bggUsername})}u(!1),b(F)}catch(ae){console.error("Error saving BGG username:",ae)}}return te.jsxs("div",{className:"profile-container",children:[te.jsxs("h2",{className:"profile-name-image",children:[i?.photoURL&&te.jsx("img",{className:"profile-image",src:i.photoURL,alt:i.displayName??"user",onError:F=>F.currentTarget.src="/icon.png"}),i?.displayName]}),te.jsxs("div",{children:[te.jsxs("form",{className:"profile-grid",onSubmit:f(q),children:[te.jsx("label",{className:"field-name",htmlFor:"username",children:"Username:"}),n?te.jsxs(te.Fragment,{children:[te.jsxs("div",{children:[te.jsx("div",{className:"field-error-placeholder",children:g.username&&te.jsx("div",{className:"field-error",children:g.username.message})}),te.jsx("input",{id:"username",className:"field-input",type:"text",defaultValue:i?.username,...m("username",{maxLength:{value:20,message:"max 20 characters"}})})]}),te.jsxs("div",{className:"field-buttons",children:[te.jsx("button",{className:"profile-button",type:"submit",children:te.jsx(aT,{})}),te.jsx("button",{className:"profile-button",onClick:()=>s(!1),children:te.jsx(Bh,{})})]})]}):te.jsxs(te.Fragment,{children:[te.jsx("div",{children:i?.username}),te.jsx("button",{className:"profile-button",onClick:Q,children:te.jsx(oT,{})})]})]}),te.jsxs("form",{className:"profile-grid",onSubmit:E(se),children:[te.jsxs("label",{className:"field-name",htmlFor:"bggUsername",children:["BoardGameGeek ",te.jsx("br",{})," Username:"]}),o?te.jsxs(te.Fragment,{children:[te.jsxs("div",{children:[te.jsx("div",{className:"field-error-placeholder",children:k.bggUsername&&te.jsx("div",{className:"field-error",children:k.bggUsername.message})}),te.jsx("input",{id:"bggUsername",className:"field-input",type:"text",defaultValue:i?.bggUsername,...T("bggUsername",{maxLength:{value:20,message:"max 20 characters"},pattern:{value:/^\w+$/,message:"unsupported characters"}})})]}),te.jsxs("div",{className:"field-buttons",children:[te.jsx("button",{className:"profile-button",type:"submit",children:te.jsx(aT,{})}),te.jsx("button",{className:"profile-button",onClick:()=>u(!1),children:te.jsx(Bh,{})})]})]}):te.jsxs(te.Fragment,{children:[te.jsx("div",{children:i?.bggUsername}),te.jsx("button",{className:"profile-button",onClick:Y,children:te.jsx(oT,{})})]})]})]}),te.jsx(SV,{})]})}function RV(){const{auth:i}=Yo();async function e(){try{i&&await lO(i)}catch(n){console.error("Sign-out error:",n)}}return te.jsx("button",{onClick:e,children:"Sign Out"})}function IV({setShowFilters:i}){const e=X.useRef(null),s=Is().pathname===lu.home;function o(){i(u=>!u)}return X.useEffect(()=>{function u(){e.current&&document.documentElement.style.setProperty("--header-h",`${e.current.offsetHeight}px`)}u();const f=new ResizeObserver(u);return e.current&&f.observe(e.current),()=>f.disconnect()}),te.jsxs("div",{ref:e,className:"nav-container",children:[te.jsxs("div",{className:"button-spacing",children:[te.jsx(wh,{to:lu.home,children:te.jsx("button",{children:"Home"})}),s&&te.jsx("button",{onClick:o,children:"Filters"})]}),te.jsxs("div",{className:"button-spacing",children:[te.jsx(wh,{to:lu.profile,children:te.jsx("button",{children:"Profile"})}),te.jsx(RV,{})]})]})}const z1="https://boardgamegeek.com/boardgame/";function CV({showFilters:i}){const{games:e}=Yo(),[n,s]=X.useState(!1),[o,u]=X.useState(void 0),[f,m]=X.useState(void 0);function p(T){["e","E","+","-"].includes(T.key)&&T.preventDefault()}function g(T,b,k){const Q=T.currentTarget.value.replace(/\D/g,"").replace(/^0(?=\d)/,"");let Y=Number(Q);if(Q&&!isNaN(Y)){Y>b&&(Y=b),Y<1&&(Y=1),k(Y);return}k(void 0)}const E=X.useMemo(()=>[...e].filter(b=>n||!b.isExpansion).filter(b=>o===void 0||b.minPlayers<=o&&b.maxPlayers>=o).filter(b=>f===void 0||b.minPlaytime<=f&&b.maxPlaytime>=f),[e,o,f,n]);return te.jsxs("div",{className:"homepage-container",children:[i&&te.jsxs("div",{className:"filters-container",children:[te.jsxs("label",{className:"filter-label",children:["Show expansions:",te.jsx("input",{className:"filter-checkbox",type:"checkbox",checked:n,onChange:T=>s(T.target.checked)})]}),te.jsxs("label",{className:"filter-label",children:["Number of players:",te.jsx("input",{className:"input-field",style:{width:"30px"},type:"number",inputMode:"numeric",value:o??"",onKeyDown:p,onInput:T=>g(T,99,u)}),te.jsx("button",{className:"cancel-button",onClick:()=>u(void 0),children:te.jsx(Bh,{})})]}),te.jsxs("label",{className:"filter-label",children:["Playtime (mins):",te.jsx("input",{className:"input-field",style:{width:"40px"},type:"number",inputMode:"numeric",value:f??"",onKeyDown:p,onInput:T=>g(T,999,m)}),te.jsx("button",{className:"cancel-button",onClick:()=>m(void 0),children:te.jsx(Bh,{})})]})]}),e.length>0?te.jsx("div",{className:"games-container",children:E.map(T=>te.jsxs("div",{className:"game-card",children:[te.jsxs("a",{style:{color:"inherit"},href:z1+T.id,target:"_blank",rel:"noopener noreferrer",children:[te.jsx("img",{src:T.imageUrl,alt:T.name}),te.jsx("h3",{style:{marginBottom:"0.5rem"},children:T.name})]}),T.minPlayers===T.maxPlayers?te.jsxs("div",{children:["Players: ",T.maxPlayers]}):te.jsxs("div",{children:["Players: ",T.minPlayers," - ",T.maxPlayers]}),T.minPlaytime===T.maxPlaytime?te.jsxs("div",{children:["Playtime: ",T.maxPlaytime," min"]}):te.jsxs("div",{children:["Playtime: ",T.minPlaytime," - ",T.maxPlaytime," min"]}),T.expansions.length>0&&!T.isExpansion&&te.jsx(DV,{game:T,games:e})]},T.id))}):te.jsx("h1",{children:"Welcome to Board Game Party Planner"})]})}function DV({game:i,games:e}){const n=e.filter(s=>i.expansions.includes(s.id));return n.length<1?te.jsx(te.Fragment,{children:i.expansions.length>0&&te.jsx("div",{children:"Expansions available"})}):te.jsxs(te.Fragment,{children:[te.jsx("div",{style:{fontWeight:"bold"},children:"Expansions:"}),n.map(s=>te.jsx("a",{style:{color:"inherit",fontWeight:"normal"},href:z1+s.id,target:"_blank",rel:"noopener noreferrer",children:s.name},s.id))]})}function NV(){const{auth:i}=Yo();async function e(){try{const n=new mr;n.setCustomParameters({prompt:"select_account"}),await CO(i,n)}catch(n){console.error("Sign-in error:",n)}}return te.jsxs("button",{className:"gsi-material-button",onClick:e,children:[te.jsx("div",{className:"gsi-material-button-state"}),te.jsxs("div",{className:"gsi-material-button-content-wrapper",children:[te.jsx("div",{className:"gsi-material-button-icon",children:te.jsxs("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{display:"block"},children:[te.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),te.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),te.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),te.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),te.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]})}),te.jsx("span",{className:"gsi-material-button-contents",children:"Sign in"}),te.jsx("span",{style:{display:"none"},children:"Sign in with Google"})]})]})}function OV(){const{user:i}=Yo(),[e,n]=X.useState(!1);return te.jsx(Lw,{children:i?te.jsxs("div",{className:"app-container",children:[te.jsx(IV,{setShowFilters:n}),te.jsxs(gw,{children:[te.jsx(Bm,{path:lu.home,element:te.jsx(CV,{showFilters:e})}),te.jsx(Bm,{path:lu.profile,element:te.jsx(wV,{})})]})]}):te.jsxs("div",{className:"sign-in-container",children:[te.jsx("h1",{children:"Welcome to Board Game Party Planner"}),te.jsx(NV,{})]})})}function VV({children:i}){const[e,n]=X.useState(null),[s,o]=X.useState([]),[u,f]=X.useState(!0);X.useEffect(()=>{if(!Um){f(!1);return}const p=oO(Um,async g=>{if(g)try{const E=await xV(g),T=await U1(g.uid);n(E),o(T)}catch(E){console.error("Error setting user profile:",E),n(null),o([])}else n(null),o([]);f(!1)});return()=>p()},[]);const m=X.useMemo(()=>({auth:Um,db:Ui,user:e,setUser:n,games:s,setGames:o,loading:u,setLoading:f}),[s,u,e]);return te.jsx(B1.Provider,{value:m,children:u?te.jsxs("div",{className:"loader-container",children:[te.jsx("h1",{children:"Loading..."}),te.jsx("div",{className:"loader"})]}):i})}async function xV(i){const e=Po(Ui,Es.users,i.uid),n=await ZA(e);if(n.exists())return n.data();const s={uid:i.uid,email:i.email,displayName:i.displayName,photoURL:i.photoURL,createdAt:new Date,username:"",bggUsername:"",gameIds:[],friends:[]};return await FD(e,s,{merge:!0}),s}bb.createRoot(document.getElementById("root")).render(te.jsx(X.StrictMode,{children:te.jsx(VV,{children:te.jsx(OV,{})})}));
