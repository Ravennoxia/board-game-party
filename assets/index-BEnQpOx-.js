(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Dd={exports:{}},yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function bA(){if(V_)return yl;V_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return yl.Fragment=t,yl.jsx=n,yl.jsxs=n,yl}var x_;function RA(){return x_||(x_=1,Dd.exports=bA()),Dd.exports}var ut=RA(),Nd={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function wA(){if(P_)return Rt;P_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function R(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,Z={};function H(D,W,at){this.props=D,this.context=W,this.refs=Z,this.updater=at||k}H.prototype.isReactComponent={},H.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},H.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function et(){}et.prototype=H.prototype;function tt(D,W,at){this.props=D,this.context=W,this.refs=Z,this.updater=at||k}var rt=tt.prototype=new et;rt.constructor=tt,F(rt,H.prototype),rt.isPureReactComponent=!0;var wt=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},Dt=Object.prototype.hasOwnProperty;function O(D,W,at,it,dt,Mt){return at=Mt.ref,{$$typeof:r,type:D,key:W,ref:at!==void 0?at:null,props:Mt}}function b(D,W){return O(D.type,W,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function V(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(at){return W[at]})}var N=/\/+/g;function P(D,W){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):W.toString(36)}function C(){}function le(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ee(D,W,at,it,dt){var Mt=typeof D;(Mt==="undefined"||Mt==="boolean")&&(D=null);var vt=!1;if(D===null)vt=!0;else switch(Mt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(D.$$typeof){case r:case t:vt=!0;break;case E:return vt=D._init,ee(vt(D._payload),W,at,it,dt)}}if(vt)return dt=dt(D),vt=it===""?"."+P(D,0):it,wt(dt)?(at="",vt!=null&&(at=vt.replace(N,"$&/")+"/"),ee(dt,W,at,"",function(Mn){return Mn})):dt!=null&&(w(dt)&&(dt=b(dt,at+(dt.key==null||D&&D.key===dt.key?"":(""+dt.key).replace(N,"$&/")+"/")+vt)),W.push(dt)),1;vt=0;var Pe=it===""?".":it+":";if(wt(D))for(var Gt=0;Gt<D.length;Gt++)it=D[Gt],Mt=Pe+P(it,Gt),vt+=ee(it,W,at,Mt,dt);else if(Gt=R(D),typeof Gt=="function")for(D=Gt.call(D),Gt=0;!(it=D.next()).done;)it=it.value,Mt=Pe+P(it,Gt++),vt+=ee(it,W,at,Mt,dt);else if(Mt==="object"){if(typeof D.then=="function")return ee(le(D),W,at,it,dt);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return vt}function G(D,W,at){if(D==null)return D;var it=[],dt=0;return ee(D,it,"","",function(Mt){return W.call(at,Mt,dt++)}),it}function st(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(at){(D._status===0||D._status===-1)&&(D._status=1,D._result=at)},function(at){(D._status===0||D._status===-1)&&(D._status=2,D._result=at)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var mt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Lt(){}return Rt.Children={map:G,forEach:function(D,W,at){G(D,function(){W.apply(this,arguments)},at)},count:function(D){var W=0;return G(D,function(){W++}),W},toArray:function(D){return G(D,function(W){return W})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Rt.Component=H,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=tt,Rt.StrictMode=s,Rt.Suspense=y,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ct.H.useMemoCache(D)}},Rt.cache=function(D){return function(){return D.apply(null,arguments)}},Rt.cloneElement=function(D,W,at){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var it=F({},D.props),dt=D.key,Mt=void 0;if(W!=null)for(vt in W.ref!==void 0&&(Mt=void 0),W.key!==void 0&&(dt=""+W.key),W)!Dt.call(W,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&W.ref===void 0||(it[vt]=W[vt]);var vt=arguments.length-2;if(vt===1)it.children=at;else if(1<vt){for(var Pe=Array(vt),Gt=0;Gt<vt;Gt++)Pe[Gt]=arguments[Gt+2];it.children=Pe}return O(D.type,dt,void 0,void 0,Mt,it)},Rt.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Rt.createElement=function(D,W,at){var it,dt={},Mt=null;if(W!=null)for(it in W.key!==void 0&&(Mt=""+W.key),W)Dt.call(W,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(dt[it]=W[it]);var vt=arguments.length-2;if(vt===1)dt.children=at;else if(1<vt){for(var Pe=Array(vt),Gt=0;Gt<vt;Gt++)Pe[Gt]=arguments[Gt+2];dt.children=Pe}if(D&&D.defaultProps)for(it in vt=D.defaultProps,vt)dt[it]===void 0&&(dt[it]=vt[it]);return O(D,Mt,void 0,void 0,null,dt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(D){return{$$typeof:p,render:D}},Rt.isValidElement=w,Rt.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:st}},Rt.memo=function(D,W){return{$$typeof:g,type:D,compare:W===void 0?null:W}},Rt.startTransition=function(D){var W=ct.T,at={};ct.T=at;try{var it=D(),dt=ct.S;dt!==null&&dt(at,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Lt,mt)}catch(Mt){mt(Mt)}finally{ct.T=W}},Rt.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},Rt.use=function(D){return ct.H.use(D)},Rt.useActionState=function(D,W,at){return ct.H.useActionState(D,W,at)},Rt.useCallback=function(D,W){return ct.H.useCallback(D,W)},Rt.useContext=function(D){return ct.H.useContext(D)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(D,W){return ct.H.useDeferredValue(D,W)},Rt.useEffect=function(D,W,at){var it=ct.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(D,W)},Rt.useId=function(){return ct.H.useId()},Rt.useImperativeHandle=function(D,W,at){return ct.H.useImperativeHandle(D,W,at)},Rt.useInsertionEffect=function(D,W){return ct.H.useInsertionEffect(D,W)},Rt.useLayoutEffect=function(D,W){return ct.H.useLayoutEffect(D,W)},Rt.useMemo=function(D,W){return ct.H.useMemo(D,W)},Rt.useOptimistic=function(D,W){return ct.H.useOptimistic(D,W)},Rt.useReducer=function(D,W,at){return ct.H.useReducer(D,W,at)},Rt.useRef=function(D){return ct.H.useRef(D)},Rt.useState=function(D){return ct.H.useState(D)},Rt.useSyncExternalStore=function(D,W,at){return ct.H.useSyncExternalStore(D,W,at)},Rt.useTransition=function(){return ct.H.useTransition()},Rt.version="19.1.1",Rt}var k_;function bm(){return k_||(k_=1,Nd.exports=wA()),Nd.exports}var K=bm(),Od={exports:{}},_l={},Md={exports:{}},Vd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function IA(){return U_||(U_=1,(function(r){function t(G,st){var mt=G.length;G.push(st);t:for(;0<mt;){var Lt=mt-1>>>1,D=G[Lt];if(0<o(D,st))G[Lt]=st,G[mt]=D,mt=Lt;else break t}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var st=G[0],mt=G.pop();if(mt!==st){G[0]=mt;t:for(var Lt=0,D=G.length,W=D>>>1;Lt<W;){var at=2*(Lt+1)-1,it=G[at],dt=at+1,Mt=G[dt];if(0>o(it,mt))dt<D&&0>o(Mt,it)?(G[Lt]=Mt,G[dt]=mt,Lt=dt):(G[Lt]=it,G[at]=mt,Lt=at);else if(dt<D&&0>o(Mt,mt))G[Lt]=Mt,G[dt]=mt,Lt=dt;else break t}}return st}function o(G,st){var mt=G.sortIndex-st.sortIndex;return mt!==0?mt:G.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var y=[],g=[],E=1,A=null,R=3,k=!1,F=!1,Z=!1,H=!1,et=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function wt(G){for(var st=n(g);st!==null;){if(st.callback===null)s(g);else if(st.startTime<=G)s(g),st.sortIndex=st.expirationTime,t(y,st);else break;st=n(g)}}function ct(G){if(Z=!1,wt(G),!F)if(n(y)!==null)F=!0,Dt||(Dt=!0,P());else{var st=n(g);st!==null&&ee(ct,st.startTime-G)}}var Dt=!1,O=-1,b=5,w=-1;function V(){return H?!0:!(r.unstable_now()-w<b)}function N(){if(H=!1,Dt){var G=r.unstable_now();w=G;var st=!0;try{t:{F=!1,Z&&(Z=!1,tt(O),O=-1),k=!0;var mt=R;try{e:{for(wt(G),A=n(y);A!==null&&!(A.expirationTime>G&&V());){var Lt=A.callback;if(typeof Lt=="function"){A.callback=null,R=A.priorityLevel;var D=Lt(A.expirationTime<=G);if(G=r.unstable_now(),typeof D=="function"){A.callback=D,wt(G),st=!0;break e}A===n(y)&&s(y),wt(G)}else s(y);A=n(y)}if(A!==null)st=!0;else{var W=n(g);W!==null&&ee(ct,W.startTime-G),st=!1}}break t}finally{A=null,R=mt,k=!1}st=void 0}}finally{st?P():Dt=!1}}}var P;if(typeof rt=="function")P=function(){rt(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,le=C.port2;C.port1.onmessage=N,P=function(){le.postMessage(null)}}else P=function(){et(N,0)};function ee(G,st){O=et(function(){G(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(G){switch(R){case 1:case 2:case 3:var st=3;break;default:st=R}var mt=R;R=st;try{return G()}finally{R=mt}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(G,st){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var mt=R;R=G;try{return st()}finally{R=mt}},r.unstable_scheduleCallback=function(G,st,mt){var Lt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Lt+mt:Lt):mt=Lt,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=mt+D,G={id:E++,callback:st,priorityLevel:G,startTime:mt,expirationTime:D,sortIndex:-1},mt>Lt?(G.sortIndex=mt,t(g,G),n(y)===null&&G===n(g)&&(Z?(tt(O),O=-1):Z=!0,ee(ct,mt-Lt))):(G.sortIndex=D,t(y,G),F||k||(F=!0,Dt||(Dt=!0,P()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var st=R;return function(){var mt=R;R=st;try{return G.apply(this,arguments)}finally{R=mt}}}})(Vd)),Vd}var L_;function CA(){return L_||(L_=1,Md.exports=IA()),Md.exports}var xd={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function DA(){if(z_)return Qe;z_=1;var r=bm();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(y,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(y,g,null,E)},Qe.flushSync=function(y){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=g,s.p=E,s.d.f()}},Qe.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},Qe.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Qe.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var E=g.as,A=p(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:k}):E==="script"&&s.d.X(y,{crossOrigin:A,integrity:R,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qe.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=p(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},Qe.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=p(E,g.crossOrigin);s.d.L(y,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qe.preloadModule=function(y,g){if(typeof y=="string")if(g){var E=p(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},Qe.requestFormReset=function(y){s.d.r(y)},Qe.unstable_batchedUpdates=function(y,g){return y(g)},Qe.useFormState=function(y,g,E){return f.H.useFormState(y,g,E)},Qe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var B_;function NA(){if(B_)return xd.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),xd.exports=DA(),xd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function OA(){if(j_)return _l;j_=1;var r=CA(),t=bm(),n=NA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),tt=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),wt=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case H:return"Profiler";case Z:return"StrictMode";case ct:return"Suspense";case Dt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case rt:return(e.displayName||"Context")+".Provider";case tt:return(e._context.displayName||"Context")+".Consumer";case wt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return i=e.displayName||null,i!==null?i:le(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return le(e(i))}catch{}}return null}var ee=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Lt=[],D=-1;function W(e){return{current:e}}function at(e){0>D||(e.current=Lt[D],Lt[D]=null,D--)}function it(e,i){D++,Lt[D]=e.current,e.current=i}var dt=W(null),Mt=W(null),vt=W(null),Pe=W(null);function Gt(e,i){switch(it(vt,i),it(Mt,e),it(dt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?o_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=o_(i),e=l_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}at(dt),it(dt,e)}function Mn(){at(dt),at(Mt),at(vt)}function co(e){e.memoizedState!==null&&it(Pe,e);var i=dt.current,a=l_(i,e.type);i!==a&&(it(Mt,e),it(dt,a))}function Xs(e){Mt.current===e&&(at(dt),at(Mt)),Pe.current===e&&(at(Pe),fl._currentValue=mt)}var $s=Object.prototype.hasOwnProperty,Zr=r.unstable_scheduleCallback,Zs=r.unstable_cancelCallback,Dh=r.unstable_shouldYield,ho=r.unstable_requestPaint,rn=r.unstable_now,tu=r.unstable_getCurrentPriorityLevel,Se=r.unstable_ImmediatePriority,De=r.unstable_UserBlockingPriority,_i=r.unstable_NormalPriority,Nh=r.unstable_LowPriority,fo=r.unstable_IdlePriority,Oh=r.log,Wr=r.unstable_setDisableYieldValue,$i=null,He=null;function vn(e){if(typeof Oh=="function"&&Wr(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode($i,e)}catch{}}var Ze=Math.clz32?Math.clz32:nu,Mh=Math.log,eu=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(Mh(e)/eu|0)|0}var Kn=256,Zi=4194304;function Vn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function En(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Vn(l):(v&=T,v!==0?h=Vn(v):a||(a=T&~e,a!==0&&(h=Vn(a))))):(T=l&~d,T!==0?h=Vn(T):v!==0?h=Vn(v):a||(a=l&~e,a!==0&&(h=Vn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Wi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ws(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mo(){var e=Kn;return Kn<<=1,(Kn&4194048)===0&&(Kn=256),e}function Ji(){var e=Zi;return Zi<<=1,(Zi&62914560)===0&&(Zi=4194304),e}function Js(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function he(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function iu(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-Ze(a),X=1<<Q;T[Q]=0,I[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var j=B[Q];j!==null&&(j.lane&=-536870913)}a&=~X}l!==0&&tr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function tr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Ze(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function er(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Ze(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function po(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function go(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function vi(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:I_(e.type))}function Vh(e,i){var a=st.p;try{return st.p=e,i()}finally{st.p=a}}var Yn=Math.random().toString(36).slice(2),fe="__reactFiber$"+Yn,ke="__reactProps$"+Yn,Ei="__reactContainer$"+Yn,Jr="__reactEvents$"+Yn,ts="__reactListeners$"+Yn,xh="__reactHandles$"+Yn,xn="__reactResources$"+Yn,nr="__reactMarker$"+Yn;function ta(e){delete e[fe],delete e[ke],delete e[Jr],delete e[ts],delete e[xh]}function Xn(e){var i=e[fe];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Ei]||a[fe]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=f_(e);e!==null;){if(a=e[fe])return a;e=f_(e)}return i}e=a,a=e.parentNode}return null}function $n(e){if(e=e[fe]||e[Ei]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function ir(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function rr(e){var i=e[xn];return i||(i=e[xn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function de(e){e[nr]=!0}var ru=new Set,es={};function Zn(e,i){Wn(e,i),Wn(e+"Capture",i)}function Wn(e,i){for(es[e]=i,e=0;e<i.length;e++)ru.add(i[e])}var ns=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jn={},ea={};function Ph(e){return $s.call(ea,e)?!0:$s.call(Jn,e)?!1:ns.test(e)?ea[e]=!0:(Jn[e]=!0,!1)}function is(e,i,a){if(Ph(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function rs(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Tn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var ss,na;function Ti(e){if(ss===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ss=i&&i[1]||"",na=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ss+e+na}var ia=!1;function ra(e,i){if(!e||ia)return"";ia=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(j){var B=j}Reflect.construct(e,[],X)}else{try{X.call()}catch(j){B=j}e.call(X.prototype)}}else{try{throw Error()}catch(j){B=j}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(j){if(j&&B&&typeof j.stack=="string")return[j.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),z=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var Q=`
`+I[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=h);break}}}finally{ia=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ti(a):""}function kh(e){switch(e.tag){case 26:case 27:case 5:return Ti(e.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return ra(e.type,!1);case 11:return ra(e.type.render,!1);case 1:return ra(e.type,!0);case 31:return Ti("Activity");default:return""}}function Pn(e){try{var i="";do i+=kh(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ie(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function as(e){var i=sr(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ar(e){e._valueTracker||(e._valueTracker=as(e))}function Qt(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=sr(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var os=/[\n"\\]/g;function Ne(e){return e.replace(os,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function yo(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ie(i)):e.value!==""+ie(i)&&(e.value=""+ie(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?vo(e,v,ie(i)):a!=null?vo(e,v,ie(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+ie(T):e.removeAttribute("name")}function _o(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+ie(a):"",i=i!=null?""+ie(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function vo(e,i,a){i==="number"&&Si(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function or(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+ie(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function su(e,i,a){if(i!=null&&(i=""+ie(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+ie(a):""}function au(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ie(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Sn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Ai=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Ai.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function To(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Eo(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Eo(e,d,i[d])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kn(e){return lu.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var So=null;function Ao(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lr=null,We=null;function uu(e){var i=$n(e);if(i&&(e=i.stateNode)){var a=e[ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(yo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ne(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[ke]||null;if(!h)throw Error(s(90));yo(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Qt(l)}break t;case"textarea":su(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&or(e,!!a.multiple,i,!1)}}}var ls=!1;function us(e,i,a){if(ls)return e(i,a);ls=!0;try{var l=e(i);return l}finally{if(ls=!1,(lr!==null||We!==null)&&(Wu(),lr&&(i=lr,e=We,We=lr=null,uu(i),e)))for(i=0;i<e.length;i++)uu(e[i])}}function ur(e,i){var a=e.stateNode;if(a===null)return null;var l=a[ke]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Je=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bi=!1;if(Je)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){bi=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{bi=!1}var An=null,Zt=null,aa=null;function cu(){if(aa)return aa;var e,i=Zt,a=i.length,l,h="value"in An?An.value:An.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return aa=h.slice(e,1<l?1-l:void 0)}function cs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function hs(){return!0}function bo(){return!1}function Ae(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?hs:bo,this.isPropagationStopped=bo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=Ae(Fe),ds=E({},Fe,{view:0,detail:0}),ms=Ae(ds),oa,ps,ti,gs=E({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ti&&(ti&&e.type==="mousemove"?(oa=e.screenX-ti.screenX,ps=e.screenY-ti.screenY):ps=oa=0,ti=e),oa)},movementY:function(e){return"movementY"in e?e.movementY:ps}}),ys=Ae(gs),Uh=E({},gs,{dataTransfer:0}),hu=Ae(Uh),_s=E({},ds,{relatedTarget:0}),la=Ae(_s),fu=E({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ro=Ae(fu),wo=E({},Fe,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=Ae(wo),ua=E({},Fe,{data:0}),Io=Ae(ua),mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=pu[e])?!!i[e]:!1}function ca(){return gu}var yu=E({},ds,{key:function(e){if(e.key){var i=mu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ri[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(e){return e.type==="keypress"?cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ha=Ae(yu),tn=E({},gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Co=Ae(tn),_u=E({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),hr=Ae(_u),c=E({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=Ae(c),_=E({},gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S=Ae(_),L=E({},Fe,{newState:0,oldState:0}),q=Ae(L),nt=[9,13,27,32],At=Je&&"CompositionEvent"in window,Jt=null;Je&&"documentMode"in document&&(Jt=document.documentMode);var qt=Je&&"TextEvent"in window&&!Jt,me=Je&&(!At||Jt&&8<Jt&&11>=Jt),cn=" ",ei=!1;function Un(e,i){switch(e){case"keyup":return nt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zn=!1;function Do(e,i){switch(e){case"compositionend":return Ln(i);case"keypress":return i.which!==32?null:(ei=!0,cn);case"textInput":return e=i.data,e===cn&&ei?null:e;default:return null}}function Z0(e,i){if(zn)return e==="compositionend"||!At&&Un(e,i)?(e=cu(),aa=Zt=An=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return me&&i.locale!=="ko"?null:i.data;default:return null}}var W0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!W0[e.type]:i==="textarea"}function Sp(e,i,a,l){lr?We?We.push(l):We=[l]:lr=l,i=rc(i,"onChange"),0<i.length&&(a=new fs("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var No=null,Oo=null;function J0(e){n_(e,0)}function vu(e){var i=ir(e);if(Qt(i))return e}function Ap(e,i){if(e==="change")return i}var bp=!1;if(Je){var Lh;if(Je){var zh="oninput"in document;if(!zh){var Rp=document.createElement("div");Rp.setAttribute("oninput","return;"),zh=typeof Rp.oninput=="function"}Lh=zh}else Lh=!1;bp=Lh&&(!document.documentMode||9<document.documentMode)}function wp(){No&&(No.detachEvent("onpropertychange",Ip),Oo=No=null)}function Ip(e){if(e.propertyName==="value"&&vu(Oo)){var i=[];Sp(i,Oo,e,Ao(e)),us(J0,i)}}function tS(e,i,a){e==="focusin"?(wp(),No=i,Oo=a,No.attachEvent("onpropertychange",Ip)):e==="focusout"&&wp()}function eS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vu(Oo)}function nS(e,i){if(e==="click")return vu(i)}function iS(e,i){if(e==="input"||e==="change")return vu(i)}function rS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var hn=typeof Object.is=="function"?Object.is:rS;function Mo(e,i){if(hn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!$s.call(i,h)||!hn(e[h],i[h]))return!1}return!0}function Cp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dp(e,i){var a=Cp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Cp(a)}}function Np(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Np(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Op(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Si(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Si(e.document)}return i}function Bh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var sS=Je&&"documentMode"in document&&11>=document.documentMode,fa=null,jh=null,Vo=null,qh=!1;function Mp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qh||fa==null||fa!==Si(l)||(l=fa,"selectionStart"in l&&Bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vo&&Mo(Vo,l)||(Vo=l,l=rc(jh,"onSelect"),0<l.length&&(i=new fs("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=fa)))}function vs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var da={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},Hh={},Vp={};Je&&(Vp=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Es(e){if(Hh[e])return Hh[e];if(!da[e])return e;var i=da[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Vp)return Hh[e]=i[a];return e}var xp=Es("animationend"),Pp=Es("animationiteration"),kp=Es("animationstart"),aS=Es("transitionrun"),oS=Es("transitionstart"),lS=Es("transitioncancel"),Up=Es("transitionend"),Lp=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function Bn(e,i){Lp.set(e,i),Zn(i,[e])}var zp=new WeakMap;function bn(e,i){if(typeof e=="object"&&e!==null){var a=zp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Pn(i)},zp.set(e,i),i)}return{value:e,source:i,stack:Pn(i)}}var Rn=[],ma=0,Gh=0;function Eu(){for(var e=ma,i=Gh=ma=0;i<e;){var a=Rn[i];Rn[i++]=null;var l=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var d=Rn[i];if(Rn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Bp(a,h,d)}}function Tu(e,i,a,l){Rn[ma++]=e,Rn[ma++]=i,Rn[ma++]=a,Rn[ma++]=l,Gh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Qh(e,i,a,l){return Tu(e,i,a,l),Su(e)}function pa(e,i){return Tu(e,null,null,i),Su(e)}function Bp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Ze(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Su(e){if(50<rl)throw rl=0,Jf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ga={};function uS(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,i,a,l){return new uS(e,i,a,l)}function Kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wi(e,i){var a=e.alternate;return a===null?(a=fn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function jp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Au(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")Kh(e)&&(v=1);else if(typeof e=="string")v=hA(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=fn(31,a,i,h),e.elementType=w,e.lanes=d,e;case F:return Ts(a.children,h,d,i);case Z:v=8,h|=24;break;case H:return e=fn(12,a,i,h|2),e.elementType=H,e.lanes=d,e;case ct:return e=fn(13,a,i,h),e.elementType=ct,e.lanes=d,e;case Dt:return e=fn(19,a,i,h),e.elementType=Dt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:case rt:v=10;break t;case tt:v=9;break t;case wt:v=11;break t;case O:v=14;break t;case b:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=fn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Ts(e,i,a,l){return e=fn(7,e,l,i),e.lanes=a,e}function Yh(e,i,a){return e=fn(6,e,null,i),e.lanes=a,e}function Xh(e,i,a){return i=fn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ya=[],_a=0,bu=null,Ru=0,wn=[],In=0,Ss=null,Ii=1,Ci="";function As(e,i){ya[_a++]=Ru,ya[_a++]=bu,bu=e,Ru=i}function qp(e,i,a){wn[In++]=Ii,wn[In++]=Ci,wn[In++]=Ss,Ss=e;var l=Ii;e=Ci;var h=32-Ze(l)-1;l&=~(1<<h),a+=1;var d=32-Ze(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ii=1<<32-Ze(i)+h|a<<h|l,Ci=d+e}else Ii=1<<d|a<<h|l,Ci=e}function $h(e){e.return!==null&&(As(e,1),qp(e,1,0))}function Zh(e){for(;e===bu;)bu=ya[--_a],ya[_a]=null,Ru=ya[--_a],ya[_a]=null;for(;e===Ss;)Ss=wn[--In],wn[In]=null,Ci=wn[--In],wn[In]=null,Ii=wn[--In],wn[In]=null}var en=null,ue=null,Bt=!1,bs=null,ni=!1,Wh=Error(s(519));function Rs(e){var i=Error(s(418,""));throw ko(bn(i,e)),Wh}function Hp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[fe]=e,i[ke]=l,a){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(a=0;a<al.length;a++)Ot(al[a],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),_o(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ar(i);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),au(i,l.value,l.defaultValue,l.children),ar(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||a_(i.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),l.onScroll!=null&&Ot("scroll",i),l.onScrollEnd!=null&&Ot("scrollend",i),l.onClick!=null&&(i.onclick=sc),i=!0):i=!1,i||Rs(e)}function Fp(e){for(en=e.return;en;)switch(en.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:en=en.return}}function xo(e){if(e!==en)return!1;if(!Bt)return Fp(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||pd(e.type,e.memoizedProps)),a=!a),a&&ue&&Rs(e),Fp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ue=qn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ue=null}}else i===27?(i=ue,Ir(e.type)?(e=vd,vd=null,ue=e):ue=i):ue=en?qn(e.stateNode.nextSibling):null;return!0}function Po(){ue=en=null,Bt=!1}function Gp(){var e=bs;return e!==null&&(on===null?on=e:on.push.apply(on,e),bs=null),e}function ko(e){bs===null?bs=[e]:bs.push(e)}var Jh=W(null),ws=null,Di=null;function fr(e,i,a){it(Jh,i._currentValue),i._currentValue=a}function Ni(e){e._currentValue=Jh.current,at(Jh)}function tf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function ef(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),tf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),tf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Uo(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Pe.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}h=h.return}e!==null&&ef(i,e,a,l),i.flags|=262144}function wu(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Is(e){ws=e,Di=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return Qp(ws,e)}function Iu(e,i){return ws===null&&Is(e),Qp(e,i)}function Qp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Di===null){if(e===null)throw Error(s(308));Di=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Di=Di.next=i;return a}var cS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},hS=r.unstable_scheduleCallback,fS=r.unstable_NormalPriority,be={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new cS,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&hS(fS,function(){e.controller.abort()})}var zo=null,rf=0,va=0,Ea=null;function dS(e,i){if(zo===null){var a=zo=[];rf=0,va=ad(),Ea={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rf++,i.then(Kp,Kp),i}function Kp(){if(--rf===0&&zo!==null){Ea!==null&&(Ea.status="fulfilled");var e=zo;zo=null,va=0,Ea=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function mS(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Yp=G.S;G.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&dS(e,i),Yp!==null&&Yp(e,i)};var Cs=W(null);function sf(){var e=Cs.current;return e!==null?e:Wt.pooledCache}function Cu(e,i){i===null?it(Cs,Cs.current):it(Cs,i.pool)}function Xp(){var e=sf();return e===null?null:{parent:be._currentValue,pool:e}}var Bo=Error(s(460)),$p=Error(s(474)),Du=Error(s(542)),af={then:function(){}};function Zp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Nu(){}function Wp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Nu,Nu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,tg(e),e;default:if(typeof i.status=="string")i.then(Nu,Nu);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,tg(e),e}throw jo=i,Bo}}var jo=null;function Jp(){if(jo===null)throw Error(s(459));var e=jo;return jo=null,e}function tg(e){if(e===Bo||e===Du)throw Error(s(483))}var dr=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function mr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Su(e),Bp(e,null,a),i}return Tu(e,l,i,a),Su(e)}function qo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,er(e,a)}}function uf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var cf=!1;function Ho(){if(cf){var e=Ea;if(e!==null)throw e}}function Fo(e,i,a,l){cf=!1;var h=e.updateQueue;dr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,z=I.next;I.next=null,v===null?d=z:v.next=z,v=I;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==v&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=I))}if(d!==null){var X=h.baseState;v=0,Q=z=I=null,T=d;do{var B=T.lane&-536870913,j=B!==T.lane;if(j?(kt&B)===B:(l&B)===B){B!==0&&B===va&&(cf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Et=e,gt=T;B=i;var Xt=a;switch(gt.tag){case 1:if(Et=gt.payload,typeof Et=="function"){X=Et.call(Xt,X,B);break t}X=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=gt.payload,B=typeof Et=="function"?Et.call(Xt,X,B):Et,B==null)break t;X=E({},X,B);break t;case 2:dr=!0}}B=T.callback,B!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[B]:j.push(B))}else j={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=j,I=X):Q=Q.next=j,v|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;j=T,T=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);Q===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Ar|=v,e.lanes=v,e.memoizedState=X}}function eg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function ng(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)eg(a[e],i)}var Ta=W(null),Ou=W(0);function ig(e,i){e=Ui,it(Ou,e),it(Ta,i),Ui=e|i.baseLanes}function hf(){it(Ou,Ui),it(Ta,Ta.current)}function ff(){Ui=Ou.current,at(Ta),at(Ou)}var gr=0,It=null,Kt=null,_e=null,Mu=!1,Sa=!1,Ds=!1,Vu=0,Go=0,Aa=null,pS=0;function pe(){throw Error(s(321))}function df(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!hn(e[a],i[a]))return!1;return!0}function mf(e,i,a,l,h,d){return gr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?Bg:jg,Ds=!1,d=a(l,h),Ds=!1,Sa&&(d=sg(i,a,l,h)),rg(e),d}function rg(e){G.H=zu;var i=Kt!==null&&Kt.next!==null;if(gr=0,_e=Kt=It=null,Mu=!1,Go=0,Aa=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&wu(e)&&(Oe=!0))}function sg(e,i,a,l){It=e;var h=0;do{if(Sa&&(Aa=null),Go=0,Sa=!1,25<=h)throw Error(s(301));if(h+=1,_e=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=SS,d=i(a,l)}while(Sa);return d}function gS(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?Qo(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(It.flags|=1024),i}function pf(){var e=Vu!==0;return Vu=0,e}function gf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function yf(e){if(Mu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Mu=!1}gr=0,_e=Kt=It=null,Sa=!1,Go=Vu=0,Aa=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?It.memoizedState=_e=e:_e=_e.next=e,_e}function ve(){if(Kt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=_e===null?It.memoizedState:_e.next;if(i!==null)_e=i,Kt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},_e===null?It.memoizedState=_e=e:_e=_e.next=e}return _e}function _f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(e){var i=Go;return Go+=1,Aa===null&&(Aa=[]),e=Wp(Aa,e,i),i=It,(_e===null?i.memoizedState:_e.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Bg:jg),e}function xu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qo(e);if(e.$$typeof===rt)return Ge(e)}throw Error(s(438,String(e)))}function vf(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=_f(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function Oi(e,i){return typeof i=="function"?i(e):i}function Pu(e){var i=ve();return Ef(i,Kt,e)}function Ef(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,I=null,z=i,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(kt&X)===X:(gr&X)===X){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===va&&(Q=!0);else if((gr&B)===B){z=z.next,B===va&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=X,v=d):I=I.next=X,It.lanes|=B,Ar|=B;X=z.action,Ds&&a(d,X),d=z.hasEagerState?z.eagerState:a(d,X)}else B={lane:X,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(T=I=B,v=d):I=I.next=B,It.lanes|=X,Ar|=X;z=z.next}while(z!==null&&z!==i);if(I===null?v=d:I.next=T,!hn(d,e.memoizedState)&&(Oe=!0,Q&&(a=Ea,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Tf(e){var i=ve(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(Oe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ag(e,i,a){var l=It,h=ve(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!hn((Kt||h).memoizedState,a);v&&(h.memoizedState=a,Oe=!0),h=h.queue;var T=ug.bind(null,l,h,e);if(Ko(2048,8,T,[e]),h.getSnapshot!==i||v||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,ba(9,ku(),lg.bind(null,l,h,a,i),null),Wt===null)throw Error(s(349));d||(gr&124)!==0||og(l,i,a)}return a}function og(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=_f(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function lg(e,i,a,l){i.value=a,i.getSnapshot=l,cg(i)&&hg(e)}function ug(e,i,a){return a(function(){cg(i)&&hg(e)})}function cg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!hn(e,a)}catch{return!0}}function hg(e){var i=pa(e,2);i!==null&&yn(i,e,2)}function Sf(e){var i=sn();if(typeof e=="function"){var a=e;if(e=a(),Ds){vn(!0);try{a()}finally{vn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},i}function fg(e,i,a,l){return e.baseState=a,Ef(e,Kt,typeof l=="function"?l:Oi)}function yS(e,i,a,l,h){if(Lu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,dg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function dg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=G.T,v={};G.T=v;try{var T=a(h,l),I=G.S;I!==null&&I(v,T),mg(e,i,T)}catch(z){Af(e,i,z)}finally{G.T=d}}else try{d=a(h,l),mg(e,i,d)}catch(z){Af(e,i,z)}}function mg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){pg(e,i,l)},function(l){return Af(e,i,l)}):pg(e,i,a)}function pg(e,i,a){i.status="fulfilled",i.value=a,gg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,dg(e,a)))}function Af(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,gg(i),i=i.next;while(i!==l)}e.action=null}function gg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function yg(e,i){return i}function _g(e,i){if(Bt){var a=Wt.formState;if(a!==null){t:{var l=It;if(Bt){if(ue){e:{for(var h=ue,d=ni;h.nodeType!==8;){if(!d){h=null;break e}if(h=qn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ue=qn(h.nextSibling),l=h.data==="F!";break t}}Rs(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yg,lastRenderedState:i},a.queue=l,a=Ug.bind(null,It,l),l.dispatch=a,l=Sf(!1),d=Cf.bind(null,It,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=yS.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function vg(e){var i=ve();return Eg(i,Kt,e)}function Eg(e,i,a){if(i=Ef(e,i,yg)[0],e=Pu(Oi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Qo(i)}catch(v){throw v===Bo?Du:v}else l=i;i=ve();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,ba(9,ku(),_S.bind(null,h,a),null)),[l,d,e]}function _S(e,i){e.action=i}function Tg(e){var i=ve(),a=Kt;if(a!==null)return Eg(i,a,e);ve(),i=i.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function ba(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=_f(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function ku(){return{destroy:void 0,resource:void 0}}function Sg(){return ve().memoizedState}function Uu(e,i,a,l){var h=sn();l=l===void 0?null:l,It.flags|=e,h.memoizedState=ba(1|i,ku(),a,l)}function Ko(e,i,a,l){var h=ve();l=l===void 0?null:l;var d=h.memoizedState.inst;Kt!==null&&l!==null&&df(l,Kt.memoizedState.deps)?h.memoizedState=ba(i,d,a,l):(It.flags|=e,h.memoizedState=ba(1|i,d,a,l))}function Ag(e,i){Uu(8390656,8,e,i)}function bg(e,i){Ko(2048,8,e,i)}function Rg(e,i){return Ko(4,2,e,i)}function wg(e,i){return Ko(4,4,e,i)}function Ig(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Cg(e,i,a){a=a!=null?a.concat([e]):null,Ko(4,4,Ig.bind(null,i,e),a)}function bf(){}function Dg(e,i){var a=ve();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&df(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Ng(e,i){var a=ve();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&df(i,l[1]))return l[0];if(l=e(),Ds){vn(!0);try{e()}finally{vn(!1)}}return a.memoizedState=[l,i],l}function Rf(e,i,a){return a===void 0||(gr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=Vy(),It.lanes|=e,Ar|=e,a)}function Og(e,i,a,l){return hn(a,i)?a:Ta.current!==null?(e=Rf(e,a,l),hn(e,i)||(Oe=!0),e):(gr&42)===0?(Oe=!0,e.memoizedState=a):(e=Vy(),It.lanes|=e,Ar|=e,i)}function Mg(e,i,a,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var v=G.T,T={};G.T=T,Cf(e,!1,i,a);try{var I=h(),z=G.S;if(z!==null&&z(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=mS(I,l);Yo(e,i,Q,gn(e))}else Yo(e,i,l,gn(e))}catch(X){Yo(e,i,{then:function(){},status:"rejected",reason:X},gn())}finally{st.p=d,G.T=v}}function vS(){}function wf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Vg(e).queue;Mg(e,h,i,mt,a===null?vS:function(){return xg(e),a(l)})}function Vg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:mt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function xg(e){var i=Vg(e).next.queue;Yo(e,i,{},gn())}function If(){return Ge(fl)}function Pg(){return ve().memoizedState}function kg(){return ve().memoizedState}function ES(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();e=mr(a);var l=pr(i,e,a);l!==null&&(yn(l,i,a),qo(l,i,a)),i={cache:nf()},e.payload=i;return}i=i.return}}function TS(e,i,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Lu(e)?Lg(i,a):(a=Qh(e,i,a,l),a!==null&&(yn(a,e,l),zg(a,i,l)))}function Ug(e,i,a){var l=gn();Yo(e,i,a,l)}function Yo(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lu(e))Lg(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return Tu(e,i,h,0),Wt===null&&Eu(),!1}catch{}finally{}if(a=Qh(e,i,h,l),a!==null)return yn(a,e,l),zg(a,i,l),!0}return!1}function Cf(e,i,a,l){if(l={lane:2,revertLane:ad(),action:l,hasEagerState:!1,eagerState:null,next:null},Lu(e)){if(i)throw Error(s(479))}else i=Qh(e,a,l,2),i!==null&&yn(i,e,2)}function Lu(e){var i=e.alternate;return e===It||i!==null&&i===It}function Lg(e,i){Sa=Mu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function zg(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,er(e,a)}}var zu={readContext:Ge,use:xu,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe},Bg={readContext:Ge,use:xu,useCallback:function(e,i){return sn().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:Ag,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Uu(4194308,4,Ig.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Uu(4194308,4,e,i)},useInsertionEffect:function(e,i){Uu(4,2,e,i)},useMemo:function(e,i){var a=sn();i=i===void 0?null:i;var l=e();if(Ds){vn(!0);try{e()}finally{vn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=sn();if(a!==void 0){var h=a(i);if(Ds){vn(!0);try{a(i)}finally{vn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=TS.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=sn();return e={current:e},i.memoizedState=e},useState:function(e){e=Sf(e);var i=e.queue,a=Ug.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:bf,useDeferredValue:function(e,i){var a=sn();return Rf(a,e,i)},useTransition:function(){var e=Sf(!1);return e=Mg.bind(null,It,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=sn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(kt&124)!==0||og(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ag(ug.bind(null,l,d,e),[e]),l.flags|=2048,ba(9,ku(),lg.bind(null,l,d,a,i),null),a},useId:function(){var e=sn(),i=Wt.identifierPrefix;if(Bt){var a=Ci,l=Ii;a=(l&~(1<<32-Ze(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Vu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=pS++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:If,useFormState:_g,useActionState:_g,useOptimistic:function(e){var i=sn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Cf.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:vf,useCacheRefresh:function(){return sn().memoizedState=ES.bind(null,It)}},jg={readContext:Ge,use:xu,useCallback:Dg,useContext:Ge,useEffect:bg,useImperativeHandle:Cg,useInsertionEffect:Rg,useLayoutEffect:wg,useMemo:Ng,useReducer:Pu,useRef:Sg,useState:function(){return Pu(Oi)},useDebugValue:bf,useDeferredValue:function(e,i){var a=ve();return Og(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Pu(Oi)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:Qo(e),i]},useSyncExternalStore:ag,useId:Pg,useHostTransitionStatus:If,useFormState:vg,useActionState:vg,useOptimistic:function(e,i){var a=ve();return fg(a,Kt,e,i)},useMemoCache:vf,useCacheRefresh:kg},SS={readContext:Ge,use:xu,useCallback:Dg,useContext:Ge,useEffect:bg,useImperativeHandle:Cg,useInsertionEffect:Rg,useLayoutEffect:wg,useMemo:Ng,useReducer:Tf,useRef:Sg,useState:function(){return Tf(Oi)},useDebugValue:bf,useDeferredValue:function(e,i){var a=ve();return Kt===null?Rf(a,e,i):Og(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Tf(Oi)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:Qo(e),i]},useSyncExternalStore:ag,useId:Pg,useHostTransitionStatus:If,useFormState:Tg,useActionState:Tg,useOptimistic:function(e,i){var a=ve();return Kt!==null?fg(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:vf,useCacheRefresh:kg},Ra=null,Xo=0;function Bu(e){var i=Xo;return Xo+=1,Ra===null&&(Ra=[]),Wp(Ra,e,i)}function $o(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function ju(e,i){throw i.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function qg(e){var i=e._init;return i(e._payload)}function Hg(e){function i(x,M){if(e){var U=x.deletions;U===null?(x.deletions=[M],x.flags|=16):U.push(M)}}function a(x,M){if(!e)return null;for(;M!==null;)i(x,M),M=M.sibling;return null}function l(x){for(var M=new Map;x!==null;)x.key!==null?M.set(x.key,x):M.set(x.index,x),x=x.sibling;return M}function h(x,M){return x=wi(x,M),x.index=0,x.sibling=null,x}function d(x,M,U){return x.index=U,e?(U=x.alternate,U!==null?(U=U.index,U<M?(x.flags|=67108866,M):U):(x.flags|=67108866,M)):(x.flags|=1048576,M)}function v(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,M,U,Y){return M===null||M.tag!==6?(M=Yh(U,x.mode,Y),M.return=x,M):(M=h(M,U),M.return=x,M)}function I(x,M,U,Y){var lt=U.type;return lt===F?Q(x,M,U.props.children,Y,U.key):M!==null&&(M.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&qg(lt)===M.type)?(M=h(M,U.props),$o(M,U),M.return=x,M):(M=Au(U.type,U.key,U.props,null,x.mode,Y),$o(M,U),M.return=x,M)}function z(x,M,U,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=Xh(U,x.mode,Y),M.return=x,M):(M=h(M,U.children||[]),M.return=x,M)}function Q(x,M,U,Y,lt){return M===null||M.tag!==7?(M=Ts(U,x.mode,Y,lt),M.return=x,M):(M=h(M,U),M.return=x,M)}function X(x,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Yh(""+M,x.mode,U),M.return=x,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case R:return U=Au(M.type,M.key,M.props,null,x.mode,U),$o(U,M),U.return=x,U;case k:return M=Xh(M,x.mode,U),M.return=x,M;case b:var Y=M._init;return M=Y(M._payload),X(x,M,U)}if(ee(M)||P(M))return M=Ts(M,x.mode,U,null),M.return=x,M;if(typeof M.then=="function")return X(x,Bu(M),U);if(M.$$typeof===rt)return X(x,Iu(x,M),U);ju(x,M)}return null}function B(x,M,U,Y){var lt=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return lt!==null?null:T(x,M,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return U.key===lt?I(x,M,U,Y):null;case k:return U.key===lt?z(x,M,U,Y):null;case b:return lt=U._init,U=lt(U._payload),B(x,M,U,Y)}if(ee(U)||P(U))return lt!==null?null:Q(x,M,U,Y,null);if(typeof U.then=="function")return B(x,M,Bu(U),Y);if(U.$$typeof===rt)return B(x,M,Iu(x,U),Y);ju(x,U)}return null}function j(x,M,U,Y,lt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(U)||null,T(M,x,""+Y,lt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case R:return x=x.get(Y.key===null?U:Y.key)||null,I(M,x,Y,lt);case k:return x=x.get(Y.key===null?U:Y.key)||null,z(M,x,Y,lt);case b:var Ct=Y._init;return Y=Ct(Y._payload),j(x,M,U,Y,lt)}if(ee(Y)||P(Y))return x=x.get(U)||null,Q(M,x,Y,lt,null);if(typeof Y.then=="function")return j(x,M,U,Bu(Y),lt);if(Y.$$typeof===rt)return j(x,M,U,Iu(M,Y),lt);ju(M,Y)}return null}function Et(x,M,U,Y){for(var lt=null,Ct=null,ft=M,yt=M=0,Ve=null;ft!==null&&yt<U.length;yt++){ft.index>yt?(Ve=ft,ft=null):Ve=ft.sibling;var zt=B(x,ft,U[yt],Y);if(zt===null){ft===null&&(ft=Ve);break}e&&ft&&zt.alternate===null&&i(x,ft),M=d(zt,M,yt),Ct===null?lt=zt:Ct.sibling=zt,Ct=zt,ft=Ve}if(yt===U.length)return a(x,ft),Bt&&As(x,yt),lt;if(ft===null){for(;yt<U.length;yt++)ft=X(x,U[yt],Y),ft!==null&&(M=d(ft,M,yt),Ct===null?lt=ft:Ct.sibling=ft,Ct=ft);return Bt&&As(x,yt),lt}for(ft=l(ft);yt<U.length;yt++)Ve=j(ft,x,yt,U[yt],Y),Ve!==null&&(e&&Ve.alternate!==null&&ft.delete(Ve.key===null?yt:Ve.key),M=d(Ve,M,yt),Ct===null?lt=Ve:Ct.sibling=Ve,Ct=Ve);return e&&ft.forEach(function(Mr){return i(x,Mr)}),Bt&&As(x,yt),lt}function gt(x,M,U,Y){if(U==null)throw Error(s(151));for(var lt=null,Ct=null,ft=M,yt=M=0,Ve=null,zt=U.next();ft!==null&&!zt.done;yt++,zt=U.next()){ft.index>yt?(Ve=ft,ft=null):Ve=ft.sibling;var Mr=B(x,ft,zt.value,Y);if(Mr===null){ft===null&&(ft=Ve);break}e&&ft&&Mr.alternate===null&&i(x,ft),M=d(Mr,M,yt),Ct===null?lt=Mr:Ct.sibling=Mr,Ct=Mr,ft=Ve}if(zt.done)return a(x,ft),Bt&&As(x,yt),lt;if(ft===null){for(;!zt.done;yt++,zt=U.next())zt=X(x,zt.value,Y),zt!==null&&(M=d(zt,M,yt),Ct===null?lt=zt:Ct.sibling=zt,Ct=zt);return Bt&&As(x,yt),lt}for(ft=l(ft);!zt.done;yt++,zt=U.next())zt=j(ft,x,yt,zt.value,Y),zt!==null&&(e&&zt.alternate!==null&&ft.delete(zt.key===null?yt:zt.key),M=d(zt,M,yt),Ct===null?lt=zt:Ct.sibling=zt,Ct=zt);return e&&ft.forEach(function(AA){return i(x,AA)}),Bt&&As(x,yt),lt}function Xt(x,M,U,Y){if(typeof U=="object"&&U!==null&&U.type===F&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case R:t:{for(var lt=U.key;M!==null;){if(M.key===lt){if(lt=U.type,lt===F){if(M.tag===7){a(x,M.sibling),Y=h(M,U.props.children),Y.return=x,x=Y;break t}}else if(M.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&qg(lt)===M.type){a(x,M.sibling),Y=h(M,U.props),$o(Y,U),Y.return=x,x=Y;break t}a(x,M);break}else i(x,M);M=M.sibling}U.type===F?(Y=Ts(U.props.children,x.mode,Y,U.key),Y.return=x,x=Y):(Y=Au(U.type,U.key,U.props,null,x.mode,Y),$o(Y,U),Y.return=x,x=Y)}return v(x);case k:t:{for(lt=U.key;M!==null;){if(M.key===lt)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){a(x,M.sibling),Y=h(M,U.children||[]),Y.return=x,x=Y;break t}else{a(x,M);break}else i(x,M);M=M.sibling}Y=Xh(U,x.mode,Y),Y.return=x,x=Y}return v(x);case b:return lt=U._init,U=lt(U._payload),Xt(x,M,U,Y)}if(ee(U))return Et(x,M,U,Y);if(P(U)){if(lt=P(U),typeof lt!="function")throw Error(s(150));return U=lt.call(U),gt(x,M,U,Y)}if(typeof U.then=="function")return Xt(x,M,Bu(U),Y);if(U.$$typeof===rt)return Xt(x,M,Iu(x,U),Y);ju(x,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(a(x,M.sibling),Y=h(M,U),Y.return=x,x=Y):(a(x,M),Y=Yh(U,x.mode,Y),Y.return=x,x=Y),v(x)):a(x,M)}return function(x,M,U,Y){try{Xo=0;var lt=Xt(x,M,U,Y);return Ra=null,lt}catch(ft){if(ft===Bo||ft===Du)throw ft;var Ct=fn(29,ft,null,x.mode);return Ct.lanes=Y,Ct.return=x,Ct}finally{}}}var wa=Hg(!0),Fg=Hg(!1),Cn=W(null),ii=null;function yr(e){var i=e.alternate;it(Re,Re.current&1),it(Cn,e),ii===null&&(i===null||Ta.current!==null||i.memoizedState!==null)&&(ii=e)}function Gg(e){if(e.tag===22){if(it(Re,Re.current),it(Cn,e),ii===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ii=e)}}else _r()}function _r(){it(Re,Re.current),it(Cn,Cn.current)}function Mi(e){at(Cn),ii===e&&(ii=null),at(Re)}var Re=W(0);function qu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||_d(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Df(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Nf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=gn(),h=mr(l);h.payload=i,a!=null&&(h.callback=a),i=pr(e,h,l),i!==null&&(yn(i,e,l),qo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=gn(),h=mr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=pr(e,h,l),i!==null&&(yn(i,e,l),qo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=gn(),l=mr(a);l.tag=2,i!=null&&(l.callback=i),i=pr(e,l,a),i!==null&&(yn(i,e,a),qo(i,e,a))}};function Qg(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Mo(a,l)||!Mo(h,d):!0}function Kg(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Nf.enqueueReplaceState(i,i.state,null)}function Ns(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Hu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Yg(e){Hu(e)}function Xg(e){console.error(e)}function $g(e){Hu(e)}function Fu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Zg(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,i,a){return a=mr(a),a.tag=3,a.payload={element:null},a.callback=function(){Fu(e,i)},a}function Wg(e){return e=mr(e),e.tag=3,e}function Jg(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Zg(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Zg(i,a,l),typeof h!="function"&&(br===null?br=new Set([this]):br.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function AS(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Uo(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ii===null?ed():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===af?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),id(e,l,h)),!1;case 22:return a.flags|=65536,l===af?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),id(e,l,h)),!1}throw Error(s(435,a.tag))}return id(e,l,h),ed(),!1}if(Bt)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Wh&&(e=Error(s(422),{cause:l}),ko(bn(e,a)))):(l!==Wh&&(i=Error(s(423),{cause:l}),ko(bn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=bn(l,a),h=Of(e.stateNode,l,h),uf(e,h),ce!==4&&(ce=2)),!1;var d=Error(s(520),{cause:l});if(d=bn(d,a),il===null?il=[d]:il.push(d),ce!==4&&(ce=2),i===null)return!0;l=bn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Of(a.stateNode,l,e),uf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(br===null||!br.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Wg(h),Jg(h,e,a,l),uf(a,h),!1}a=a.return}while(a!==null);return!1}var ty=Error(s(461)),Oe=!1;function Ue(e,i,a,l){i.child=e===null?Fg(i,null,a,l):wa(i,e.child,a,l)}function ey(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Is(i),l=mf(e,i,a,v,d,h),T=pf(),e!==null&&!Oe?(gf(e,i,h),Vi(e,i,h)):(Bt&&T&&$h(i),i.flags|=1,Ue(e,i,l,h),i.child)}function ny(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Kh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,iy(e,i,d,l,h)):(e=Au(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!zf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Mo,a(v,l)&&e.ref===i.ref)return Vi(e,i,h)}return i.flags|=1,e=wi(d,l),e.ref=i.ref,e.return=i,i.child=e}function iy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Mo(d,l)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=l=d,zf(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,Vi(e,i,h)}return Mf(e,i,a,l,h)}function ry(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return sy(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cu(i,d!==null?d.cachePool:null),d!==null?ig(i,d):hf(),Gg(i);else return i.lanes=i.childLanes=536870912,sy(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Cu(i,d.cachePool),ig(i,d),_r(),i.memoizedState=null):(e!==null&&Cu(i,null),hf(),_r());return Ue(e,i,h,a),i.child}function sy(e,i,a,l){var h=sf();return h=h===null?null:{parent:be._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Cu(i,null),hf(),Gg(i),e!==null&&Uo(e,i,l,!0),null}function Gu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Mf(e,i,a,l,h){return Is(i),a=mf(e,i,a,l,void 0,h),l=pf(),e!==null&&!Oe?(gf(e,i,h),Vi(e,i,h)):(Bt&&l&&$h(i),i.flags|=1,Ue(e,i,a,h),i.child)}function ay(e,i,a,l,h,d){return Is(i),i.updateQueue=null,a=sg(i,l,a,h),rg(e),l=pf(),e!==null&&!Oe?(gf(e,i,d),Vi(e,i,d)):(Bt&&l&&$h(i),i.flags|=1,Ue(e,i,a,d),i.child)}function oy(e,i,a,l,h){if(Is(i),i.stateNode===null){var d=ga,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ge(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Nf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},of(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ge(v):ga,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Df(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Nf.enqueueReplaceState(d,d.state,null),Fo(i,l,d,h),Ho(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,I=Ns(a,T);d.props=I;var z=d.context,Q=a.contextType;v=ga,typeof Q=="object"&&Q!==null&&(v=Ge(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==v)&&Kg(i,d,l,v),dr=!1;var B=i.memoizedState;d.state=B,Fo(i,l,d,h),Ho(),z=i.memoizedState,T||B!==z||dr?(typeof X=="function"&&(Df(i,a,X,l),z=i.memoizedState),(I=dr||Qg(i,a,I,l,B,z,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,lf(e,i),v=i.memoizedProps,Q=Ns(a,v),d.props=Q,X=i.pendingProps,B=d.context,z=a.contextType,I=ga,typeof z=="object"&&z!==null&&(I=Ge(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==X||B!==I)&&Kg(i,d,l,I),dr=!1,B=i.memoizedState,d.state=B,Fo(i,l,d,h),Ho();var j=i.memoizedState;v!==X||B!==j||dr||e!==null&&e.dependencies!==null&&wu(e.dependencies)?(typeof T=="function"&&(Df(i,a,T,l),j=i.memoizedState),(Q=dr||Qg(i,a,Q,l,B,j,I)||e!==null&&e.dependencies!==null&&wu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,j,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,j,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=I,l=Q):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Gu(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=wa(i,e.child,null,h),i.child=wa(i,null,a,h)):Ue(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Vi(e,i,h),e}function ly(e,i,a,l){return Po(),i.flags|=256,Ue(e,i,a,l),i.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xf(e){return{baseLanes:e,cachePool:Xp()}}function Pf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Dn),e}function uy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?yr(i):_r(),Bt){var T=ue,I;if(I=T){t:{for(I=T,T=ni;I.nodeType!==8;){if(!T){T=null;break t}if(I=qn(I.nextSibling),I===null){T=null;break t}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ss!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},I=fn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,en=i,ue=null,I=!0):I=!1}I||Rs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return _d(T)?i.lanes=32:i.lanes=536870912,null;Mi(i)}return T=l.children,l=l.fallback,h?(_r(),h=i.mode,T=Qu({mode:"hidden",children:T},h),l=Ts(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=xf(a),h.childLanes=Pf(e,v,a),i.memoizedState=Vf,l):(yr(i),kf(i,T))}if(I=e.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(yr(i),i.flags&=-257,i=Uf(e,i,a)):i.memoizedState!==null?(_r(),i.child=e.child,i.flags|=128,i=null):(_r(),h=l.fallback,T=i.mode,l=Qu({mode:"visible",children:l.children},T),h=Ts(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,wa(i,e.child,null,a),l=i.child,l.memoizedState=xf(a),l.childLanes=Pf(e,v,a),i.memoizedState=Vf,i=h);else if(yr(i),_d(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,ko({value:l,source:null,stack:null}),i=Uf(e,i,a)}else if(Oe||Uo(e,i,a,!1),v=(a&e.childLanes)!==0,Oe||v){if(v=Wt,v!==null&&(l=a&-a,l=(l&42)!==0?1:po(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,pa(e,l),yn(v,e,l),ty;T.data==="$?"||ed(),i=Uf(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=I.treeContext,ue=qn(T.nextSibling),en=i,Bt=!0,bs=null,ni=!1,e!==null&&(wn[In++]=Ii,wn[In++]=Ci,wn[In++]=Ss,Ii=e.id,Ci=e.overflow,Ss=i),i=kf(i,l.children),i.flags|=4096);return i}return h?(_r(),h=l.fallback,T=i.mode,I=e.child,z=I.sibling,l=wi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?h=wi(z,h):(h=Ts(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=xf(a):(I=T.cachePool,I!==null?(z=be._currentValue,I=I.parent!==z?{parent:z,pool:z}:I):I=Xp(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Pf(e,v,a),i.memoizedState=Vf,l):(yr(i),a=e.child,e=a.sibling,a=wi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function kf(e,i){return i=Qu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Qu(e,i){return e=fn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Uf(e,i,a){return wa(i,e.child,null,a),e=kf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function cy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),tf(e.return,i,a)}function Lf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function hy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ue(e,i,l.children,a),l=Re.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cy(e,a,i);else if(e.tag===19)cy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(it(Re,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&qu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Lf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&qu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Lf(i,!0,a,null,d);break;case"together":Lf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Vi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ar|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Uo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=wi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=wi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function zf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&wu(e)))}function bS(e,i,a){switch(i.tag){case 3:Gt(i,i.stateNode.containerInfo),fr(i,be,e.memoizedState.cache),Po();break;case 27:case 5:co(i);break;case 4:Gt(i,i.stateNode.containerInfo);break;case 10:fr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(yr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?uy(e,i,a):(yr(i),e=Vi(e,i,a),e!==null?e.sibling:null);yr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Uo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return hy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Re,Re.current),l)break;return null;case 22:case 23:return i.lanes=0,ry(e,i,a);case 24:fr(i,be,e.memoizedState.cache)}return Vi(e,i,a)}function fy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!zf(e,a)&&(i.flags&128)===0)return Oe=!1,bS(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,Bt&&(i.flags&1048576)!==0&&qp(i,Ru,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Kh(l)?(e=Ns(l,e),i.tag=1,i=oy(null,i,l,e,a)):(i.tag=0,i=Mf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===wt){i.tag=11,i=ey(null,i,l,e,a);break t}else if(h===O){i.tag=14,i=ny(null,i,l,e,a);break t}}throw i=le(l)||l,Error(s(306,i,""))}}return i;case 0:return Mf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ns(l,i.pendingProps),oy(e,i,l,h,a);case 3:t:{if(Gt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,lf(e,i),Fo(i,l,null,a);var v=i.memoizedState;if(l=v.cache,fr(i,be,l),l!==d.cache&&ef(i,[be],a,!0),Ho(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ly(e,i,l,a);break t}else if(l!==h){h=bn(Error(s(424)),i),ko(h),i=ly(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=qn(e.firstChild),en=i,Bt=!0,bs=null,ni=!0,a=Fg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Po(),l===h){i=Vi(e,i,a);break t}Ue(e,i,l,a)}i=i.child}return i;case 26:return Gu(e,i),e===null?(a=g_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,l=ac(vt.current).createElement(a),l[fe]=i,l[ke]=e,ze(l,a,e),de(l),i.stateNode=l):i.memoizedState=g_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return co(i),e===null&&Bt&&(l=i.stateNode=d_(i.type,i.pendingProps,vt.current),en=i,ni=!0,h=ue,Ir(i.type)?(vd=h,ue=qn(l.firstChild)):ue=h),Ue(e,i,i.pendingProps.children,a),Gu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=l=ue)&&(l=WS(l,i.type,i.pendingProps,ni),l!==null?(i.stateNode=l,en=i,ue=qn(l.firstChild),ni=!1,h=!0):h=!1),h||Rs(i)),co(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,pd(h,d)?l=null:v!==null&&pd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=mf(e,i,gS,null,null,a),fl._currentValue=h),Gu(e,i),Ue(e,i,l,a),i.child;case 6:return e===null&&Bt&&((e=a=ue)&&(a=JS(a,i.pendingProps,ni),a!==null?(i.stateNode=a,en=i,ue=null,e=!0):e=!1),e||Rs(i)),null;case 13:return uy(e,i,a);case 4:return Gt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=wa(i,null,l,a):Ue(e,i,l,a),i.child;case 11:return ey(e,i,i.type,i.pendingProps,a);case 7:return Ue(e,i,i.pendingProps,a),i.child;case 8:return Ue(e,i,i.pendingProps.children,a),i.child;case 12:return Ue(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,fr(i,i.type,l.value),Ue(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Is(i),h=Ge(h),l=l(h),i.flags|=1,Ue(e,i,l,a),i.child;case 14:return ny(e,i,i.type,i.pendingProps,a);case 15:return iy(e,i,i.type,i.pendingProps,a);case 19:return hy(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Qu(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=wi(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return ry(e,i,a);case 24:return Is(i),l=Ge(be),e===null?(h=sf(),h===null&&(h=Wt,d=nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},of(i),fr(i,be,h)):((e.lanes&a)!==0&&(lf(e,i),Fo(i,null,null,a),Ho()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),fr(i,be,l)):(l=d.cache,fr(i,be,l),l!==h.cache&&ef(i,[be],a,!0))),Ue(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function xi(e){e.flags|=4}function dy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!T_(i)){if(i=Cn.current,i!==null&&((kt&4194048)===kt?ii!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==ii))throw jo=af,$p;e.flags|=8192}}function Ku(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Ji():536870912,e.lanes|=i,Na|=i)}function Zo(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function RS(e,i,a){var l=i.pendingProps;switch(Zh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ni(be),Mn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(xo(i)?xi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Gp())),re(i),null;case 26:return a=i.memoizedState,e===null?(xi(i),a!==null?(re(i),dy(i,a)):(re(i),i.flags&=-16777217)):a?a!==e.memoizedState?(xi(i),re(i),dy(i,a)):(re(i),i.flags&=-16777217):(e.memoizedProps!==l&&xi(i),re(i),i.flags&=-16777217),null;case 27:Xs(i),a=vt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=dt.current,xo(i)?Hp(i):(e=d_(h,l,a),i.stateNode=e,xi(i))}return re(i),null;case 5:if(Xs(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(e=dt.current,xo(i))Hp(i);else{switch(h=ac(vt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[fe]=i,e[ke]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(ze(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&xi(i)}}return re(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&xi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=vt.current,xo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[fe]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||a_(e.nodeValue,a)),e||Rs(i)}else e=ac(e).createTextNode(l),e[fe]=i,i.stateNode=e}return re(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=xo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[fe]=i}else Po(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=Gp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Mi(i),i):(Mi(i),null)}if(Mi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Ku(i,i.updateQueue),re(i),null;case 4:return Mn(),e===null&&cd(i.stateNode.containerInfo),re(i),null;case 10:return Ni(i.type),re(i),null;case 19:if(at(Re),h=i.memoizedState,h===null)return re(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Zo(h,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=qu(e),d!==null){for(i.flags|=128,Zo(h,!1),e=d.updateQueue,i.updateQueue=e,Ku(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)jp(a,e),a=a.sibling;return it(Re,Re.current&1|2),i.child}e=e.sibling}h.tail!==null&&rn()>$u&&(i.flags|=128,l=!0,Zo(h,!1),i.lanes=4194304)}else{if(!l)if(e=qu(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Ku(i,e),Zo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return re(i),null}else 2*rn()-h.renderingStartTime>$u&&a!==536870912&&(i.flags|=128,l=!0,Zo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=rn(),i.sibling=null,e=Re.current,it(Re,l?e&1|2:e&1),i):(re(i),null);case 22:case 23:return Mi(i),ff(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&Ku(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&at(Cs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ni(be),re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function wS(e,i){switch(Zh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ni(be),Mn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Xs(i),null;case 13:if(Mi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Po()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return at(Re),null;case 4:return Mn(),null;case 10:return Ni(i.type),null;case 22:case 23:return Mi(i),ff(),e!==null&&at(Cs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ni(be),null;case 25:return null;default:return null}}function my(e,i){switch(Zh(i),i.tag){case 3:Ni(be),Mn();break;case 26:case 27:case 5:Xs(i);break;case 4:Mn();break;case 13:Mi(i);break;case 19:at(Re);break;case 10:Ni(i.type);break;case 22:case 23:Mi(i),ff(),e!==null&&at(Cs);break;case 24:Ni(be)}}function Wo(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){$t(i,i.return,T)}}function vr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,z=T;try{z()}catch(Q){$t(h,I,Q)}}}l=l.next}while(l!==d)}}catch(Q){$t(i,i.return,Q)}}function py(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{ng(i,a)}catch(l){$t(e,e.return,l)}}}function gy(e,i,a){a.props=Ns(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,i,l)}}function Jo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,i,h)}}function ri(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function yy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Bf(e,i,a){try{var l=e.stateNode;KS(l,e.type,a,i),l[ke]=i}catch(h){$t(e,e.return,h)}}function _y(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ir(e.type)||e.tag===4}function jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||_y(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ir(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=sc));else if(l!==4&&(l===27&&Ir(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(qf(e,i,a),e=e.sibling;e!==null;)qf(e,i,a),e=e.sibling}function Yu(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Ir(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Yu(e,i,a),e=e.sibling;e!==null;)Yu(e,i,a),e=e.sibling}function vy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);ze(i,l,a),i[fe]=e,i[ke]=a}catch(d){$t(e,e.return,d)}}var Pi=!1,ge=!1,Hf=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,Me=null;function IS(e,i){if(e=e.containerInfo,dd=fc,e=Op(e),Bh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,I=-1,z=0,Q=0,X=e,B=null;e:for(;;){for(var j;X!==a||h!==0&&X.nodeType!==3||(T=v+h),X!==d||l!==0&&X.nodeType!==3||(I=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(j=X.firstChild)!==null;)B=X,X=j;for(;;){if(X===e)break e;if(B===a&&++z===h&&(T=v),B===d&&++Q===l&&(I=v),(j=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=j}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(md={focusedElem:e,selectionRange:a},fc=!1,Me=i;Me!==null;)if(i=Me,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Me=e;else for(;Me!==null;){switch(i=Me,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Et=Ns(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Et,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){$t(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)yd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Me=e;break}Me=i.return}}function Ty(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Er(e,a),l&4&&Wo(5,a);break;case 1:if(Er(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=Ns(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}l&64&&py(a),l&512&&Jo(a,a.return);break;case 3:if(Er(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{ng(e,i)}catch(v){$t(a,a.return,v)}}break;case 27:i===null&&l&4&&vy(a);case 26:case 5:Er(e,a),i===null&&l&4&&yy(a),l&512&&Jo(a,a.return);break;case 12:Er(e,a);break;case 13:Er(e,a),l&4&&by(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=kS.bind(null,a),tA(e,a))));break;case 22:if(l=a.memoizedState!==null||Pi,!l){i=i!==null&&i.memoizedState!==null||ge,h=Pi;var d=ge;Pi=l,(ge=i)&&!d?Tr(e,a,(a.subtreeFlags&8772)!==0):Er(e,a),Pi=h,ge=d}break;case 30:break;default:Er(e,a)}}function Sy(e){var i=e.alternate;i!==null&&(e.alternate=null,Sy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ta(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,an=!1;function ki(e,i,a){for(a=a.child;a!==null;)Ay(e,i,a),a=a.sibling}function Ay(e,i,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount($i,a)}catch{}switch(a.tag){case 26:ge||ri(a,i),ki(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ge||ri(a,i);var l=ne,h=an;Ir(a.type)&&(ne=a.stateNode,an=!1),ki(e,i,a),ll(a.stateNode),ne=l,an=h;break;case 5:ge||ri(a,i);case 6:if(l=ne,h=an,ne=null,ki(e,i,a),ne=l,an=h,ne!==null)if(an)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{ne.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:ne!==null&&(an?(e=ne,h_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),gl(e)):h_(ne,a.stateNode));break;case 4:l=ne,h=an,ne=a.stateNode.containerInfo,an=!0,ki(e,i,a),ne=l,an=h;break;case 0:case 11:case 14:case 15:ge||vr(2,a,i),ge||vr(4,a,i),ki(e,i,a);break;case 1:ge||(ri(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&gy(a,i,l)),ki(e,i,a);break;case 21:ki(e,i,a);break;case 22:ge=(l=ge)||a.memoizedState!==null,ki(e,i,a),ge=l;break;default:ki(e,i,a)}}function by(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{gl(e)}catch(a){$t(i,i.return,a)}}function CS(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new Ey),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new Ey),i;default:throw Error(s(435,e.tag))}}function Ff(e,i){var a=CS(e);i.forEach(function(l){var h=US.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function dn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Ir(T.type)){ne=T.stateNode,an=!1;break t}break;case 5:ne=T.stateNode,an=!1;break t;case 3:case 4:ne=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(ne===null)throw Error(s(160));Ay(d,v,h),ne=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ry(i,e),i=i.sibling}var jn=null;function Ry(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(i,e),mn(e),l&4&&(vr(3,e,e.return),Wo(3,e),vr(5,e,e.return));break;case 1:dn(i,e),mn(e),l&512&&(ge||a===null||ri(a,a.return)),l&64&&Pi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=jn;if(dn(i,e),mn(e),l&512&&(ge||a===null||ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[nr]||d[fe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ze(d,l,a),d[fe]=e,de(d),l=d;break t;case"link":var v=v_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;case"meta":if(v=v_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),ze(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[fe]=e,de(d),l=d}e.stateNode=l}else E_(h,e.type,e.stateNode);else e.stateNode=__(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?E_(h,e.type,e.stateNode):__(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(i,e),mn(e),l&512&&(ge||a===null||ri(a,a.return)),a!==null&&l&4&&Bf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,e),mn(e),l&512&&(ge||a===null||ri(a,a.return)),e.flags&32){h=e.stateNode;try{Sn(h,"")}catch(j){$t(e,e.return,j)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Hf=!0);break;case 6:if(dn(i,e),mn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(j){$t(e,e.return,j)}}break;case 3:if(uc=null,h=jn,jn=oc(i.containerInfo),dn(i,e),jn=h,mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{gl(i.containerInfo)}catch(j){$t(e,e.return,j)}Hf&&(Hf=!1,wy(e));break;case 4:l=jn,jn=oc(e.stateNode.containerInfo),dn(i,e),mn(e),jn=l;break;case 12:dn(i,e),mn(e);break;case 13:dn(i,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($f=rn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ff(e,l)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Pi,Q=ge;if(Pi=z||h,ge=Q||I,dn(i,e),ge=Q,Pi=z,mn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Pi||ge||Os(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var X=I.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(j){$t(I,I.return,j)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(j){$t(I,I.return,j)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ff(e,a))));break;case 19:dn(i,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ff(e,l)));break;case 30:break;case 21:break;default:dn(i,e),mn(e)}}function mn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(_y(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=jf(e);Yu(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Sn(v,""),a.flags&=-33);var T=jf(e);Yu(e,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,z=jf(e);qf(e,z,I);break;default:throw Error(s(161))}}catch(Q){$t(e,e.return,Q)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function wy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;wy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Er(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ty(e,i.alternate,i),i=i.sibling}function Os(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:vr(4,i,i.return),Os(i);break;case 1:ri(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&gy(i,i.return,a),Os(i);break;case 27:ll(i.stateNode);case 26:case 5:ri(i,i.return),Os(i);break;case 22:i.memoizedState===null&&Os(i);break;case 30:Os(i);break;default:Os(i)}e=e.sibling}}function Tr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,a),Wo(4,d);break;case 1:if(Tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)eg(I[h],T)}catch(z){$t(l,l.return,z)}}a&&v&64&&py(d),Jo(d,d.return);break;case 27:vy(d);case 26:case 5:Tr(h,d,a),a&&l===null&&v&4&&yy(d),Jo(d,d.return);break;case 12:Tr(h,d,a);break;case 13:Tr(h,d,a),a&&v&4&&by(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,a),Jo(d,d.return);break;case 30:break;default:Tr(h,d,a)}i=i.sibling}}function Gf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Lo(a))}function Qf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Lo(e))}function si(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Iy(e,i,a,l),i=i.sibling}function Iy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:si(e,i,a,l),h&2048&&Wo(9,i);break;case 1:si(e,i,a,l);break;case 3:si(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){si(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){$t(i,i.return,I)}}else si(e,i,a,l);break;case 13:si(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?si(e,i,a,l):tl(e,i):d._visibility&2?si(e,i,a,l):(d._visibility|=2,Ia(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Gf(v,i);break;case 24:si(e,i,a,l),h&2048&&Qf(i.alternate,i);break;default:si(e,i,a,l)}}function Ia(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,I=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:Ia(d,v,T,I,h),Wo(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?Ia(d,v,T,I,h):tl(d,v):(Q._visibility|=2,Ia(d,v,T,I,h)),h&&z&2048&&Gf(v.alternate,v);break;case 24:Ia(d,v,T,I,h),h&&z&2048&&Qf(v.alternate,v);break;default:Ia(d,v,T,I,h)}i=i.sibling}}function tl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:tl(a,l),h&2048&&Gf(l.alternate,l);break;case 24:tl(a,l),h&2048&&Qf(l.alternate,l);break;default:tl(a,l)}i=i.sibling}}var el=8192;function Ca(e){if(e.subtreeFlags&el)for(e=e.child;e!==null;)Cy(e),e=e.sibling}function Cy(e){switch(e.tag){case 26:Ca(e),e.flags&el&&e.memoizedState!==null&&dA(jn,e.memoizedState,e.memoizedProps);break;case 5:Ca(e);break;case 3:case 4:var i=jn;jn=oc(e.stateNode.containerInfo),Ca(e),jn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=el,el=16777216,Ca(e),el=i):Ca(e));break;default:Ca(e)}}function Dy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function nl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,Oy(l,e)}Dy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ny(e),e=e.sibling}function Ny(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&vr(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Xu(e)):nl(e);break;default:nl(e)}}function Xu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,Oy(l,e)}Dy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:vr(8,i,i.return),Xu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Xu(i));break;default:Xu(i)}e=e.sibling}}function Oy(e,i){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:vr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Lo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Me=l;else t:for(a=e;Me!==null;){l=Me;var h=l.sibling,d=l.return;if(Sy(l),l===a){Me=null;break t}if(h!==null){h.return=d,Me=h;break t}Me=d}}}var DS={getCacheForType:function(e){var i=Ge(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},NS=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Wt=null,Nt=null,kt=0,Ft=0,pn=null,Sr=!1,Da=!1,Kf=!1,Ui=0,ce=0,Ar=0,Ms=0,Yf=0,Dn=0,Na=0,il=null,on=null,Xf=!1,$f=0,$u=1/0,Zu=null,br=null,Le=0,Rr=null,Oa=null,Ma=0,Zf=0,Wf=null,My=null,rl=0,Jf=null;function gn(){if((Ht&2)!==0&&kt!==0)return kt&-kt;if(G.T!==null){var e=va;return e!==0?e:ad()}return vi()}function Vy(){Dn===0&&(Dn=(kt&536870912)===0||Bt?mo():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),Dn}function yn(e,i,a){(e===Wt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Va(e,0),wr(e,kt,Dn,!1)),he(e,a),((Ht&2)===0||e!==Wt)&&(e===Wt&&((Ht&2)===0&&(Ms|=a),ce===4&&wr(e,kt,Dn,!1)),ai(e))}function xy(e,i,a){if((Ht&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Wi(e,i),h=l?VS(e,i):nd(e,i,!0),d=l;do{if(h===0){Da&&!l&&wr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!OS(a)){h=nd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=il;var I=T.current.memoizedState.isDehydrated;if(I&&(Va(T,v).flags|=256),v=nd(T,v,!1),v!==2){if(Kf&&!I){T.errorRecoveryDisabledLanes|=d,Ms|=d,h=4;break t}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Va(e,0),wr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:wr(l,i,Dn,!Sr);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=$f+300-rn(),10<h)){if(wr(l,i,Dn,!Sr),En(l,0,!0)!==0)break t;l.timeoutHandle=u_(Py.bind(null,l,a,on,Zu,Xf,i,Dn,Ms,Na,Sr,d,2,-0,0),h);break t}Py(l,a,on,Zu,Xf,i,Dn,Ms,Na,Sr,d,0,-0,0)}}break}while(!0);ai(e)}function Py(e,i,a,l,h,d,v,T,I,z,Q,X,B,j){if(e.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(hl={stylesheets:null,count:0,unsuspend:fA},Cy(i),X=mA(),X!==null)){e.cancelPendingCommit=X(qy.bind(null,e,i,d,a,l,h,v,T,I,Q,1,B,j)),wr(e,d,v,!z);return}qy(e,i,d,a,l,h,v,T,I)}function OS(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function wr(e,i,a,l){i&=~Yf,i&=~Ms,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Ze(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&tr(e,a,i)}function Wu(){return(Ht&6)===0?(sl(0),!1):!0}function td(){if(Nt!==null){if(Ft===0)var e=Nt.return;else e=Nt,Di=ws=null,yf(e),Ra=null,Xo=0,e=Nt;for(;e!==null;)my(e.alternate,e),e=e.return;Nt=null}}function Va(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,XS(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),td(),Wt=e,Nt=a=wi(e.current,null),kt=i,Ft=0,pn=null,Sr=!1,Da=Wi(e,i),Kf=!1,Na=Dn=Yf=Ms=Ar=ce=0,on=il=null,Xf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Ze(l),d=1<<h;i|=e[h],l&=~d}return Ui=i,Eu(),a}function ky(e,i){It=null,G.H=zu,i===Bo||i===Du?(i=Jp(),Ft=3):i===$p?(i=Jp(),Ft=4):Ft=i===ty?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pn=i,Nt===null&&(ce=1,Fu(e,bn(i,e.current)))}function Uy(){var e=G.H;return G.H=zu,e===null?zu:e}function Ly(){var e=G.A;return G.A=DS,e}function ed(){ce=4,Sr||(kt&4194048)!==kt&&Cn.current!==null||(Da=!0),(Ar&134217727)===0&&(Ms&134217727)===0||Wt===null||wr(Wt,kt,Dn,!1)}function nd(e,i,a){var l=Ht;Ht|=2;var h=Uy(),d=Ly();(Wt!==e||kt!==i)&&(Zu=null,Va(e,i)),i=!1;var v=ce;t:do try{if(Ft!==0&&Nt!==null){var T=Nt,I=pn;switch(Ft){case 8:td(),v=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var z=Ft;if(Ft=0,pn=null,xa(e,T,I,z),a&&Da){v=0;break t}break;default:z=Ft,Ft=0,pn=null,xa(e,T,I,z)}}MS(),v=ce;break}catch(Q){ky(e,Q)}while(!0);return i&&e.shellSuspendCounter++,Di=ws=null,Ht=l,G.H=h,G.A=d,Nt===null&&(Wt=null,kt=0,Eu()),v}function MS(){for(;Nt!==null;)zy(Nt)}function VS(e,i){var a=Ht;Ht|=2;var l=Uy(),h=Ly();Wt!==e||kt!==i?(Zu=null,$u=rn()+500,Va(e,i)):Da=Wi(e,i);t:do try{if(Ft!==0&&Nt!==null){i=Nt;var d=pn;e:switch(Ft){case 1:Ft=0,pn=null,xa(e,i,d,1);break;case 2:case 9:if(Zp(d)){Ft=0,pn=null,By(i);break}i=function(){Ft!==2&&Ft!==9||Wt!==e||(Ft=7),ai(e)},d.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Zp(d)?(Ft=0,pn=null,By(i)):(Ft=0,pn=null,xa(e,i,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(!v||T_(v)){Ft=0,pn=null;var I=T.sibling;if(I!==null)Nt=I;else{var z=T.return;z!==null?(Nt=z,Ju(z)):Nt=null}break e}}Ft=0,pn=null,xa(e,i,d,5);break;case 6:Ft=0,pn=null,xa(e,i,d,6);break;case 8:td(),ce=6;break t;default:throw Error(s(462))}}xS();break}catch(Q){ky(e,Q)}while(!0);return Di=ws=null,G.H=l,G.A=h,Ht=a,Nt!==null?0:(Wt=null,kt=0,Eu(),ce)}function xS(){for(;Nt!==null&&!Dh();)zy(Nt)}function zy(e){var i=fy(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,i===null?Ju(e):Nt=i}function By(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=ay(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=ay(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:yf(i);default:my(a,i),i=Nt=jp(i,Ui),i=fy(a,i,Ui)}e.memoizedProps=e.pendingProps,i===null?Ju(e):Nt=i}function xa(e,i,a,l){Di=ws=null,yf(i),Ra=null,Xo=0;var h=i.return;try{if(AS(e,h,i,a,kt)){ce=1,Fu(e,bn(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;ce=1,Fu(e,bn(a,e.current)),Nt=null;return}i.flags&32768?(Bt||l===1?e=!0:Da||(kt&536870912)!==0?e=!1:(Sr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),jy(i,e)):Ju(i)}function Ju(e){var i=e;do{if((i.flags&32768)!==0){jy(i,Sr);return}e=i.return;var a=RS(i.alternate,i,Ui);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);ce===0&&(ce=5)}function jy(e,i){do{var a=wS(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);ce=6,Nt=null}function qy(e,i,a,l,h,d,v,T,I){e.cancelPendingCommit=null;do tc();while(Le!==0);if((Ht&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Gh,iu(e,a,d,v,T,I),e===Wt&&(Nt=Wt=null,kt=0),Oa=i,Rr=e,Ma=a,Zf=d,Wf=h,My=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,LS(_i,function(){return Ky(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=st.p,st.p=2,v=Ht,Ht|=4;try{IS(e,i,a)}finally{Ht=v,st.p=h,G.T=l}}Le=1,Hy(),Fy(),Gy()}}function Hy(){if(Le===1){Le=0;var e=Rr,i=Oa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=st.p;st.p=2;var h=Ht;Ht|=4;try{Ry(i,e);var d=md,v=Op(e.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Np(T.ownerDocument.documentElement,T)){if(I!==null&&Bh(T)){var z=I.start,Q=I.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var j=B.getSelection(),Et=T.textContent.length,gt=Math.min(I.start,Et),Xt=I.end===void 0?gt:Math.min(I.end,Et);!j.extend&&gt>Xt&&(v=Xt,Xt=gt,gt=v);var x=Dp(T,gt),M=Dp(T,Xt);if(x&&M&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==M.node||j.focusOffset!==M.offset)){var U=X.createRange();U.setStart(x.node,x.offset),j.removeAllRanges(),gt>Xt?(j.addRange(U),j.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),j.addRange(U))}}}}for(X=[],j=T;j=j.parentNode;)j.nodeType===1&&X.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}fc=!!dd,md=dd=null}finally{Ht=h,st.p=l,G.T=a}}e.current=i,Le=2}}function Fy(){if(Le===2){Le=0;var e=Rr,i=Oa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=st.p;st.p=2;var h=Ht;Ht|=4;try{Ty(e,i.alternate,i)}finally{Ht=h,st.p=l,G.T=a}}Le=3}}function Gy(){if(Le===4||Le===3){Le=0,ho();var e=Rr,i=Oa,a=Ma,l=My;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Le=5:(Le=0,Oa=Rr=null,Qy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(br=null),go(a),i=i.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot($i,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=st.p,st.p=2,G.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{G.T=i,st.p=h}}(Ma&3)!==0&&tc(),ai(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Jf?rl++:(rl=0,Jf=e):rl=0,sl(0)}}function Qy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Lo(i)))}function tc(e){return Hy(),Fy(),Gy(),Ky()}function Ky(){if(Le!==5)return!1;var e=Rr,i=Zf;Zf=0;var a=go(Ma),l=G.T,h=st.p;try{st.p=32>a?32:a,G.T=null,a=Wf,Wf=null;var d=Rr,v=Ma;if(Le=0,Oa=Rr=null,Ma=0,(Ht&6)!==0)throw Error(s(331));var T=Ht;if(Ht|=4,Ny(d.current),Iy(d,d.current,v,a),Ht=T,sl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot($i,d)}catch{}return!0}finally{st.p=h,G.T=l,Qy(e,i)}}function Yy(e,i,a){i=bn(a,i),i=Of(e.stateNode,i,2),e=pr(e,i,2),e!==null&&(he(e,2),ai(e))}function $t(e,i,a){if(e.tag===3)Yy(e,e,a);else for(;i!==null;){if(i.tag===3){Yy(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(br===null||!br.has(l))){e=bn(a,e),a=Wg(2),l=pr(i,a,2),l!==null&&(Jg(a,l,i,e),he(l,2),ai(l));break}}i=i.return}}function id(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new NS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Kf=!0,h.add(a),e=PS.bind(null,e,i,a),i.then(e,e))}function PS(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(kt&a)===a&&(ce===4||ce===3&&(kt&62914560)===kt&&300>rn()-$f?(Ht&2)===0&&Va(e,0):Yf|=a,Na===kt&&(Na=0)),ai(e)}function Xy(e,i){i===0&&(i=Ji()),e=pa(e,i),e!==null&&(he(e,i),ai(e))}function kS(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Xy(e,a)}function US(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Xy(e,a)}function LS(e,i){return Zr(e,i)}var ec=null,Pa=null,rd=!1,nc=!1,sd=!1,Vs=0;function ai(e){e!==Pa&&e.next===null&&(Pa===null?ec=Pa=e:Pa=Pa.next=e),nc=!0,rd||(rd=!0,BS())}function sl(e,i){if(!sd&&nc){sd=!0;do for(var a=!1,l=ec;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ze(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Jy(l,d))}else d=kt,d=En(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wi(l,d)||(a=!0,Jy(l,d));l=l.next}while(a);sd=!1}}function zS(){$y()}function $y(){nc=rd=!1;var e=0;Vs!==0&&(YS()&&(e=Vs),Vs=0);for(var i=rn(),a=null,l=ec;l!==null;){var h=l.next,d=Zy(l,i);d===0?(l.next=null,a===null?ec=h:a.next=h,h===null&&(Pa=a)):(a=l,(e!==0||(d&3)!==0)&&(nc=!0)),l=h}sl(e)}function Zy(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ze(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Ws(T,i)):I<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=kt,a=En(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Zs(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Wi(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Zs(l),go(a)){case 2:case 8:a=De;break;case 32:a=_i;break;case 268435456:a=fo;break;default:a=_i}return l=Wy.bind(null,e),a=Zr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Zs(l),e.callbackPriority=2,e.callbackNode=null,2}function Wy(e,i){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(tc()&&e.callbackNode!==a)return null;var l=kt;return l=En(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(xy(e,l,i),Zy(e,rn()),e.callbackNode!=null&&e.callbackNode===a?Wy.bind(null,e):null)}function Jy(e,i){if(tc())return null;xy(e,i,!0)}function BS(){$S(function(){(Ht&6)!==0?Zr(Se,zS):$y()})}function ad(){return Vs===0&&(Vs=mo()),Vs}function t_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:kn(""+e)}function e_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function jS(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=t_((h[ke]||null).action),v=l.submitter;v&&(i=(i=v[ke]||null)?t_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new fs("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Vs!==0){var I=v?e_(h,v):new FormData(h);wf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?e_(h,v):new FormData(h),wf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var od=0;od<Fh.length;od++){var ld=Fh[od],qS=ld.toLowerCase(),HS=ld[0].toUpperCase()+ld.slice(1);Bn(qS,"on"+HS)}Bn(xp,"onAnimationEnd"),Bn(Pp,"onAnimationIteration"),Bn(kp,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(aS,"onTransitionRun"),Bn(oS,"onTransitionStart"),Bn(lS,"onTransitionCancel"),Bn(Up,"onTransitionEnd"),Wn("onMouseEnter",["mouseout","mouseover"]),Wn("onMouseLeave",["mouseout","mouseover"]),Wn("onPointerEnter",["pointerout","pointerover"]),Wn("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function n_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,z=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(Q){Hu(Q)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,z=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(Q){Hu(Q)}h.currentTarget=null,d=I}}}}function Ot(e,i){var a=i[Jr];a===void 0&&(a=i[Jr]=new Set);var l=e+"__bubble";a.has(l)||(i_(i,e,2,!1),a.add(l))}function ud(e,i,a){var l=0;i&&(l|=4),i_(a,e,l,i)}var ic="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[ic]){e[ic]=!0,ru.forEach(function(a){a!=="selectionchange"&&(FS.has(a)||ud(a,!1,e),ud(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ic]||(i[ic]=!0,ud("selectionchange",!1,i))}}function i_(e,i,a,l){switch(I_(i)){case 2:var h=yA;break;case 8:h=_A;break;default:h=bd}a=h.bind(null,i,a,e),h=void 0,!bi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function hd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Xn(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue t}T=T.parentNode}}l=l.return}us(function(){var z=d,Q=Ao(a),X=[];t:{var B=Lp.get(e);if(B!==void 0){var j=fs,Et=e;switch(e){case"keypress":if(cs(a)===0)break t;case"keydown":case"keyup":j=ha;break;case"focusin":Et="focus",j=la;break;case"focusout":Et="blur",j=la;break;case"beforeblur":case"afterblur":j=la;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=ys;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=hr;break;case xp:case Pp:case kp:j=Ro;break;case Up:j=m;break;case"scroll":case"scrollend":j=ms;break;case"wheel":j=S;break;case"copy":case"cut":case"paste":j=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Co;break;case"toggle":case"beforetoggle":j=q}var gt=(i&4)!==0,Xt=!gt&&(e==="scroll"||e==="scrollend"),x=gt?B!==null?B+"Capture":null:B;gt=[];for(var M=z,U;M!==null;){var Y=M;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||x===null||(Y=ur(M,x),Y!=null&&gt.push(ol(M,Y,U))),Xt)break;M=M.return}0<gt.length&&(B=new j(B,Et,null,a,Q),X.push({event:B,listeners:gt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",B&&a!==So&&(Et=a.relatedTarget||a.fromElement)&&(Xn(Et)||Et[Ei]))break t;if((j||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,j?(Et=a.relatedTarget||a.toElement,j=z,Et=Et?Xn(Et):null,Et!==null&&(Xt=u(Et),gt=Et.tag,Et!==Xt||gt!==5&&gt!==27&&gt!==6)&&(Et=null)):(j=null,Et=z),j!==Et)){if(gt=ys,Y="onMouseLeave",x="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Co,Y="onPointerLeave",x="onPointerEnter",M="pointer"),Xt=j==null?B:ir(j),U=Et==null?B:ir(Et),B=new gt(Y,M+"leave",j,a,Q),B.target=Xt,B.relatedTarget=U,Y=null,Xn(Q)===z&&(gt=new gt(x,M+"enter",Et,a,Q),gt.target=U,gt.relatedTarget=Xt,Y=gt),Xt=Y,j&&Et)e:{for(gt=j,x=Et,M=0,U=gt;U;U=ka(U))M++;for(U=0,Y=x;Y;Y=ka(Y))U++;for(;0<M-U;)gt=ka(gt),M--;for(;0<U-M;)x=ka(x),U--;for(;M--;){if(gt===x||x!==null&&gt===x.alternate)break e;gt=ka(gt),x=ka(x)}gt=null}else gt=null;j!==null&&r_(X,B,j,gt,!1),Et!==null&&Xt!==null&&r_(X,Xt,Et,gt,!0)}}t:{if(B=z?ir(z):window,j=B.nodeName&&B.nodeName.toLowerCase(),j==="select"||j==="input"&&B.type==="file")var lt=Ap;else if(Tp(B))if(bp)lt=iS;else{lt=eS;var Ct=tS}else j=B.nodeName,!j||j.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&sa(z.elementType)&&(lt=Ap):lt=nS;if(lt&&(lt=lt(e,z))){Sp(X,lt,a,Q);break t}Ct&&Ct(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&vo(B,"number",B.value)}switch(Ct=z?ir(z):window,e){case"focusin":(Tp(Ct)||Ct.contentEditable==="true")&&(fa=Ct,jh=z,Vo=null);break;case"focusout":Vo=jh=fa=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Mp(X,a,Q);break;case"selectionchange":if(sS)break;case"keydown":case"keyup":Mp(X,a,Q)}var ft;if(At)t:{switch(e){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else zn?Un(e,a)&&(yt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(me&&a.locale!=="ko"&&(zn||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&zn&&(ft=cu()):(An=Q,Zt="value"in An?An.value:An.textContent,zn=!0)),Ct=rc(z,yt),0<Ct.length&&(yt=new Io(yt,e,null,a,Q),X.push({event:yt,listeners:Ct}),ft?yt.data=ft:(ft=Ln(a),ft!==null&&(yt.data=ft)))),(ft=qt?Do(e,a):Z0(e,a))&&(yt=rc(z,"onBeforeInput"),0<yt.length&&(Ct=new Io("onBeforeInput","beforeinput",null,a,Q),X.push({event:Ct,listeners:yt}),Ct.data=ft)),jS(X,e,z,a,Q)}n_(X,i)})}function ol(e,i,a){return{instance:e,listener:i,currentTarget:a}}function rc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ur(e,a),h!=null&&l.unshift(ol(e,h,d)),h=ur(e,i),h!=null&&l.push(ol(e,h,d))),e.tag===3)return l;e=e.return}return[]}function ka(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function r_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,z=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||z===null||(I=z,h?(z=ur(a,d),z!=null&&v.unshift(ol(a,z,I))):h||(z=ur(a,d),z!=null&&v.push(ol(a,z,I)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var GS=/\r\n?/g,QS=/\u0000|\uFFFD/g;function s_(e){return(typeof e=="string"?e:""+e).replace(GS,`
`).replace(QS,"")}function a_(e,i){return i=s_(i),s_(e)===i}function sc(){}function Yt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Sn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Sn(e,""+l);break;case"className":rs(e,"class",l);break;case"tabIndex":rs(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":rs(e,a,l);break;case"style":To(e,l,d);break;case"data":if(i!=="object"){rs(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=kn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=kn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=sc);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=kn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),is(e,"popover",l);break;case"xlinkActuate":Tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":is(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ou.get(a)||a,is(e,a,l))}}function fd(e,i,a,l,h,d){switch(a){case"style":To(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Sn(e,l):(typeof l=="number"||typeof l=="bigint")&&Sn(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!es.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[ke]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):is(e,a,l)}}}function ze(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),l&&Yt(e,i,"src",a.src,a,null);return;case"input":Ot("invalid",e);var T=d=v=h=null,I=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":I=Q;break;case"defaultChecked":z=Q;break;case"value":d=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Yt(e,i,l,Q,a,null)}}_o(e,d,T,I,z,v,h,!1),ar(e);return;case"select":Ot("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Yt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?or(e,!!l,i,!1):a!=null&&or(e,!!l,a,!0);return;case"textarea":Ot("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Yt(e,i,v,T,a,null)}au(e,l,h,d),ar(e);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(e,i,I,l,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<al.length;l++)Ot(al[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,z,l,a,null)}return;default:if(sa(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&fd(e,i,Q,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Yt(e,i,T,l,a,null))}function KS(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,z=null,Q=null;for(j in a){var X=a[j];if(a.hasOwnProperty(j)&&X!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":I=X;default:l.hasOwnProperty(j)||Yt(e,i,j,null,l,X)}}for(var B in l){var j=l[B];if(X=a[B],l.hasOwnProperty(B)&&(j!=null||X!=null))switch(B){case"type":d=j;break;case"name":h=j;break;case"checked":z=j;break;case"defaultChecked":Q=j;break;case"value":v=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:j!==X&&Yt(e,i,B,j,l,X)}}yo(e,v,T,I,z,Q,d,h);return;case"select":j=v=T=B=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":j=I;default:l.hasOwnProperty(d)||Yt(e,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Yt(e,i,h,d,l,I)}i=T,a=v,l=j,B!=null?or(e,!!a,B,!1):!!l!=!!a&&(i!=null?or(e,!!a,i,!0):or(e,!!a,a?[]:"",!1));return;case"textarea":j=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,v,h,l,d)}su(e,B,j);return;case"option":for(var Et in a)if(B=a[Et],a.hasOwnProperty(Et)&&B!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":e.selected=!1;break;default:Yt(e,i,Et,null,l,B)}for(I in l)if(B=l[I],j=a[I],l.hasOwnProperty(I)&&B!==j&&(B!=null||j!=null))switch(I){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(e,i,I,B,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)B=a[gt],a.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&Yt(e,i,gt,null,l,B);for(z in l)if(B=l[z],j=a[z],l.hasOwnProperty(z)&&B!==j&&(B!=null||j!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Yt(e,i,z,B,l,j)}return;default:if(sa(i)){for(var Xt in a)B=a[Xt],a.hasOwnProperty(Xt)&&B!==void 0&&!l.hasOwnProperty(Xt)&&fd(e,i,Xt,void 0,l,B);for(Q in l)B=l[Q],j=a[Q],!l.hasOwnProperty(Q)||B===j||B===void 0&&j===void 0||fd(e,i,Q,B,l,j);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Yt(e,i,x,null,l,B);for(X in l)B=l[X],j=a[X],!l.hasOwnProperty(X)||B===j||B==null&&j==null||Yt(e,i,X,B,l,j)}var dd=null,md=null;function ac(e){return e.nodeType===9?e:e.ownerDocument}function o_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function pd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gd=null;function YS(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,XS=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,$S=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(e){return c_.resolve(null).then(e).catch(ZS)}:u_;function ZS(e){setTimeout(function(){throw e})}function Ir(e){return e==="head"}function h_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&ll(v.documentElement),a&2&&ll(v.body),a&4)for(a=v.head,ll(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[nr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),gl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);gl(i)}function yd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yd(a),ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function WS(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[nr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function JS(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=qn(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function tA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function qn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var vd=null;function f_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function d_(e,i,a){switch(i=ac(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ll(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ta(e)}var Nn=new Map,m_=new Set;function oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Li=st.d;st.d={f:eA,r:nA,D:iA,C:rA,L:sA,m:aA,X:lA,S:oA,M:uA};function eA(){var e=Li.f(),i=Wu();return e||i}function nA(e){var i=$n(e);i!==null&&i.tag===5&&i.type==="form"?xg(i):Li.r(e)}var Ua=typeof document>"u"?null:document;function p_(e,i,a){var l=Ua;if(l&&typeof i=="string"&&i){var h=Ne(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),m_.has(h)||(m_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),ze(i,"link",e),de(i),l.head.appendChild(i)))}}function iA(e){Li.D(e),p_("dns-prefetch",e,null)}function rA(e,i){Li.C(e,i),p_("preconnect",e,i)}function sA(e,i,a){Li.L(e,i,a);var l=Ua;if(l&&e&&i){var h='link[rel="preload"][as="'+Ne(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ne(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ne(a.imageSizes)+'"]')):h+='[href="'+Ne(e)+'"]';var d=h;switch(i){case"style":d=La(e);break;case"script":d=za(e)}Nn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Nn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(ul(d))||i==="script"&&l.querySelector(cl(d))||(i=l.createElement("link"),ze(i,"link",e),de(i),l.head.appendChild(i)))}}function aA(e,i){Li.m(e,i);var a=Ua;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ne(l)+'"][href="'+Ne(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=za(e)}if(!Nn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Nn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cl(d)))return}l=a.createElement("link"),ze(l,"link",e),de(l),a.head.appendChild(l)}}}function oA(e,i,a){Li.S(e,i,a);var l=Ua;if(l&&e){var h=rr(l).hoistableStyles,d=La(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(ul(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Nn.get(d))&&Ed(e,a);var I=v=l.createElement("link");de(I),ze(I,"link",e),I._p=new Promise(function(z,Q){I.onload=z,I.onerror=Q}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,lc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function lA(e,i){Li.X(e,i);var a=Ua;if(a&&e){var l=rr(a).hoistableScripts,h=za(e),d=l.get(h);d||(d=a.querySelector(cl(h)),d||(e=E({src:e,async:!0},i),(i=Nn.get(h))&&Td(e,i),d=a.createElement("script"),de(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function uA(e,i){Li.M(e,i);var a=Ua;if(a&&e){var l=rr(a).hoistableScripts,h=za(e),d=l.get(h);d||(d=a.querySelector(cl(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Nn.get(h))&&Td(e,i),d=a.createElement("script"),de(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function g_(e,i,a,l){var h=(h=vt.current)?oc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=La(a.href),a=rr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=La(a.href);var d=rr(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(ul(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Nn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(e,a),d||cA(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=za(a),a=rr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function La(e){return'href="'+Ne(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function y_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function cA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),ze(i,"link",a),de(i),e.head.appendChild(i))}function za(e){return'[src="'+Ne(e)+'"]'}function cl(e){return"script[async]"+e}function __(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Ne(a.href)+'"]');if(l)return i.instance=l,de(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),de(l),ze(l,"style",h),lc(l,a.precedence,e),i.instance=l;case"stylesheet":h=La(a.href);var d=e.querySelector(ul(h));if(d)return i.state.loading|=4,i.instance=d,de(d),d;l=y_(a),(h=Nn.get(h))&&Ed(l,h),d=(e.ownerDocument||e).createElement("link"),de(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),ze(d,"link",l),i.state.loading|=4,lc(d,a.precedence,e),i.instance=d;case"script":return d=za(a.src),(h=e.querySelector(cl(d)))?(i.instance=h,de(h),h):(l=a,(h=Nn.get(d))&&(l=E({},a),Td(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),de(h),ze(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,lc(l,a.precedence,e));return i.instance}function lc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Ed(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Td(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var uc=null;function v_(e,i,a){if(uc===null){var l=new Map,h=uc=new Map;h.set(a,l)}else h=uc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[nr]||d[fe]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function E_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function hA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function T_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var hl=null;function fA(){}function dA(e,i,a){if(hl===null)throw Error(s(475));var l=hl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=La(a.href),d=e.querySelector(ul(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=cc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,de(d);return}d=e.ownerDocument||e,a=y_(a),(h=Nn.get(h))&&Ed(a,h),d=d.createElement("link"),de(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),ze(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=cc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function mA(){if(hl===null)throw Error(s(475));var e=hl;return e.stylesheets&&e.count===0&&Sd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Sd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function cc(){if(this.count--,this.count===0){if(this.stylesheets)Sd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function Sd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,i.forEach(pA,e),hc=null,cc.call(e))}function pA(e,i){if(!(i.state.loading&4)){var a=hc.get(e);if(a)var l=a.get(null);else{a=new Map,hc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var fl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function gA(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Js(0),this.hiddenUpdates=Js(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function S_(e,i,a,l,h,d,v,T,I,z,Q,X){return e=new gA(e,i,a,v,T,I,z,X),i=1,d===!0&&(i|=24),d=fn(3,null,null,i),e.current=d,d.stateNode=e,i=nf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},of(d),e}function A_(e){return e?(e=ga,e):ga}function b_(e,i,a,l,h,d){h=A_(h),l.context===null?l.context=h:l.pendingContext=h,l=mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=pr(e,l,i),a!==null&&(yn(a,e,i),qo(a,e,i))}function R_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Ad(e,i){R_(e,i),(e=e.alternate)&&R_(e,i)}function w_(e){if(e.tag===13){var i=pa(e,67108864);i!==null&&yn(i,e,67108864),Ad(e,67108864)}}var fc=!0;function yA(e,i,a,l){var h=G.T;G.T=null;var d=st.p;try{st.p=2,bd(e,i,a,l)}finally{st.p=d,G.T=h}}function _A(e,i,a,l){var h=G.T;G.T=null;var d=st.p;try{st.p=8,bd(e,i,a,l)}finally{st.p=d,G.T=h}}function bd(e,i,a,l){if(fc){var h=Rd(l);if(h===null)hd(e,i,l,dc,a),C_(e,l);else if(EA(h,e,i,a,l))l.stopPropagation();else if(C_(e,l),i&4&&-1<vA.indexOf(e)){for(;h!==null;){var d=$n(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Ze(v);T.entanglements[1]|=I,v&=~I}ai(d),(Ht&6)===0&&($u=rn()+500,sl(0))}}break;case 13:T=pa(d,2),T!==null&&yn(T,d,2),Wu(),Ad(d,2)}if(d=Rd(l),d===null&&hd(e,i,l,dc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else hd(e,i,l,null,a)}}function Rd(e){return e=Ao(e),wd(e)}var dc=null;function wd(e){if(dc=null,e=Xn(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return dc=e,null}function I_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tu()){case Se:return 2;case De:return 8;case _i:case Nh:return 32;case fo:return 268435456;default:return 32}default:return 32}}var Id=!1,Cr=null,Dr=null,Nr=null,dl=new Map,ml=new Map,Or=[],vA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(e,i){switch(e){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(i.pointerId)}}function pl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=$n(i),i!==null&&w_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function EA(e,i,a,l,h){switch(i){case"focusin":return Cr=pl(Cr,e,i,a,l,h),!0;case"dragenter":return Dr=pl(Dr,e,i,a,l,h),!0;case"mouseover":return Nr=pl(Nr,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return dl.set(d,pl(dl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ml.set(d,pl(ml.get(d)||null,e,i,a,l,h)),!0}return!1}function D_(e){var i=Xn(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Vh(e.priority,function(){if(a.tag===13){var l=gn();l=po(l);var h=pa(a,l);h!==null&&yn(h,a,l),Ad(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Rd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);So=l,a.target.dispatchEvent(l),So=null}else return i=$n(a),i!==null&&w_(i),e.blockedOn=a,!1;i.shift()}return!0}function N_(e,i,a){mc(e)&&a.delete(i)}function TA(){Id=!1,Cr!==null&&mc(Cr)&&(Cr=null),Dr!==null&&mc(Dr)&&(Dr=null),Nr!==null&&mc(Nr)&&(Nr=null),dl.forEach(N_),ml.forEach(N_)}function pc(e,i){e.blockedOn===i&&(e.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,TA)))}var gc=null;function O_(e){gc!==e&&(gc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){gc===e&&(gc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(wd(l||a)===null)continue;break}var d=$n(a);d!==null&&(e.splice(i,3),i-=3,wf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function gl(e){function i(I){return pc(I,e)}Cr!==null&&pc(Cr,e),Dr!==null&&pc(Dr,e),Nr!==null&&pc(Nr,e),dl.forEach(i),ml.forEach(i);for(var a=0;a<Or.length;a++){var l=Or[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)D_(a),a.blockedOn===null&&Or.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[ke]||null;if(typeof d=="function")v||O_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[ke]||null)T=v.formAction;else if(wd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),O_(a)}}}function Cd(e){this._internalRoot=e}yc.prototype.render=Cd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=gn();b_(a,l,e,i,null,null)},yc.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;b_(e.current,2,null,e,null,null),Wu(),i[Ei]=null}};function yc(e){this._internalRoot=e}yc.prototype.unstable_scheduleHydration=function(e){if(e){var i=vi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Or.length&&i!==0&&i<Or[a].priority;a++);Or.splice(a,0,e),a===0&&D_(e)}};var M_=t.version;if(M_!=="19.1.1")throw Error(s(527,M_,"19.1.1"));st.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var SA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{$i=_c.inject(SA),He=_c}catch{}}return _l.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Yg,d=Xg,v=$g,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=S_(e,1,!1,null,null,a,l,h,d,v,T,null),e[Ei]=i.current,cd(e),new Cd(i)},_l.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Yg,v=Xg,T=$g,I=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=S_(e,1,!0,i,a??null,l,h,d,v,T,I,z),i.context=A_(null),a=i.current,l=gn(),l=po(l),h=mr(l),h.callback=null,pr(a,h,l),a=l,i.current.lanes=a,he(i,a),ai(i),e[Ei]=i.current,cd(e),new yc(i)},_l.version="19.1.1",_l}var q_;function MA(){if(q_)return Od.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=OA(),Od.exports}var VA=MA();const xA=()=>{};var H_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},PA=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,y=o+2<r.length,g=y?r[o+2]:0,E=u>>2,A=(u&3)<<4|p>>4;let R=(p&15)<<2|g>>6,k=g&63;y||(k=64,f||(R=64)),s.push(n[E],n[A],n[R],n[k])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(_E(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):PA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||A==null)throw new kA;const R=u<<2|p>>4;if(s.push(R),g!==64){const k=p<<4&240|g>>2;if(s.push(k),A!==64){const F=g<<6&192|A;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class kA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UA=function(r){const t=_E(r);return vE.encodeByteArray(t,!0)},Lc=function(r){return UA(r).replace(/\./g,"")},EE=function(r){try{return vE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=()=>LA().__FIREBASE_DEFAULTS__,BA=()=>{if(typeof process>"u"||typeof H_>"u")return;const r=H_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},jA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&EE(r[1]);return t&&JSON.parse(t)},oh=()=>{try{return xA()||zA()||BA()||jA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},TE=r=>oh()?.emulatorHosts?.[r],qA=r=>{const t=TE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},SE=()=>oh()?.config,AE=r=>oh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Lc(JSON.stringify(n)),Lc(JSON.stringify(f)),""].join(".")}const bl={};function GA(){const r={prod:[],emulator:[]};for(const t of Object.keys(bl))bl[t]?r.emulator.push(t):r.prod.push(t);return r}function QA(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let F_=!1;function RE(r,t){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||bl[r]===t||bl[r]||F_)return;bl[r]=t;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=GA().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function p(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function y(R,k){R.setAttribute("width","24"),R.setAttribute("id",k),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{F_=!0,f()},R}function E(R,k){R.setAttribute("id",k),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function A(){const R=QA(s),k=n("text"),F=document.getElementById(k)||document.createElement("span"),Z=n("learnmore"),H=document.getElementById(Z)||document.createElement("a"),et=n("preprendIcon"),tt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const rt=R.element;p(rt),E(H,Z);const wt=g();y(tt,et),rt.append(tt,F,H,wt),document.body.appendChild(rt)}u?(F.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function YA(){const r=oh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $A(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ZA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WA(){const r=$e();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function JA(){return!YA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t1(){try{return typeof indexedDB=="object"}catch{return!1}}function e1(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="FirebaseError";class Yi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=n1,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?i1(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new Yi(o,p,s)}}function i1(r,t){return r.replace(r1,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const r1=/\{\$([^}]+)}/g;function s1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function zs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(G_(u)&&G_(f)){if(!zs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function G_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function a1(r,t){const n=new o1(r,t);return n.subscribe.bind(n)}class o1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");l1(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Pd),o.error===void 0&&(o.error=Pd),o.complete===void 0&&(o.complete=Pd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Pd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(r){return r&&r._delegate?r._delegate:r}class Bs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new HA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(h1(t))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=xs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xs){return this.instances.has(t)}getOptions(t=xs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:c1(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=xs){return this.component?this.component.multipleInstances?t:xs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c1(r){return r===xs?void 0:r}function h1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new u1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const d1={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},m1=Vt.INFO,p1={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},g1=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=p1[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rm{constructor(t){this.name=t,this._logLevel=m1,this._logHandler=g1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?d1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const y1=(r,t)=>t.some(n=>r instanceof n);let Q_,K_;function _1(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v1(){return K_||(K_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wE=new WeakMap,Xd=new WeakMap,IE=new WeakMap,kd=new WeakMap,wm=new WeakMap;function E1(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Lr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&wE.set(n,r)}).catch(()=>{}),wm.set(t,r),t}function T1(r){if(Xd.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Xd.set(r,t)}let $d={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Xd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||IE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function S1(r){$d=r($d)}function A1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Ud(this),t,...n);return IE.set(s,t.sort?t.sort():[t]),Lr(s)}:v1().includes(r)?function(...t){return r.apply(Ud(this),t),Lr(wE.get(this))}:function(...t){return Lr(r.apply(Ud(this),t))}}function b1(r){return typeof r=="function"?A1(r):(r instanceof IDBTransaction&&T1(r),y1(r,_1())?new Proxy(r,$d):r)}function Lr(r){if(r instanceof IDBRequest)return E1(r);if(kd.has(r))return kd.get(r);const t=b1(r);return t!==r&&(kd.set(r,t),wm.set(t,r)),t}const Ud=r=>wm.get(r);function R1(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),p=Lr(f);return s&&f.addEventListener("upgradeneeded",y=>{s(Lr(f.result),y.oldVersion,y.newVersion,Lr(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const w1=["get","getKey","getAll","getAllKeys","count"],I1=["put","add","delete","clear"],Ld=new Map;function Y_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=I1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||w1.includes(n)))return;const u=async function(f,...p){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&y.done]))[0]};return Ld.set(t,u),u}S1(r=>({...r,get:(t,n,s)=>Y_(t,n)||r.get(t,n,s),has:(t,n)=>!!Y_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function D1(r){return r.getComponent()?.type==="VERSION"}const Zd="@firebase/app",X_="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Rm("@firebase/app"),N1="@firebase/app-compat",O1="@firebase/analytics-compat",M1="@firebase/analytics",V1="@firebase/app-check-compat",x1="@firebase/app-check",P1="@firebase/auth",k1="@firebase/auth-compat",U1="@firebase/database",L1="@firebase/data-connect",z1="@firebase/database-compat",B1="@firebase/functions",j1="@firebase/functions-compat",q1="@firebase/installations",H1="@firebase/installations-compat",F1="@firebase/messaging",G1="@firebase/messaging-compat",Q1="@firebase/performance",K1="@firebase/performance-compat",Y1="@firebase/remote-config",X1="@firebase/remote-config-compat",$1="@firebase/storage",Z1="@firebase/storage-compat",W1="@firebase/firestore",J1="@firebase/ai",tb="@firebase/firestore-compat",eb="firebase",nb="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="[DEFAULT]",ib={[Zd]:"fire-core",[N1]:"fire-core-compat",[M1]:"fire-analytics",[O1]:"fire-analytics-compat",[x1]:"fire-app-check",[V1]:"fire-app-check-compat",[P1]:"fire-auth",[k1]:"fire-auth-compat",[U1]:"fire-rtdb",[L1]:"fire-data-connect",[z1]:"fire-rtdb-compat",[B1]:"fire-fn",[j1]:"fire-fn-compat",[q1]:"fire-iid",[H1]:"fire-iid-compat",[F1]:"fire-fcm",[G1]:"fire-fcm-compat",[Q1]:"fire-perf",[K1]:"fire-perf-compat",[Y1]:"fire-rc",[X1]:"fire-rc-compat",[$1]:"fire-gcs",[Z1]:"fire-gcs-compat",[W1]:"fire-fst",[tb]:"fire-fst-compat",[J1]:"fire-vertex","fire-js":"fire-js",[eb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Map,rb=new Map,Jd=new Map;function $_(r,t){try{r.container.addComponent(t)}catch(n){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ya(r){const t=r.name;if(Jd.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;Jd.set(t,r);for(const n of zc.values())$_(n,r);for(const n of rb.values())$_(n,r);return!0}function Im(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Hn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new jl("app","Firebase",sb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=nb;function CE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Wd,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw zr.create("bad-app-name",{appName:String(o)});if(n||(n=SE()),!n)throw zr.create("no-options");const u=zc.get(o);if(u){if(zs(n,u.options)&&zs(s,u.config))return u;throw zr.create("duplicate-app",{appName:o})}const f=new f1(o);for(const y of Jd.values())f.addComponent(y);const p=new ab(n,s,f);return zc.set(o,p),p}function DE(r=Wd){const t=zc.get(r);if(!t&&r===Wd&&SE())return CE();if(!t)throw zr.create("no-app",{appName:r});return t}function Br(r,t,n){let s=ib[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(f.join(" "));return}Ya(new Bs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="firebase-heartbeat-database",lb=1,Ol="firebase-heartbeat-store";let zd=null;function NE(){return zd||(zd=R1(ob,lb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ol)}catch(n){console.warn(n)}}}}).catch(r=>{throw zr.create("idb-open",{originalErrorMessage:r.message})})),zd}async function ub(r){try{const n=(await NE()).transaction(Ol),s=await n.objectStore(Ol).get(OE(r));return await n.done,s}catch(t){if(t instanceof Yi)Hi.warn(t.message);else{const n=zr.create("idb-get",{originalErrorMessage:t?.message});Hi.warn(n.message)}}}async function Z_(r,t){try{const s=(await NE()).transaction(Ol,"readwrite");await s.objectStore(Ol).put(t,OE(r)),await s.done}catch(n){if(n instanceof Yi)Hi.warn(n.message);else{const s=zr.create("idb-set",{originalErrorMessage:n?.message});Hi.warn(s.message)}}}function OE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=1024,hb=30;class fb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>hb){const o=pb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W_(),{heartbeatsToSend:n,unsentEntries:s}=db(this._heartbeatsCache.heartbeats),o=Lc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Hi.warn(t),""}}}function W_(){return new Date().toISOString().substring(0,10)}function db(r,t=cb){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),J_(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),J_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class mb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t1()?e1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ub(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function J_(r){return Lc(JSON.stringify({version:2,heartbeats:r})).length}function pb(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(r){Ya(new Bs("platform-logger",t=>new C1(t),"PRIVATE")),Ya(new Bs("heartbeat",t=>new fb(t),"PRIVATE")),Br(Zd,X_,r),Br(Zd,X_,"esm2020"),Br("fire-js","")}gb("");var yb="firebase",_b="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(yb,_b,"app");function ME(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vb=ME,VE=new jl("auth","Firebase",ME());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new Rm("@firebase/auth");function Eb(r,...t){Bc.logLevel<=Vt.WARN&&Bc.warn(`Auth (${io}): ${r}`,...t)}function wc(r,...t){Bc.logLevel<=Vt.ERROR&&Bc.error(`Auth (${io}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(r,...t){throw Dm(r,...t)}function Gn(r,...t){return Dm(r,...t)}function Cm(r,t,n){const s={...vb(),[t]:n};return new jl("auth","Firebase",s).create(t,{appName:r.name})}function Us(r){return Cm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tb(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&mi(r,"argument-error"),Cm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dm(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return VE.create(r,...t)}function Tt(r,t,...n){if(!r)throw Dm(t,...n)}function Bi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw wc(t),new Error(t)}function Fi(r,t){r||Bi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(){return typeof self<"u"&&self.location?.href||""}function Sb(){return tv()==="http:"||tv()==="https:"}function tv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Sb()||$A()||"connection"in navigator)?navigator.onLine:!0}function bb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Fi(n>t,"Short delay should be less than long delay!"),this.isMobile=KA()||ZA()}get(){return Ab()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(r,t){Fi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ib=new Hl(3e4,6e4);function Om(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ro(r,t,n,s,o={}){return PE(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const p=ql({key:r.config.apiKey,...f}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const g={method:t,headers:y,...u};return XA()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&no(r.emulatorConfig.host)&&(g.credentials="include"),xE.fetch()(await kE(r,r.config.apiHost,n,p),g)})}async function PE(r,t,n){r._canInitEmulator=!1;const s={...Rb,...t};try{const o=new Db(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw vc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[y,g]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(r,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw vc(r,"email-already-in-use",f);if(y==="USER_DISABLED")throw vc(r,"user-disabled",f);const E=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Cm(r,E,g);mi(r,E)}}catch(o){if(o instanceof Yi)throw o;mi(r,"network-request-failed",{message:String(o)})}}async function Cb(r,t,n,s,o={}){const u=await ro(r,t,n,s,o);return"mfaPendingCredential"in u&&mi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function kE(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Nm(r.config,o):`${r.config.apiScheme}://${o}`;return wb.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class Db{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Gn(this.auth,"network-request-failed")),Ib.get())})}}function vc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Gn(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nb(r,t){return ro(r,"POST","/v1/accounts:delete",t)}async function jc(r,t){return ro(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Ob(r,t=!1){const n=nn(r),s=await n.getIdToken(t),o=Mm(s);Tt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Rl(Bd(o.auth_time)),issuedAtTime:Rl(Bd(o.iat)),expirationTime:Rl(Bd(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function Mm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const o=EE(n);return o?JSON.parse(o):(wc("Failed to decode base64 JWT payload"),null)}catch(o){return wc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ev(r){const t=Mm(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Yi&&Mb(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Mb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(r){const t=r.auth,n=await r.getIdToken(),s=await Ml(r,jc(t,{idToken:n}));Tt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?UE(o.providerUserInfo):[],f=Pb(r.providerData,u),p=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!f?.length,g=p?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new em(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function xb(r){const t=nn(r);await qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Pb(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function UE(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(r,t){const n=await PE(r,{},async()=>{const s=ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await kE(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return r.emulatorConfig&&no(r.emulatorConfig.host)&&(y.credentials="include"),xE.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ub(r,t){return ro(r,"POST","/v2/accounts:revokeToken",Om(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ev(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=ev(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await kb(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Fa;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(Tt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Tt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Fn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Vb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new em(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ml(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Ob(this,t)}reload(){return xb(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Fn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await qc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(Us(this.auth));const t=await this.getIdToken();return await Ml(this,Nb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:R,isAnonymous:k,providerData:F,stsTokenManager:Z}=n;Tt(A&&Z,t,"internal-error");const H=Fa.fromJSON(this.name,Z);Tt(typeof A=="string",t,"internal-error"),Vr(s,t.name),Vr(o,t.name),Tt(typeof R=="boolean",t,"internal-error"),Tt(typeof k=="boolean",t,"internal-error"),Vr(u,t.name),Vr(f,t.name),Vr(p,t.name),Vr(y,t.name),Vr(g,t.name),Vr(E,t.name);const et=new Fn({uid:A,auth:t,email:o,emailVerified:R,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:H,createdAt:g,lastLoginAt:E});return F&&Array.isArray(F)&&(et.providerData=F.map(tt=>({...tt}))),y&&(et._redirectEventId=y),et}static async _fromIdTokenResponse(t,n,s=!1){const o=new Fa;o.updateFromServerResponse(n);const u=new Fn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await qc(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Tt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?UE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new Fa;p.updateFromIdToken(s);const y=new Fn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new em(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=new Map;function ji(r){Fi(r instanceof Function,"Expected a class definition");let t=nv.get(r);return t?(Fi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,nv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}LE.type="NONE";const iv=LE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(r,t,n){return`firebase:${r}:${t}:${n}`}class Ga{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ic(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ic("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await jc(this.auth,{idToken:t}).catch(()=>{});return n?Fn._fromGetAccountInfoResponse(this.auth,n,t):null}return Fn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Ga(ji(iv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ji(iv);const f=Ic(s,t.config.apiKey,t.name);let p=null;for(const g of n)try{const E=await g._get(f);if(E){let A;if(typeof E=="string"){const R=await jc(t,{idToken:E}).catch(()=>{});if(!R)break;A=await Fn._fromGetAccountInfoResponse(t,R,E)}else A=Fn._fromJSON(t,E);g!==u&&(p=A),u=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Ga(u,t,s):(u=y[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Ga(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(FE(t))return"Blackberry";if(GE(t))return"Webos";if(BE(t))return"Safari";if((t.includes("chrome/")||jE(t))&&!t.includes("edge/"))return"Chrome";if(HE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function zE(r=$e()){return/firefox\//i.test(r)}function BE(r=$e()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jE(r=$e()){return/crios\//i.test(r)}function qE(r=$e()){return/iemobile/i.test(r)}function HE(r=$e()){return/android/i.test(r)}function FE(r=$e()){return/blackberry/i.test(r)}function GE(r=$e()){return/webos/i.test(r)}function Vm(r=$e()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Lb(r=$e()){return Vm(r)&&!!window.navigator?.standalone}function zb(){return WA()&&document.documentMode===10}function QE(r=$e()){return Vm(r)||HE(r)||GE(r)||FE(r)||/windows phone/i.test(r)||qE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(r,t=[]){let n;switch(r){case"Browser":n=rv($e());break;case"Worker":n=`${rv($e())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,p)=>{try{const y=t(u);f(y)}catch(y){p(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(r,t={}){return ro(r,"GET","/v2/passwordPolicy",Om(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=6;class Hb{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??qb,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sv(this),this.idTokenSubscription=new sv(this),this.beforeStateQueue=new Bb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ji(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await jc(this,{idToken:t}),s=await Fn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Hn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,p=await this.tryRedirectSignIn(t);(!u||u===f)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await qc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=bb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Hn(this.app))return Promise.reject(Us(this));const n=t?nn(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Hn(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await jb(this),n=new Hb(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Ub(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ji(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=t.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=t.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=KE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Eb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function lh(r){return nn(r)}class sv{constructor(t){this.auth=t,this.observer=null,this.addObserver=a1(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Gb(r){xm=r}function Qb(r){return xm.loadJS(r)}function Kb(){return xm.gapiScript}function Yb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(r,t){const n=Im(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(zs(u,t??{}))return o;mi(o,"already-initialized")}return n.initialize({options:t})}function $b(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ji);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function Zb(r,t,n){const s=lh(r);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=YE(t),{host:f,port:p}=Wb(t),y=p===null?"":`:${p}`,g={url:`${u}//${f}${y}/`},E=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(zs(g,s.config.emulator)&&zs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,no(f)?(bE(`${u}//${f}${y}`),RE("Auth",!0)):Jb()}function YE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Wb(r){const t=YE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:av(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:av(f)}}}function av(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Jb(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Bi("not implemented")}_getIdTokenResponse(t){return Bi("not implemented")}_linkToIdToken(t,n){return Bi("not implemented")}_getReauthenticationResolver(t){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(r,t){return Cb(r,"POST","/v1/accounts:signInWithIdp",Om(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="http://localhost";class js extends XE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new js(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new js(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Qa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Qa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Qa(t,n)}buildRequest(){const t={requestUri:tR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ql(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends Pm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Fl{constructor(){super("facebook.com")}static credential(t){return js._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return js._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return zi.credentialFromTaggedObject(t)}static credentialFromError(t){return zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return zi.credential(n,s)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Fl{constructor(){super("github.com")}static credential(t){return js._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Fl{constructor(){super("twitter.com")}static credential(t,n){return js._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return kr.credential(n,s)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Fn._fromIdTokenResponse(t,s,o),f=ov(s);return new Xa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=ov(s);return new Xa({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function ov(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends Yi{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Hc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Hc(t,n,s,o)}}function $E(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Hc._fromErrorAndOperation(r,u,t,s):u})}async function eR(r,t,n=!1){const s=await Ml(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Xa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(r,t,n=!1){const{auth:s}=r;if(Hn(s.app))return Promise.reject(Us(s));const o="reauthenticate";try{const u=await Ml(r,$E(s,o,t,r),n);Tt(u.idToken,s,"internal-error");const f=Mm(u.idToken);Tt(f,s,"internal-error");const{sub:p}=f;return Tt(r.uid===p,s,"user-mismatch"),Xa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&mi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(r,t,n=!1){if(Hn(r.app))return Promise.reject(Us(r));const s="signIn",o=await $E(r,s,t),u=await Xa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function rR(r,t,n,s){return nn(r).onIdTokenChanged(t,n,s)}function sR(r,t,n){return nn(r).beforeAuthStateChanged(t,n)}function aR(r,t,n,s){return nn(r).onAuthStateChanged(t,n,s)}function oR(r){return nn(r).signOut()}const Fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=1e3,uR=10;class WE extends ZE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,p,y)=>{this.notifyListeners(f,y)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);zb()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,uR):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},lR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}WE.type="LOCAL";const cR=WE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends ZE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}JE.type="SESSION";const tT=JE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new uh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async g=>g(n.origin,u)),y=await hR(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,y)=>{const g=km("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(R.data.response);break;default:clearTimeout(E),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function dR(r){li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function mR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pR(){return navigator?.serviceWorker?.controller||null}function gR(){return eT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="firebaseLocalStorageDb",yR=1,Gc="firebaseLocalStorage",iT="fbase_key";class Gl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ch(r,t){return r.transaction([Gc],t?"readwrite":"readonly").objectStore(Gc)}function _R(){const r=indexedDB.deleteDatabase(nT);return new Gl(r).toPromise()}function nm(){const r=indexedDB.open(nT,yR);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Gc,{keyPath:iT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Gc)?t(s):(s.close(),await _R(),t(await nm()))})})}async function lv(r,t,n){const s=ch(r,!0).put({[iT]:t,value:n});return new Gl(s).toPromise()}async function vR(r,t){const n=ch(r,!1).get(t),s=await new Gl(n).toPromise();return s===void 0?null:s.value}function uv(r,t){const n=ch(r,!0).delete(t);return new Gl(n).toPromise()}const ER=800,TR=3;class rT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>TR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(gR()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mR(),!this.activeServiceWorker)return;this.sender=new fR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||pR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await nm();return await lv(t,Fc,"1"),await uv(t,Fc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>lv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>vR(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>uv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=ch(o,!1).getAll();return new Gl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ER)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rT.type="LOCAL";const SR=rT;new Hl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(r,t){return t?ji(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends XE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Qa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function AR(r){return iR(r.auth,new Um(r),r.bypassAuthState)}function bR(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),nR(n,new Um(r),r.bypassAuthState)}async function RR(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),eR(n,new Um(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=t;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return AR;case"linkViaPopup":case"linkViaRedirect":return RR;case"reauthViaPopup":case"reauthViaRedirect":return bR;default:mi(this.auth,"internal-error")}}resolve(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new Hl(2e3,1e4);async function IR(r,t,n){if(Hn(r.app))return Promise.reject(Gn(r,"operation-not-supported-in-this-environment"));const s=lh(r);Tb(r,t,Pm);const o=sT(s,n);return new Ps(s,"signInViaPopup",t,o).executeNotNull()}class Ps extends aT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const t=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,wR.get())};t()}}Ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="pendingRedirect",Cc=new Map;class DR extends aT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Cc.get(this.auth._key());if(!t){try{const s=await NR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Cc.set(this.auth._key(),t)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NR(r,t){const n=VR(t),s=MR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function OR(r,t){Cc.set(r._key(),t)}function MR(r){return ji(r._redirectPersistence)}function VR(r){return Ic(CR,r.config.apiKey,r.name)}async function xR(r,t,n=!1){if(Hn(r.app))return Promise.reject(Us(r));const s=lh(r),o=sT(s,t),f=await new DR(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=600*1e3;class kR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!UR(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!oT(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Gn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=PR&&this.cachedEventUids.clear(),this.cachedEventUids.has(cv(t))}saveEventToCache(t){this.cachedEventUids.add(cv(t)),this.lastProcessedEventTime=Date.now()}}function cv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function oT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function UR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(r,t={}){return ro(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BR=/^https?/;async function jR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await LR(r);for(const n of t)try{if(qR(n))return}catch{}mi(r,"unauthorized-domain")}function qR(r){const t=tm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!BR.test(n))return!1;if(zR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=new Hl(3e4,6e4);function hv(){const r=li().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function FR(r){return new Promise((t,n)=>{function s(){hv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hv(),n(Gn(r,"network-request-failed"))},timeout:HR.get()})}if(li().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(li().gapi?.load)s();else{const o=Yb("iframefcb");return li()[o]=()=>{gapi.load?s():n(Gn(r,"network-request-failed"))},Qb(`${Kb()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Dc=null,t})}let Dc=null;function GR(r){return Dc=Dc||FR(r),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new Hl(5e3,15e3),KR="__/auth/iframe",YR="emulator/auth/iframe",XR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$R=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZR(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Nm(t,YR):`https://${r.config.authDomain}/${KR}`,s={apiKey:t.apiKey,appName:r.name,v:io},o=$R.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ql(s).slice(1)}`}async function WR(r){const t=await GR(r),n=li().gapi;return Tt(n,r,"internal-error"),t.open({where:document.body,url:ZR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XR,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Gn(r,"network-request-failed"),p=li().setTimeout(()=>{u(f)},QR.get());function y(){li().clearTimeout(p),o(s)}s.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tw=500,ew=600,nw="_blank",iw="http://localhost";class fv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rw(r,t,n,s=tw,o=ew){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y={...JR,width:s.toString(),height:o.toString(),top:u,left:f},g=$e().toLowerCase();n&&(p=jE(g)?nw:n),zE(g)&&(t=t||iw,y.scrollbars="yes");const E=Object.entries(y).reduce((R,[k,F])=>`${R}${k}=${F},`,"");if(Lb(g)&&p!=="_self")return sw(t||"",p),new fv(null);const A=window.open(t||"",p,E);Tt(A,r,"popup-blocked");try{A.focus()}catch{}return new fv(A)}function sw(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="__/auth/handler",ow="emulator/auth/handler",lw=encodeURIComponent("fac");async function dv(r,t,n,s,o,u){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:io,eventId:o};if(t instanceof Pm){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",s1(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(t instanceof Fl){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await r._getAppCheckToken(),g=y?`#${lw}=${encodeURIComponent(y)}`:"";return`${uw(r)}?${ql(p).slice(1)}${g}`}function uw({config:r}){return r.emulator?Nm(r,ow):`https://${r.authDomain}/${aw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="webStorageSupport";class cw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tT,this._completeRedirectFn=xR,this._overrideRedirectResult=OR}async _openPopup(t,n,s,o){Fi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await dv(t,n,s,tm(),o);return rw(t,u,km())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await dv(t,n,s,tm(),o);return dR(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Fi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await WR(t),s=new kR(t);return n.register("authEvent",o=>(Tt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(jd,{type:jd},o=>{const u=o?.[0]?.[jd];u!==void 0&&n(!!u),mi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jR(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return QE()||BE()||Vm()}}const hw=cw;var mv="@firebase/auth",pv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mw(r){Ya(new Bs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Tt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KE(r)},g=new Fb(s,o,u,y);return $b(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ya(new Bs("auth-internal",t=>{const n=lh(t.getProvider("auth").getImmediate());return(s=>new fw(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(mv,pv,dw(r)),Br(mv,pv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=300,gw=AE("authIdTokenMaxAge")||pw;let gv=null;const yw=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>gw)return;const o=n?.token;gv!==o&&(gv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _w(r=DE()){const t=Im(r,"auth");if(t.isInitialized())return t.getImmediate();const n=Xb(r,{popupRedirectResolver:hw,persistence:[SR,cR,tT]}),s=AE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=yw(u.toString());sR(n,f,()=>f(n.currentUser)),rR(n,p=>f(p))}}const o=TE("auth");return o&&Zb(n,`http://${o}`),n}function vw(){return document.getElementsByTagName("head")?.[0]??document}Gb({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Gn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",vw().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mw("Browser");var yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jr,lT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,b){function w(){}w.prototype=b.prototype,O.F=b.prototype,O.prototype=new w,O.prototype.constructor=O,O.D=function(V,N,P){for(var C=Array(arguments.length-2),le=2;le<arguments.length;le++)C[le-2]=arguments[le];return b.prototype[N].apply(V,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,b,w){w||(w=0);const V=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)V[N]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(N=0;N<16;++N)V[N]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=O.g[0],w=O.g[1],N=O.g[2];let P=O.g[3],C;C=b+(P^w&(N^P))+V[0]+3614090360&4294967295,b=w+(C<<7&4294967295|C>>>25),C=P+(N^b&(w^N))+V[1]+3905402710&4294967295,P=b+(C<<12&4294967295|C>>>20),C=N+(w^P&(b^w))+V[2]+606105819&4294967295,N=P+(C<<17&4294967295|C>>>15),C=w+(b^N&(P^b))+V[3]+3250441966&4294967295,w=N+(C<<22&4294967295|C>>>10),C=b+(P^w&(N^P))+V[4]+4118548399&4294967295,b=w+(C<<7&4294967295|C>>>25),C=P+(N^b&(w^N))+V[5]+1200080426&4294967295,P=b+(C<<12&4294967295|C>>>20),C=N+(w^P&(b^w))+V[6]+2821735955&4294967295,N=P+(C<<17&4294967295|C>>>15),C=w+(b^N&(P^b))+V[7]+4249261313&4294967295,w=N+(C<<22&4294967295|C>>>10),C=b+(P^w&(N^P))+V[8]+1770035416&4294967295,b=w+(C<<7&4294967295|C>>>25),C=P+(N^b&(w^N))+V[9]+2336552879&4294967295,P=b+(C<<12&4294967295|C>>>20),C=N+(w^P&(b^w))+V[10]+4294925233&4294967295,N=P+(C<<17&4294967295|C>>>15),C=w+(b^N&(P^b))+V[11]+2304563134&4294967295,w=N+(C<<22&4294967295|C>>>10),C=b+(P^w&(N^P))+V[12]+1804603682&4294967295,b=w+(C<<7&4294967295|C>>>25),C=P+(N^b&(w^N))+V[13]+4254626195&4294967295,P=b+(C<<12&4294967295|C>>>20),C=N+(w^P&(b^w))+V[14]+2792965006&4294967295,N=P+(C<<17&4294967295|C>>>15),C=w+(b^N&(P^b))+V[15]+1236535329&4294967295,w=N+(C<<22&4294967295|C>>>10),C=b+(N^P&(w^N))+V[1]+4129170786&4294967295,b=w+(C<<5&4294967295|C>>>27),C=P+(w^N&(b^w))+V[6]+3225465664&4294967295,P=b+(C<<9&4294967295|C>>>23),C=N+(b^w&(P^b))+V[11]+643717713&4294967295,N=P+(C<<14&4294967295|C>>>18),C=w+(P^b&(N^P))+V[0]+3921069994&4294967295,w=N+(C<<20&4294967295|C>>>12),C=b+(N^P&(w^N))+V[5]+3593408605&4294967295,b=w+(C<<5&4294967295|C>>>27),C=P+(w^N&(b^w))+V[10]+38016083&4294967295,P=b+(C<<9&4294967295|C>>>23),C=N+(b^w&(P^b))+V[15]+3634488961&4294967295,N=P+(C<<14&4294967295|C>>>18),C=w+(P^b&(N^P))+V[4]+3889429448&4294967295,w=N+(C<<20&4294967295|C>>>12),C=b+(N^P&(w^N))+V[9]+568446438&4294967295,b=w+(C<<5&4294967295|C>>>27),C=P+(w^N&(b^w))+V[14]+3275163606&4294967295,P=b+(C<<9&4294967295|C>>>23),C=N+(b^w&(P^b))+V[3]+4107603335&4294967295,N=P+(C<<14&4294967295|C>>>18),C=w+(P^b&(N^P))+V[8]+1163531501&4294967295,w=N+(C<<20&4294967295|C>>>12),C=b+(N^P&(w^N))+V[13]+2850285829&4294967295,b=w+(C<<5&4294967295|C>>>27),C=P+(w^N&(b^w))+V[2]+4243563512&4294967295,P=b+(C<<9&4294967295|C>>>23),C=N+(b^w&(P^b))+V[7]+1735328473&4294967295,N=P+(C<<14&4294967295|C>>>18),C=w+(P^b&(N^P))+V[12]+2368359562&4294967295,w=N+(C<<20&4294967295|C>>>12),C=b+(w^N^P)+V[5]+4294588738&4294967295,b=w+(C<<4&4294967295|C>>>28),C=P+(b^w^N)+V[8]+2272392833&4294967295,P=b+(C<<11&4294967295|C>>>21),C=N+(P^b^w)+V[11]+1839030562&4294967295,N=P+(C<<16&4294967295|C>>>16),C=w+(N^P^b)+V[14]+4259657740&4294967295,w=N+(C<<23&4294967295|C>>>9),C=b+(w^N^P)+V[1]+2763975236&4294967295,b=w+(C<<4&4294967295|C>>>28),C=P+(b^w^N)+V[4]+1272893353&4294967295,P=b+(C<<11&4294967295|C>>>21),C=N+(P^b^w)+V[7]+4139469664&4294967295,N=P+(C<<16&4294967295|C>>>16),C=w+(N^P^b)+V[10]+3200236656&4294967295,w=N+(C<<23&4294967295|C>>>9),C=b+(w^N^P)+V[13]+681279174&4294967295,b=w+(C<<4&4294967295|C>>>28),C=P+(b^w^N)+V[0]+3936430074&4294967295,P=b+(C<<11&4294967295|C>>>21),C=N+(P^b^w)+V[3]+3572445317&4294967295,N=P+(C<<16&4294967295|C>>>16),C=w+(N^P^b)+V[6]+76029189&4294967295,w=N+(C<<23&4294967295|C>>>9),C=b+(w^N^P)+V[9]+3654602809&4294967295,b=w+(C<<4&4294967295|C>>>28),C=P+(b^w^N)+V[12]+3873151461&4294967295,P=b+(C<<11&4294967295|C>>>21),C=N+(P^b^w)+V[15]+530742520&4294967295,N=P+(C<<16&4294967295|C>>>16),C=w+(N^P^b)+V[2]+3299628645&4294967295,w=N+(C<<23&4294967295|C>>>9),C=b+(N^(w|~P))+V[0]+4096336452&4294967295,b=w+(C<<6&4294967295|C>>>26),C=P+(w^(b|~N))+V[7]+1126891415&4294967295,P=b+(C<<10&4294967295|C>>>22),C=N+(b^(P|~w))+V[14]+2878612391&4294967295,N=P+(C<<15&4294967295|C>>>17),C=w+(P^(N|~b))+V[5]+4237533241&4294967295,w=N+(C<<21&4294967295|C>>>11),C=b+(N^(w|~P))+V[12]+1700485571&4294967295,b=w+(C<<6&4294967295|C>>>26),C=P+(w^(b|~N))+V[3]+2399980690&4294967295,P=b+(C<<10&4294967295|C>>>22),C=N+(b^(P|~w))+V[10]+4293915773&4294967295,N=P+(C<<15&4294967295|C>>>17),C=w+(P^(N|~b))+V[1]+2240044497&4294967295,w=N+(C<<21&4294967295|C>>>11),C=b+(N^(w|~P))+V[8]+1873313359&4294967295,b=w+(C<<6&4294967295|C>>>26),C=P+(w^(b|~N))+V[15]+4264355552&4294967295,P=b+(C<<10&4294967295|C>>>22),C=N+(b^(P|~w))+V[6]+2734768916&4294967295,N=P+(C<<15&4294967295|C>>>17),C=w+(P^(N|~b))+V[13]+1309151649&4294967295,w=N+(C<<21&4294967295|C>>>11),C=b+(N^(w|~P))+V[4]+4149444226&4294967295,b=w+(C<<6&4294967295|C>>>26),C=P+(w^(b|~N))+V[11]+3174756917&4294967295,P=b+(C<<10&4294967295|C>>>22),C=N+(b^(P|~w))+V[2]+718787259&4294967295,N=P+(C<<15&4294967295|C>>>17),C=w+(P^(N|~b))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+P&4294967295}s.prototype.v=function(O,b){b===void 0&&(b=O.length);const w=b-this.blockSize,V=this.C;let N=this.h,P=0;for(;P<b;){if(N==0)for(;P<=w;)o(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<b;)if(V[N++]=O.charCodeAt(P++),N==this.blockSize){o(this,V),N=0;break}}else for(;P<b;)if(V[N++]=O[P++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=b},s.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;b=this.o*8;for(var w=O.length-8;w<O.length;++w)O[w]=b&255,b/=256;for(this.v(O),O=Array(16),b=0,w=0;w<4;++w)for(let V=0;V<32;V+=8)O[b++]=this.g[w]>>>V&255;return O};function u(O,b){var w=p;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=b(O)}function f(O,b){this.h=b;const w=[];let V=!0;for(let N=O.length-1;N>=0;N--){const P=O[N]|0;V&&P==b||(w[N]=P,V=!1)}this.g=w}var p={};function y(O){return-128<=O&&O<128?u(O,function(b){return new f([b|0],b<0?-1:0)}):new f([O|0],O<0?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return A;if(O<0)return H(g(-O));const b=[];let w=1;for(let V=0;O>=w;V++)b[V]=O/w|0,w*=4294967296;return new f(b,0)}function E(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return H(E(O.substring(1),b));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=g(Math.pow(b,8));let V=A;for(let P=0;P<O.length;P+=8){var N=Math.min(8,O.length-P);const C=parseInt(O.substring(P,P+N),b);N<8?(N=g(Math.pow(b,N)),V=V.j(N).add(g(C))):(V=V.j(w),V=V.add(g(C)))}return V}var A=y(0),R=y(1),k=y(16777216);r=f.prototype,r.m=function(){if(Z(this))return-H(this).m();let O=0,b=1;for(let w=0;w<this.g.length;w++){const V=this.i(w);O+=(V>=0?V:4294967296+V)*b,b*=4294967296}return O},r.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(F(this))return"0";if(Z(this))return"-"+H(this).toString(O);const b=g(Math.pow(O,6));var w=this;let V="";for(;;){const N=wt(w,b).g;w=et(w,N.j(b));let P=((w.g.length>0?w.g[0]:w.h)>>>0).toString(O);if(w=N,F(w))return P+V;for(;P.length<6;)P="0"+P;V=P+V}},r.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function F(O){if(O.h!=0)return!1;for(let b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function Z(O){return O.h==-1}r.l=function(O){return O=et(this,O),Z(O)?-1:F(O)?0:1};function H(O){const b=O.g.length,w=[];for(let V=0;V<b;V++)w[V]=~O.g[V];return new f(w,~O.h).add(R)}r.abs=function(){return Z(this)?H(this):this},r.add=function(O){const b=Math.max(this.g.length,O.g.length),w=[];let V=0;for(let N=0;N<=b;N++){let P=V+(this.i(N)&65535)+(O.i(N)&65535),C=(P>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);V=C>>>16,P&=65535,C&=65535,w[N]=C<<16|P}return new f(w,w[w.length-1]&-2147483648?-1:0)};function et(O,b){return O.add(H(b))}r.j=function(O){if(F(this)||F(O))return A;if(Z(this))return Z(O)?H(this).j(H(O)):H(H(this).j(O));if(Z(O))return H(this.j(H(O)));if(this.l(k)<0&&O.l(k)<0)return g(this.m()*O.m());const b=this.g.length+O.g.length,w=[];for(var V=0;V<2*b;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<O.g.length;N++){const P=this.i(V)>>>16,C=this.i(V)&65535,le=O.i(N)>>>16,ee=O.i(N)&65535;w[2*V+2*N]+=C*ee,tt(w,2*V+2*N),w[2*V+2*N+1]+=P*ee,tt(w,2*V+2*N+1),w[2*V+2*N+1]+=C*le,tt(w,2*V+2*N+1),w[2*V+2*N+2]+=P*le,tt(w,2*V+2*N+2)}for(O=0;O<b;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=b;O<2*b;O++)w[O]=0;return new f(w,0)};function tt(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function rt(O,b){this.g=O,this.h=b}function wt(O,b){if(F(b))throw Error("division by zero");if(F(O))return new rt(A,A);if(Z(O))return b=wt(H(O),b),new rt(H(b.g),H(b.h));if(Z(b))return b=wt(O,H(b)),new rt(H(b.g),b.h);if(O.g.length>30){if(Z(O)||Z(b))throw Error("slowDivide_ only works with positive integers.");for(var w=R,V=b;V.l(O)<=0;)w=ct(w),V=ct(V);var N=Dt(w,1),P=Dt(V,1);for(V=Dt(V,2),w=Dt(w,2);!F(V);){var C=P.add(V);C.l(O)<=0&&(N=N.add(w),P=C),V=Dt(V,1),w=Dt(w,1)}return b=et(O,N.j(b)),new rt(N,b)}for(N=A;O.l(b)>=0;){for(w=Math.max(1,Math.floor(O.m()/b.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),P=g(w),C=P.j(b);Z(C)||C.l(O)>0;)w-=V,P=g(w),C=P.j(b);F(P)&&(P=R),N=N.add(P),O=et(O,C)}return new rt(N,O)}r.B=function(O){return wt(this,O).h},r.and=function(O){const b=Math.max(this.g.length,O.g.length),w=[];for(let V=0;V<b;V++)w[V]=this.i(V)&O.i(V);return new f(w,this.h&O.h)},r.or=function(O){const b=Math.max(this.g.length,O.g.length),w=[];for(let V=0;V<b;V++)w[V]=this.i(V)|O.i(V);return new f(w,this.h|O.h)},r.xor=function(O){const b=Math.max(this.g.length,O.g.length),w=[];for(let V=0;V<b;V++)w[V]=this.i(V)^O.i(V);return new f(w,this.h^O.h)};function ct(O){const b=O.g.length+1,w=[];for(let V=0;V<b;V++)w[V]=O.i(V)<<1|O.i(V-1)>>>31;return new f(w,O.h)}function Dt(O,b){const w=b>>5;b%=32;const V=O.g.length-w,N=[];for(let P=0;P<V;P++)N[P]=b>0?O.i(P+w)>>>b|O.i(P+w+1)<<32-b:O.i(P+w);return new f(N,O.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,lT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,jr=f}).apply(typeof yv<"u"?yv:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uT,El,cT,Nc,im,hT,fT,dT;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,m){if(m)t:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in _))break t;_=_[L]}c=c[c.length-1],S=_[c],m=m(S),m!=S&&m!=null&&t(_,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var _=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&_.push([S,m[S]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,_){return c.call.apply(c.bind,arguments)}function g(c,m,_){return g=y,g.apply(null,arguments)}function E(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,m){function _(){}_.prototype=m.prototype,c.Z=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(S,L,q){for(var nt=Array(arguments.length-2),At=2;At<arguments.length;At++)nt[At-2]=arguments[At];return m.prototype[L].apply(S,nt)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const m=c.length;if(m>0){const _=Array(m);for(let S=0;S<m;S++)_[S]=c[S];return _}return[]}function F(c,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=c.length||0;const q=L.length||0;c.length=_+q;for(let nt=0;nt<q;nt++)c[_+nt]=L[nt]}else c.push(L)}}class Z{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function H(c){f.setTimeout(()=>{throw c},0)}function et(){var c=O;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class tt{constructor(){this.h=this.g=null}add(m,_){const S=rt.get();S.set(m,_),this.h?this.h.next=S:this.g=S,this.h=S}}var rt=new Z(()=>new wt,c=>c.reset());class wt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,Dt=!1,O=new tt,b=()=>{const c=Promise.resolve(void 0);ct=()=>{c.then(w)}};function w(){for(var c;c=et();){try{c.h.call(c.g)}catch(_){H(_)}var m=rt;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}Dt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,m),f.removeEventListener("test",_,m)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function le(c,m){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}A(le,N),le.prototype.init=function(c,m){const _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(_=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),G=0;function st(c,m,_,S,L){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!S,this.ha=L,this.key=++G,this.da=this.fa=!1}function mt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Lt(c,m,_){for(const S in c)m.call(_,c[S],S,c)}function D(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function W(c){const m={};for(const _ in c)m[_]=c[_];return m}const at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(c,m){let _,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(_ in S)c[_]=S[_];for(let q=0;q<at.length;q++)_=at[q],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function dt(c){this.src=c,this.g={},this.h=0}dt.prototype.add=function(c,m,_,S,L){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const nt=vt(c,m,S,L);return nt>-1?(m=c[nt],_||(m.fa=!1)):(m=new st(m,this.src,q,!!S,L),m.fa=_,c.push(m)),m};function Mt(c,m){const _=m.type;if(_ in c.g){var S=c.g[_],L=Array.prototype.indexOf.call(S,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(S,L,1),q&&(mt(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function vt(c,m,_,S){for(let L=0;L<c.length;++L){const q=c[L];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==S)return L}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Gt={};function Mn(c,m,_,S,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Mn(c,m[q],_,S,L);return null}return _=tu(_),c&&c[ee]?c.J(m,_,p(S)?!!S.capture:!1,L):co(c,m,_,!1,S,L)}function co(c,m,_,S,L,q){if(!m)throw Error("Invalid event type");const nt=p(L)?!!L.capture:!!L;let At=ho(c);if(At||(c[Pe]=At=new dt(c)),_=At.add(m,_,S,nt,q),_.proxy)return _;if(S=Xs(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)P||(L=nt),L===void 0&&(L=!1),c.addEventListener(m.toString(),S,L);else if(c.attachEvent)c.attachEvent(Zs(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xs(){function c(_){return m.call(c.src,c.listener,_)}const m=Dh;return c}function $s(c,m,_,S,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)$s(c,m[q],_,S,L);else S=p(S)?!!S.capture:!!S,_=tu(_),c&&c[ee]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],_=vt(m,_,S,L),_>-1&&(mt(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=ho(c))&&(m=c.g[m.toString()],c=-1,m&&(c=vt(m,_,S,L)),(_=c>-1?m[c]:null)&&Zr(_))}function Zr(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ee])Mt(m.i,c);else{var _=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(_,S,c.capture):m.detachEvent?m.detachEvent(Zs(_),S):m.addListener&&m.removeListener&&m.removeListener(S),(_=ho(m))?(Mt(_,c),_.h==0&&(_.src=null,m[Pe]=null)):mt(c)}}}function Zs(c){return c in Gt?Gt[c]:Gt[c]="on"+c}function Dh(c,m){if(c.da)c=!0;else{m=new le(m,this);const _=c.listener,S=c.ha||c.src;c.fa&&Zr(c),c=_.call(S,m)}return c}function ho(c){return c=c[Pe],c instanceof dt?c:null}var rn="__closure_events_fn_"+(Math.random()*1e9>>>0);function tu(c){return typeof c=="function"?c:(c[rn]||(c[rn]=function(m){return c.handleEvent(m)}),c[rn])}function Se(){V.call(this),this.i=new dt(this),this.M=this,this.G=null}A(Se,V),Se.prototype[ee]=!0,Se.prototype.removeEventListener=function(c,m,_,S){$s(this,c,m,_,S)};function De(c,m){var _,S=c.G;if(S)for(_=[];S;S=S.G)_.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new N(m,c);else if(m instanceof N)m.target=m.target||c;else{var L=m;m=new N(S,c),it(m,L)}L=!0;let q,nt;if(_)for(nt=_.length-1;nt>=0;nt--)q=m.g=_[nt],L=_i(q,S,!0,m)&&L;if(q=m.g=c,L=_i(q,S,!0,m)&&L,L=_i(q,S,!1,m)&&L,_)for(nt=0;nt<_.length;nt++)q=m.g=_[nt],L=_i(q,S,!1,m)&&L}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const _=c.g[m];for(let S=0;S<_.length;S++)mt(_[S]);delete c.g[m],c.h--}}this.G=null},Se.prototype.J=function(c,m,_,S){return this.i.add(String(c),m,!1,_,S)},Se.prototype.K=function(c,m,_,S){return this.i.add(String(c),m,!0,_,S)};function _i(c,m,_,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==_){const At=nt.listener,Jt=nt.ha||nt.src;nt.fa&&Mt(c.i,nt),L=At.call(Jt,S)!==!1&&L}}return L&&!S.defaultPrevented}function Nh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function fo(c){c.g=Nh(()=>{c.g=null,c.i&&(c.i=!1,fo(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Oh extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:fo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(c){V.call(this),this.h=c,this.g={}}A(Wr,V);var $i=[];function He(c){Lt(c.g,function(m,_){this.g.hasOwnProperty(_)&&Zr(m)},c),c.g={}}Wr.prototype.N=function(){Wr.Z.N.call(this),He(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vn=f.JSON.stringify,Ze=f.JSON.parse,Mh=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function eu(){}function nu(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zi(){N.call(this,"d")}A(Zi,N);function Vn(){N.call(this,"c")}A(Vn,N);var En={},Wi=null;function Ws(){return Wi=Wi||new Se}En.Ia="serverreachability";function mo(c){N.call(this,En.Ia,c)}A(mo,N);function Ji(c){const m=Ws();De(m,new mo(m))}En.STAT_EVENT="statevent";function Js(c,m){N.call(this,En.STAT_EVENT,c),this.stat=m}A(Js,N);function he(c){const m=Ws();De(m,new Js(m,c))}En.Ja="timingevent";function iu(c,m){N.call(this,En.Ja,c),this.size=m}A(iu,N);function tr(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function er(){this.g=!0}er.prototype.ua=function(){this.g=!1};function po(c,m,_,S,L,q){c.info(function(){if(c.g)if(q){var nt="",At=q.split("&");for(let qt=0;qt<At.length;qt++){var Jt=At[qt].split("=");if(Jt.length>1){const me=Jt[0];Jt=Jt[1];const cn=me.split("_");nt=cn.length>=2&&cn[1]=="type"?nt+(me+"="+Jt+"&"):nt+(me+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+_+`
`+nt})}function go(c,m,_,S,L,q,nt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+_+`
`+q+" "+nt})}function vi(c,m,_,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yn(c,_)+(S?" "+S:"")})}function Vh(c,m){c.info(function(){return"TIMEOUT: "+m})}er.prototype.info=function(){};function Yn(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var _=q[c];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<S.length;nt++)S[nt]=""}}}}return vn(q)}catch{return m}}var fe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ke={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ei;function Jr(){}A(Jr,eu),Jr.prototype.g=function(){return new XMLHttpRequest},Ei=new Jr;function ts(c){return encodeURIComponent(String(c))}function xh(c){var m=1;c=c.split(":");const _=[];for(;m>0&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function xn(c,m,_,S){this.j=c,this.i=m,this.l=_,this.S=S||1,this.V=new Wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new nr}function nr(){this.i=null,this.g="",this.h=!1}var ta={},Xn={};function $n(c,m,_){c.M=1,c.A=Si(ie(m)),c.u=_,c.R=!0,ir(c,null)}function ir(c,m){c.F=Date.now(),es(c),c.B=ie(c.A);var _=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ou(_.i,"t",S),c.C=0,_=c.j.L,c.h=new nr,c.g=ca(c.j,_?m:null,!c.u),c.P>0&&(c.O=new Oh(g(c.Y,c,c.g),c.P)),m=c.V,_=c.g,S=c.ba;var L="readystatechange";Array.isArray(L)||(L&&($i[0]=L.toString()),L=$i);for(let q=0;q<L.length;q++){const nt=Mn(_,L[q],S||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=c.J?W(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),Ji(),po(c.i,c.v,c.B,c.l,c.S,c.u)}xn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Fe(c)==3?m.j():this.Y(c)},xn.prototype.Y=function(c){try{if(c==this.g)t:{const At=Fe(this.g),Jt=this.g.ya(),qt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||fs(this.g)))){this.K||At!=4||Jt==7||(Jt==8||qt<=0?Ji(3):Ji(2)),Wn(this);var m=this.g.ca();this.X=m;var _=rr(this);if(this.o=m==200,go(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var q=S;break e}}q=null}if(c=q)vi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ea(this,c);else{this.o=!1,this.m=3,he(12),Jn(this),ns(this);break t}}if(this.R){c=!0;let me;for(;!this.K&&this.C<_.length;)if(me=ru(this,_),me==Xn){At==4&&(this.m=4,he(14),c=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(me==ta){this.m=4,he(15),vi(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else vi(this.i,this.l,me,null),ea(this,me);if(de(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||_.length!=0||this.h.h||(this.m=1,he(16),c=!1),this.o=this.o&&c,!c)vi(this.i,this.l,_,"[Invalid Chunked Response]"),Jn(this),ns(this);else if(_.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),wo(nt),nt.P=!0,he(11))}}else vi(this.i,this.l,_,null),ea(this,_);At==4&&Jn(this),this.o&&!this.K&&(At==4?Io(this.j,this):(this.o=!1,es(this)))}else ds(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,he(12)):(this.m=0,he(13)),Jn(this),ns(this)}}}catch{}finally{}};function rr(c){if(!de(c))return c.g.la();const m=fs(c.g);if(m==="")return"";let _="";const S=m.length,L=Fe(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Jn(c),ns(c),"";c.h.i=new f.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,_+=c.h.i.decode(m[q],{stream:!(L&&q==S-1)});return m.length=0,c.h.g+=_,c.C=0,c.h.g}function de(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ru(c,m){var _=c.C,S=m.indexOf(`
`,_);return S==-1?Xn:(_=Number(m.substring(_,S)),isNaN(_)?ta:(S+=1,S+_>m.length?Xn:(m=m.slice(S,S+_),c.C=S+_,m)))}xn.prototype.cancel=function(){this.K=!0,Jn(this)};function es(c){c.T=Date.now()+c.H,Zn(c,c.H)}function Zn(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=tr(g(c.aa,c),m)}function Wn(c){c.D&&(f.clearTimeout(c.D),c.D=null)}xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Vh(this.i,this.B),this.M!=2&&(Ji(),he(17)),Jn(this),this.m=2,ns(this)):Zn(this,this.T-c)};function ns(c){c.j.I==0||c.K||Io(c.j,c)}function Jn(c){Wn(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,He(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function ea(c,m){try{var _=c.j;if(_.I!=0&&(_.g==c||ss(_.h,c))){if(!c.L&&ss(_.h,c)&&_.I==3){try{var S=_.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)ua(_),ti(_);else break t;Ro(_),he(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=tr(g(_.Va,_),6e3));Tn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ri(_,11)}else if((c.L||_.g==c)&&ua(_),!C(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const me=qt[0];if(!(me<=_.K))if(_.K=me,qt=qt[1],_.I==2)if(qt[0]=="c"){_.M=qt[1],_.ba=qt[2];const cn=qt[3];cn!=null&&(_.ka=cn,_.j.info("VER="+_.ka));const ei=qt[4];ei!=null&&(_.za=ei,_.j.info("SVER="+_.za));const Un=qt[5];Un!=null&&typeof Un=="number"&&Un>0&&(S=1.5*Un,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Ln=c.g;if(Ln){const zn=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zn){var q=S.h;q.g||zn.indexOf("spdy")==-1&&zn.indexOf("quic")==-1&&zn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(na(q,q.h),q.h=null))}if(S.G){const Do=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(S.wa=Do,Qt(S.J,S.G,Do))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var nt=c;if(S.na=gu(S,S.L?S.ba:null,S.W),nt.L){Ti(S.h,nt);var At=nt,Jt=S.O;Jt&&(At.H=Jt),At.D&&(Wn(At),es(At)),S.g=nt}else fu(S);_.i.length>0&&ys(_)}else qt[0]!="stop"&&qt[0]!="close"||Ri(_,7);else _.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Ri(_,7):ps(_):qt[0]!="noop"&&_.l&&_.l.qa(qt),_.A=0)}}Ji(4)}catch{}}var Ph=class{constructor(c,m){this.g=c,this.map=m}};function is(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tn(c){return c.h?1:c.g?c.g.size:0}function ss(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function na(c,m){c.g?c.g.add(m):c.h=m}function Ti(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}is.prototype.cancel=function(){if(this.i=ia(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ia(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.G);return m}return k(c.i)}var ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kh(c,m){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const S=c[_].indexOf("=");let L,q=null;S>=0?(L=c[_].substring(0,S),q=c[_].substring(S+1)):L=c[_],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Pn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof Pn?(this.l=c.l,sr(this,c.j),this.o=c.o,this.g=c.g,as(this,c.u),this.h=c.h,ar(this,lu(c.i)),this.m=c.m):c&&(m=String(c).match(ra))?(this.l=!1,sr(this,m[1]||"",!0),this.o=os(m[2]||""),this.g=os(m[3]||"",!0),as(this,m[4]),this.h=os(m[5]||"",!0),ar(this,m[6]||"",!0),this.m=os(m[7]||"")):(this.l=!1,this.i=new Sn(null,this.l))}Pn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Ne(m,_o,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ne(m,_o,!0),"@"),c.push(ts(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ne(_,_.charAt(0)=="/"?or:vo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ne(_,au)),c.join("")},Pn.prototype.resolve=function(c){const m=ie(this);let _=!!c.j;_?sr(m,c.j):_=!!c.o,_?m.o=c.o:_=!!c.g,_?m.g=c.g:_=c.u!=null;var S=c.h;if(_)as(m,c.u);else if(_=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let nt=0;nt<L.length;){const At=L[nt++];At=="."?S&&nt==L.length&&q.push(""):At==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&nt==L.length&&q.push("")):(q.push(At),S=!0)}S=q.join("/")}else S=L}return _?m.h=S:_=c.i.toString()!=="",_?ar(m,lu(c.i)):_=!!c.m,_&&(m.m=c.m),m};function ie(c){return new Pn(c)}function sr(c,m,_){c.j=_?os(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function as(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function ar(c,m,_){m instanceof Sn?(c.i=m,So(c.i,c.l)):(_||(m=Ne(m,su)),c.i=new Sn(m,c.l))}function Qt(c,m,_){c.i.set(m,_)}function Si(c){return Qt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function os(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ne(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,yo),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yo(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _o=/[#\/\?@]/g,vo=/[#\?:]/g,or=/[#\?]/g,su=/[#\?@]/g,au=/#/g;function Sn(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Ai(c){c.g||(c.g=new Map,c.h=0,c.i&&kh(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Sn.prototype,r.add=function(c,m){Ai(this),this.i=null,c=kn(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function Eo(c,m){Ai(c),m=kn(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function To(c,m){return Ai(c),m=kn(c,m),c.g.has(m)}r.forEach=function(c,m){Ai(this),this.g.forEach(function(_,S){_.forEach(function(L){c.call(m,L,S,this)},this)},this)};function sa(c,m){Ai(c);let _=[];if(typeof m=="string")To(c,m)&&(_=_.concat(c.g.get(kn(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)_=_.concat(c[m]);return _}r.set=function(c,m){return Ai(this),this.i=null,c=kn(this,c),To(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=sa(this,c),c.length>0?String(c[0]):m):m};function ou(c,m,_){Eo(c,m),_.length>0&&(c.i=null,c.g.set(kn(c,m),k(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var _=m[S];const L=ts(_);_=sa(this,_);for(let q=0;q<_.length;q++){let nt=L;_[q]!==""&&(nt+="="+ts(_[q])),c.push(nt)}}return this.i=c.join("&")};function lu(c){const m=new Sn;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function kn(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function So(c,m){m&&!c.j&&(Ai(c),c.i=null,c.g.forEach(function(_,S){const L=S.toLowerCase();S!=L&&(Eo(this,S),ou(this,L,_))},c)),c.j=m}function Ao(c,m){const _=new er;if(f.Image){const S=new Image;S.onload=E(We,_,"TestLoadImage: loaded",!0,m,S),S.onerror=E(We,_,"TestLoadImage: error",!1,m,S),S.onabort=E(We,_,"TestLoadImage: abort",!1,m,S),S.ontimeout=E(We,_,"TestLoadImage: timeout",!1,m,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function lr(c,m){const _=new er,S=new AbortController,L=setTimeout(()=>{S.abort(),We(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(L),q.ok?We(_,"TestPingServer: ok",!0,m):We(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),We(_,"TestPingServer: error",!1,m)})}function We(c,m,_,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(_)}catch{}}function uu(){this.g=new Mh}function ls(c){this.i=c.Sb||null,this.h=c.ab||!1}A(ls,eu),ls.prototype.g=function(){return new us(this.i,this.h)};function us(c,m){Se.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(us,Se),r=us.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,bi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Je(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ur(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ur(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Je(this):bi(this),this.readyState==3&&ur(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Je(this))},r.Na=function(c){this.g&&(this.response=c,Je(this))},r.ga=function(){this.g&&Je(this)};function Je(c){c.readyState=4,c.l=null,c.j=null,c.B=null,bi(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function bi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function cr(c){let m="";return Lt(c,function(_,S){m+=S,m+=":",m+=_,m+=`\r
`}),m}function An(c,m,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=cr(_),typeof c=="string"?_!=null&&ts(_):Qt(c,m,_))}function Zt(c){Se.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Zt,Se);var aa=/^https?$/i,cu=["POST","PUT"];r=Zt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ei.g(),this.g.onreadystatechange=R(g(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){cs(this,q);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)_.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())_.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(cu,m,void 0)>=0)||S||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of _)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){cs(this,q)}};function cs(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,hs(c),Ae(c)}function hs(c){c.A||(c.A=!0,De(c,"complete"),De(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,De(this,"complete"),De(this,"abort"),Ae(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ae(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?bo(this):this.Xa())},r.Xa=function(){bo(this)};function bo(c){if(c.h&&typeof u<"u"){if(c.v&&Fe(c)==4)setTimeout(c.Ca.bind(c),0);else if(De(c,"readystatechange"),Fe(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var S;if(S=q===0){let nt=String(c.D).match(ra)[1]||null;!nt&&f.self&&f.self.location&&(nt=f.self.location.protocol.slice(0,-1)),S=!aa.test(nt?nt.toLowerCase():"")}_=S}if(_)De(c,"complete"),De(c,"success");else{c.o=6;try{var L=Fe(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",hs(c)}}finally{Ae(c)}}}}function Ae(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,m||De(c,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fe(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Fe(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Ze(m)}};function fs(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(c){const m={};c=(c.g&&Fe(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var _=xh(c[S]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[L]||[];m[L]=q,q.push(_)}D(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function oa(c){this.za=0,this.i=[],this.j=new er,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ms("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ms("baseRetryDelayMs",5e3,c),this.Za=ms("retryDelaySeedMs",1e4,c),this.Ta=ms("forwardChannelMaxRetries",2,c),this.va=ms("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new is(c&&c.concurrentRequestLimit),this.Ba=new uu,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=oa.prototype,r.ka=8,r.I=1,r.connect=function(c,m,_,S){he(0),this.W=c,this.H=m||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=gu(this,null,this.W),ys(this)};function ps(c){if(gs(c),c.I==3){var m=c.V++,_=ie(c.J);if(Qt(_,"SID",c.M),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),_s(c,_),m=new xn(c,c.j,m),m.M=2,m.A=Si(ie(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=m.A,_=!0),_||(m.g=ca(m.j,null),m.g.ea(m.A)),m.F=Date.now(),es(m)}pu(c)}function ti(c){c.g&&(wo(c),c.g.cancel(),c.g=null)}function gs(c){ti(c),c.v&&(f.clearTimeout(c.v),c.v=null),ua(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function ys(c){if(!rs(c.h)&&!c.m){c.m=!0;var m=c.Ea;ct||b(),Dt||(ct(),Dt=!0),O.add(m,c),c.D=0}}function Uh(c,m){return Tn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=tr(g(c.Ea,c,m),mu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new xn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=W(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=la(this,L,m),_=ie(this.J),Qt(_,"RID",c),Qt(_,"CVER",22),this.G&&Qt(_,"X-HTTP-Session-Id",this.G),_s(this,_),q&&(this.R?m="headers="+ts(cr(q))+"&"+m:this.u&&An(_,this.u,q)),na(this.h,L),this.Ra&&Qt(_,"TYPE","init"),this.S?(Qt(_,"$req",m),Qt(_,"SID","null"),L.U=!0,$n(L,_,null)):$n(L,_,m),this.I=2}}else this.I==3&&(c?hu(this,c):this.i.length==0||rs(this.h)||hu(this))};function hu(c,m){var _;m?_=m.l:_=c.V++;const S=ie(c.J);Qt(S,"SID",c.M),Qt(S,"RID",_),Qt(S,"AID",c.K),_s(c,S),c.u&&c.o&&An(S,c.u,c.o),_=new xn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),m&&(c.i=m.G.concat(c.i)),m=la(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),na(c.h,_),$n(_,S,m)}function _s(c,m){c.H&&Lt(c.H,function(_,S){Qt(m,S,_)}),c.l&&Lt({},function(_,S){Qt(m,S,_)})}function la(c,m,_){_=Math.min(c.i.length,_);const S=c.l?g(c.l.Ka,c.l,c):null;t:{var L=c.i;let At=-1;for(;;){const Jt=["count="+_];At==-1?_>0?(At=L[0].g,Jt.push("ofs="+At)):At=0:Jt.push("ofs="+At);let qt=!0;for(let me=0;me<_;me++){var q=L[me].g;const cn=L[me].map;if(q-=At,q<0)At=Math.max(0,L[me].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var nt=cn instanceof Map?cn:Object.entries(cn);for(const[ei,Un]of nt){let Ln=Un;p(Un)&&(Ln=vn(Un)),Jt.push(q+ei+"="+encodeURIComponent(Ln))}}catch(ei){throw Jt.push(q+"type="+encodeURIComponent("_badmap")),ei}}catch{S&&S(cn)}}if(qt){nt=Jt.join("&");break t}}nt=void 0}return c=c.i.splice(0,_),m.G=c,nt}function fu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;ct||b(),Dt||(ct(),Dt=!0),O.add(m,c),c.A=0}}function Ro(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=tr(g(c.Da,c),mu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=tr(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,he(10),ti(this),du(this))};function wo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function du(c){c.g=new xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=ie(c.na);Qt(m,"RID","rpc"),Qt(m,"SID",c.M),Qt(m,"AID",c.K),Qt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qt(m,"TO",c.ia),Qt(m,"TYPE","xmlhttp"),_s(c,m),c.u&&c.o&&An(m,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Si(ie(m)),_.u=null,_.R=!0,ir(_,c)}r.Va=function(){this.C!=null&&(this.C=null,ti(this),Ro(this),he(19))};function ua(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Io(c,m){var _=null;if(c.g==m){ua(c),wo(c),c.g=null;var S=2}else if(ss(c.h,m))_=m.G,Ti(c.h,m),S=1;else return;if(c.I!=0){if(m.o)if(S==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;S=Ws(),De(S,new iu(S,_)),ys(c)}else fu(c);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&Uh(c,m)||S==2&&Ro(c)))switch(_&&_.length>0&&(m=c.h,m.i=m.i.concat(_)),L){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function mu(c,m){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*m}function Ri(c,m){if(c.j.info("Error code "+m),m==2){var _=g(c.bb,c),S=c.Ua;const L=!S;S=new Pn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||sr(S,"https"),Si(S),L?Ao(S.toString(),_):lr(S.toString(),_)}else he(2);c.I=0,c.l&&c.l.pa(m),pu(c),gs(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function pu(c){if(c.I=0,c.ja=[],c.l){const m=ia(c.h);(m.length!=0||c.i.length!=0)&&(F(c.ja,m),F(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function gu(c,m,_){var S=_ instanceof Pn?ie(_):new Pn(_);if(S.g!="")m&&(S.g=m+"."+S.g),as(S,S.u);else{var L=f.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new Pn(null);S&&sr(q,S),m&&(q.g=m),L&&as(q,L),_&&(q.h=_),S=q}return _=c.G,m=c.wa,_&&m&&Qt(S,_,m),Qt(S,"VER",c.ka),_s(c,S),S}function ca(c,m,_){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Zt(new ls({ab:_})):new Zt(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}r=yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ha(){}ha.prototype.g=function(c,m){return new tn(c,m)};function tn(c,m){Se.call(this),this.g=new oa(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!C(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new hr(this)}A(tn,Se),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){ps(this.g)},tn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=vn(c),c=_);m.i.push(new Ph(m.Ya++,c)),m.I==3&&ys(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,ps(this.g),delete this.g,tn.Z.N.call(this)};function Co(c){Zi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const _ in m){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}A(Co,Zi);function _u(){Vn.call(this),this.status=1}A(_u,Vn);function hr(c){this.g=c}A(hr,yu),hr.prototype.ra=function(){De(this.g,"a")},hr.prototype.qa=function(c){De(this.g,new Co(c))},hr.prototype.pa=function(c){De(this.g,new _u)},hr.prototype.oa=function(){De(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,dT=function(){return new ha},fT=function(){return Ws()},hT=En,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fe.NO_ERROR=0,fe.TIMEOUT=8,fe.HTTP_ERROR=6,Nc=fe,ke.COMPLETE="complete",cT=ke,nu.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,El=nu,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,uT=Zt}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const _v="@firebase/firestore",vv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Rm("@firebase/firestore");function Ba(){return qs.logLevel}function ot(r,...t){if(qs.logLevel<=Vt.DEBUG){const n=t.map(Lm);qs.debug(`Firestore (${so}): ${r}`,...n)}}function Gi(r,...t){if(qs.logLevel<=Vt.ERROR){const n=t.map(Lm);qs.error(`Firestore (${so}): ${r}`,...n)}}function $a(r,...t){if(qs.logLevel<=Vt.WARN){const n=t.map(Lm);qs.warn(`Firestore (${so}): ${r}`,...n)}}function Lm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,mT(r,s,n)}function mT(r,t,n){let s=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Gi(s),new Error(s)}function jt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||mT(t,o,s)}function bt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Yi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ew{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ye.UNAUTHENTICATED)))}shutdown(){}}class Tw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Sw{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){jt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=u;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new pT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class Aw{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bw{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new Aw(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ev{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rw{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){jt(this.o===void 0,3512);const s=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ev(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ev(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ww(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function xt(r,t){return r<t?-1:r>t?1:0}function rm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return qd(o)===qd(u)?xt(o,u):qd(o)?1:-1}return xt(r.length,t.length)}const Iw=55296,Cw=57343;function qd(r){const t=r.charCodeAt(0);return t>=Iw&&t<=Cw}function Za(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="__name__";class oi{constructor(t,n,s){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&_t(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return oi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof oi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=oi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return xt(t.length,n.length)}static compareSegments(t,n){const s=oi.isNumericId(t),o=oi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?oi.extractNumericId(t).compare(oi.extractNumericId(n)):rm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return jr.fromString(t.substring(4,t.length-2))}}class se extends oi{construct(t,n,s){return new se(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ht(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new se(n)}static emptyPath(){return new se([])}}const Dw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends oi{construct(t,n,s){return new je(t,n,s)}static isValidIdentifier(t){return Dw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tv}static keyField(){return new je([Tv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ht(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ht(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ht(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new ht(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new je(n)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(se.fromString(t))}static fromName(t){return new pt(se.fromString(t).popFirst(5))}static empty(){return new pt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return se.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new se(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(r,t,n){if(!n)throw new ht(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Ow(r,t,n,s){if(t===!0&&s===!0)throw new ht(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Sv(r){if(!pt.isDocumentKey(r))throw new ht(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function gT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Bm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function Hs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bm(r);throw new ht(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,t){const n={typeString:r};return t&&(n.value=t),n}function Ql(r,t){if(!gT(r))throw new ht(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ht(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=-62135596800,bv=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*bv);return new te(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Av)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ql(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Av;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Te("string",te._jsonSchemaVersion),seconds:Te("number"),nanoseconds:Te("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new te(0,0))}static max(){return new St(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=-1;function Mw(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new te(n+1,0):new te(n,s));return new Hr(o,pt.empty(),t)}function Vw(r){return new Hr(r.readTime,r.key,Vl)}class Hr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Hr(St.min(),pt.empty(),Vl)}static max(){return new Hr(St.max(),pt.empty(),Vl)}}function xw(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(r.documentKey,t.documentKey),n!==0?n:xt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==Pw)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):$.reject(n)}static resolve(t){return new $(((n,s)=>{n(t)}))}static reject(t){return new $(((n,s)=>{s(t)}))}static waitFor(t){return new $(((n,s)=>{let o=0,u=0,f=!1;t.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&n()}),(y=>s(y)))})),f=!0,u===o&&n()}))}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next((o=>o?$.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new $(((s,o)=>{const u=t.length,f=new Array(u);let p=0;for(let y=0;y<u;y++){const g=y;n(t[g]).next((E=>{f[g]=E,++p,p===u&&s(f)}),(E=>o(E)))}}))}static doWhile(t,n){return new $(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function Uw(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=-1;function fh(r){return r==null}function Qc(r){return r===0&&1/r==-1/0}function Lw(r){return typeof r=="number"&&Number.isInteger(r)&&!Qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="";function zw(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Rv(t)),t=Bw(r.get(n),t);return Rv(t)}function Bw(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case yT:n+="";break;default:n+=u}}return n}function Rv(r){return r+yT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Xr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function _T(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,n){this.comparator=t,this.root=n||Be.EMPTY}insert(t,n){return new oe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tc(this.root,t,this.comparator,!0)}}class Tc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=u??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Be(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Be(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(t){return new Iv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ce(this.comparator);return n.data=t,n}}class Iv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.fields=t,t.sort(je.comparator)}static empty(){return new _n([])}unionWith(t){let n=new Ce(je.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new _n(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vT("Invalid base64 string: "+u):u}})(t);return new qe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const jw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(r){if(jt(!!r,39018),typeof r=="string"){let t=0;const n=jw.exec(r);if(jt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Gr(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="server_timestamp",TT="__type__",ST="__previous_value__",AT="__local_write_time__";function qm(r){return(r?.mapValue?.fields||{})[TT]?.stringValue===ET}function dh(r){const t=r.mapValue.fields[ST];return qm(t)?dh(t):t}function xl(r){const t=Fr(r.mapValue.fields[AT].timestampValue);return new te(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,n,s,o,u,f,p,y,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=E}}const Kc="(default)";class Pl{constructor(t,n){this.projectId=t,this.database=n||Kc}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="__type__",Hw="__max__",Sc={mapValue:{}},RT="__vector__",Yc="value";function Qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qm(r)?4:Gw(r)?9007199254740991:Fw(r)?10:11:_t(28295,{value:r})}function pi(r,t){if(r===t)return!0;const n=Qr(r);if(n!==Qr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return xl(r).isEqual(xl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Fr(o.timestampValue),p=Fr(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Gr(o.bytesValue).isEqual(Gr(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return ye(o.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ye(o.integerValue)===ye(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ye(o.doubleValue),p=ye(u.doubleValue);return f===p?Qc(f)===Qc(p):isNaN(f)&&isNaN(p)}return!1})(r,t);case 9:return Za(r.arrayValue.values||[],t.arrayValue.values||[],pi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if(wv(f)!==wv(p))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(p[y]===void 0||!pi(f[y],p[y])))return!1;return!0})(r,t);default:return _t(52216,{left:r})}}function kl(r,t){return(r.values||[]).find((n=>pi(n,t)))!==void 0}function Wa(r,t){if(r===t)return 0;const n=Qr(r),s=Qr(t);if(n!==s)return xt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const p=ye(u.integerValue||u.doubleValue),y=ye(f.integerValue||f.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return Cv(r.timestampValue,t.timestampValue);case 4:return Cv(xl(r),xl(t));case 5:return rm(r.stringValue,t.stringValue);case 6:return(function(u,f){const p=Gr(u),y=Gr(f);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const p=u.split("/"),y=f.split("/");for(let g=0;g<p.length&&g<y.length;g++){const E=xt(p[g],y[g]);if(E!==0)return E}return xt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const p=xt(ye(u.latitude),ye(f.latitude));return p!==0?p:xt(ye(u.longitude),ye(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Dv(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const p=u.fields||{},y=f.fields||{},g=p[Yc]?.arrayValue,E=y[Yc]?.arrayValue,A=xt(g?.values?.length||0,E?.values?.length||0);return A!==0?A:Dv(g,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Sc.mapValue&&f===Sc.mapValue)return 0;if(u===Sc.mapValue)return 1;if(f===Sc.mapValue)return-1;const p=u.fields||{},y=Object.keys(p),g=f.fields||{},E=Object.keys(g);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const R=rm(y[A],E[A]);if(R!==0)return R;const k=Wa(p[y[A]],g[E[A]]);if(k!==0)return k}return xt(y.length,E.length)})(r.mapValue,t.mapValue);default:throw _t(23264,{he:n})}}function Cv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return xt(r,t);const n=Fr(r),s=Fr(t),o=xt(n.seconds,s.seconds);return o!==0?o:xt(n.nanos,s.nanos)}function Dv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Wa(n[o],s[o]);if(u)return u}return xt(n.length,s.length)}function Ja(r){return sm(r)}function sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Fr(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Gr(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=sm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${sm(n.fields[f])}`;return o+"}"})(r.mapValue):_t(61005,{value:r})}function Oc(r){switch(Qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dh(r);return t?16+Oc(t):16;case 5:return 2*r.stringValue.length;case 6:return Gr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Oc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Xr(s.fields,((u,f)=>{o+=u.length+Oc(f)})),o})(r.mapValue);default:throw _t(13486,{value:r})}}function am(r){return!!r&&"integerValue"in r}function Hm(r){return!!r&&"arrayValue"in r}function Nv(r){return!!r&&"nullValue"in r}function Ov(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mc(r){return!!r&&"mapValue"in r}function Fw(r){return(r?.mapValue?.fields||{})[bT]?.stringValue===RT}function wl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Xr(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=wl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=wl(r.arrayValue.values[n]);return t}return{...r}}function Gw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Hw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.value=t}static empty(){return new un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Mc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=wl(n)}setAll(t){let n=je.emptyPath(),s={},o=[];t.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=wl(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return pi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Mc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Xr(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new un(wl(this.value))}}function wT(r){const t=[];return Xr(r.fields,((n,s)=>{const o=new je([n]);if(Mc(s)){const u=wT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new _n(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,s,o,u,f,p){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,St.min(),St.min(),St.min(),un.empty(),0)}static newFoundDocument(t,n,s,o){return new Xe(t,1,n,St.min(),s,o,0)}static newNoDocument(t,n){return new Xe(t,2,n,St.min(),St.min(),un.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,St.min(),St.min(),un.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,n){this.position=t,this.inclusive=n}}function Mv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=pt.comparator(pt.fromName(f.referenceValue),n.key):s=Wa(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Vv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!pi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,n="asc"){this.field=t,this.dir=n}}function Qw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{}class we extends IT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new Yw(t,n,s):n==="array-contains"?new Zw(t,s):n==="in"?new Ww(t,s):n==="not-in"?new Jw(t,s):n==="array-contains-any"?new tI(t,s):new we(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new Xw(t,s):new $w(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Wa(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(Wa(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends IT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new gi(t,n)}matches(t){return CT(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CT(r){return r.op==="and"}function DT(r){return Kw(r)&&CT(r)}function Kw(r){for(const t of r.filters)if(t instanceof gi)return!1;return!0}function om(r){if(r instanceof we)return r.field.canonicalString()+r.op.toString()+Ja(r.value);if(DT(r))return r.filters.map((t=>om(t))).join(",");{const t=r.filters.map((n=>om(n))).join(",");return`${r.op}(${t})`}}function NT(r,t){return r instanceof we?(function(s,o){return o instanceof we&&s.op===o.op&&s.field.isEqual(o.field)&&pi(s.value,o.value)})(r,t):r instanceof gi?(function(s,o){return o instanceof gi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,p)=>u&&NT(f,o.filters[p])),!0):!1})(r,t):void _t(19439)}function OT(r){return r instanceof we?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ja(n.value)}`})(r):r instanceof gi?(function(n){return n.op.toString()+" {"+n.getFilters().map(OT).join(" ,")+"}"})(r):"Filter"}class Yw extends we{constructor(t,n,s){super(t,n,s),this.key=pt.fromName(s.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Xw extends we{constructor(t,n){super(t,"in",n),this.keys=MT("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class $w extends we{constructor(t,n){super(t,"not-in",n),this.keys=MT("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function MT(r,t){return(t.arrayValue?.values||[]).map((n=>pt.fromName(n.referenceValue)))}class Zw extends we{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Hm(n)&&kl(n.arrayValue,this.value)}}class Ww extends we{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&kl(this.value.arrayValue,n)}}class Jw extends we{constructor(t,n){super(t,"not-in",n)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!kl(this.value.arrayValue,n)}}class tI extends we{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Hm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>kl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t,n=null,s=[],o=[],u=null,f=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function xv(r,t=null,n=[],s=[],o=null,u=null,f=null){return new eI(r,t,n,s,o,u,f)}function Fm(r){const t=bt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>om(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),fh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Ja(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Ja(s))).join(",")),t.Te=n}return t.Te}function Gm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Qw(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!NT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Vv(r.startAt,t.startAt)&&Vv(r.endAt,t.endAt)}function lm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n=null,s=[],o=[],u=null,f="F",p=null,y=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nI(r,t,n,s,o,u,f,p){return new mh(r,t,n,s,o,u,f,p)}function Qm(r){return new mh(r)}function Pv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function iI(r){return r.collectionGroup!==null}function Il(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Ce(je.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new $c(u,s))})),n.has(je.keyField().canonicalString())||t.Ie.push(new $c(je.keyField(),s))}return t.Ie}function ui(r){const t=bt(r);return t.Ee||(t.Ee=rI(t,Il(r))),t.Ee}function rI(r,t){if(r.limitType==="F")return xv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new $c(o.field,u)}));const n=r.endAt?new Xc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Xc(r.startAt.position,r.startAt.inclusive):null;return xv(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function um(r,t,n){return new mh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function ph(r,t){return Gm(ui(r),ui(t))&&r.limitType===t.limitType}function VT(r){return`${Fm(ui(r))}|lt:${r.limitType}`}function ja(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>OT(o))).join(", ")}]`),fh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ja(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ja(o))).join(",")),`Target(${s})`})(ui(r))}; limitType=${r.limitType})`}function gh(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Il(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(f,p,y){const g=Mv(f,p,y);return f.inclusive?g<=0:g<0})(s.startAt,Il(s),o)||s.endAt&&!(function(f,p,y){const g=Mv(f,p,y);return f.inclusive?g>=0:g>0})(s.endAt,Il(s),o))})(r,t)}function sI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function xT(r){return(t,n)=>{let s=!1;for(const o of Il(r)){const u=aI(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function aI(r,t,n){const s=r.field.isKeyField()?pt.comparator(t.key,n.key):(function(u,f,p){const y=f.data.field(u),g=p.data.field(u);return y!==null&&g!==null?Wa(y,g):_t(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Xr(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return _T(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=new oe(pt.comparator);function Qi(){return oI}const PT=new oe(pt.comparator);function Tl(...r){let t=PT;for(const n of r)t=t.insert(n.key,n);return t}function kT(r){let t=PT;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ks(){return Cl()}function UT(){return Cl()}function Cl(){return new Gs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const lI=new oe(pt.comparator),uI=new Ce(pt.comparator);function Pt(...r){let t=uI;for(const n of r)t=t.add(n);return t}const cI=new Ce(xt);function hI(){return cI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(t)?"-0":t}}function LT(r){return{integerValue:""+r}}function fI(r,t){return Lw(t)?LT(t):Km(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this._=void 0}}function dI(r,t,n){return r instanceof Zc?(function(o,u){const f={fields:{[TT]:{stringValue:ET},[AT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&qm(u)&&(u=dh(u)),u&&(f.fields[ST]=u),{mapValue:f}})(n,t):r instanceof Ul?BT(r,t):r instanceof Ll?jT(r,t):(function(o,u){const f=zT(o,u),p=kv(f)+kv(o.Ae);return am(f)&&am(o.Ae)?LT(p):Km(o.serializer,p)})(r,t)}function mI(r,t,n){return r instanceof Ul?BT(r,t):r instanceof Ll?jT(r,t):n}function zT(r,t){return r instanceof Wc?(function(s){return am(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Zc extends yh{}class Ul extends yh{constructor(t){super(),this.elements=t}}function BT(r,t){const n=qT(t);for(const s of r.elements)n.some((o=>pi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Ll extends yh{constructor(t){super(),this.elements=t}}function jT(r,t){let n=qT(t);for(const s of r.elements)n=n.filter((o=>!pi(o,s)));return{arrayValue:{values:n}}}class Wc extends yh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function kv(r){return ye(r.integerValue||r.doubleValue)}function qT(r){return Hm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function pI(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof Ul&&o instanceof Ul||s instanceof Ll&&o instanceof Ll?Za(s.elements,o.elements,pi):s instanceof Wc&&o instanceof Wc?pi(s.Ae,o.Ae):s instanceof Zc&&o instanceof Zc})(r.transform,t.transform)}class gI{constructor(t,n){this.version=t,this.transformResults=n}}class ci{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new ci}static exists(t){return new ci(void 0,t)}static updateTime(t){return new ci(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class _h{}function HT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new GT(r.key,ci.none()):new Kl(r.key,r.data,ci.none());{const n=r.data,s=un.empty();let o=new Ce(je.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new $r(r.key,s,new _n(o.toArray()),ci.none())}}function yI(r,t,n){r instanceof Kl?(function(o,u,f){const p=o.value.clone(),y=Lv(o.fieldTransforms,u,f.transformResults);p.setAll(y),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,n):r instanceof $r?(function(o,u,f){if(!Vc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=Lv(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(FT(o)),y.setAll(p),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(r,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Dl(r,t,n,s){return r instanceof Kl?(function(u,f,p,y){if(!Vc(u.precondition,f))return p;const g=u.value.clone(),E=zv(u.fieldTransforms,y,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,t,n,s):r instanceof $r?(function(u,f,p,y){if(!Vc(u.precondition,f))return p;const g=zv(u.fieldTransforms,y,f),E=f.data;return E.setAll(FT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,t,n,s):(function(u,f,p){return Vc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,t,n)}function _I(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=zT(s.transform,o||null);u!=null&&(n===null&&(n=un.empty()),n.set(s.field,u))}return n||null}function Uv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Za(s,o,((u,f)=>pI(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Kl extends _h{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $r extends _h{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function FT(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function Lv(r,t,n){const s=new Map;jt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=t.data.field(u.field);s.set(u.field,mI(f,p,n[o]))}return s}function zv(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,dI(u,f,t))}return s}class GT extends _h{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vI extends _h{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&yI(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Dl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Dl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=UT();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const y=HT(f,p);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((n,s)=>Uv(n,s)))&&Za(this.baseMutations,t.baseMutations,((n,s)=>Uv(n,s)))}}class Ym{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){jt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return lI})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ym(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Ut;function AI(r){switch(r){case J.OK:return _t(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function QT(r){if(r===void 0)return Gi("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ee.OK:return J.OK;case Ee.CANCELLED:return J.CANCELLED;case Ee.UNKNOWN:return J.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return J.INTERNAL;case Ee.UNAVAILABLE:return J.UNAVAILABLE;case Ee.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ee.NOT_FOUND:return J.NOT_FOUND;case Ee.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ee.ABORTED:return J.ABORTED;case Ee.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ee.DATA_LOSS:return J.DATA_LOSS;default:return _t(39323,{code:r})}}(Ut=Ee||(Ee={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=new jr([4294967295,4294967295],0);function Bv(r){const t=bI().encode(r),n=new lT;return n.update(t),new Uint8Array(n.digest())}function jv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new jr([n,s],0),new jr([o,u],0)]}class Xm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Sl(`Invalid padding: ${n}`);if(s<0)throw new Sl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=jr.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(jr.fromNumber(s)));return o.compare(RI)===1&&(o=new jr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Bv(t),[s,o]=jv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Xm(u,o,n);return s.forEach((p=>f.insert(p))),f}insert(t){if(this.ge===0)return;const n=Bv(t),[s,o]=jv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Yl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new vh(St.min(),o,new oe(xt),Qi(),Pt())}}class Yl{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Yl(s,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class KT{constructor(t,n){this.targetId=t,this.Ce=n}}class YT{constructor(t,n,s=qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class qv{constructor(){this.ve=0,this.Fe=Hv(),this.Me=qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),n=Pt(),s=Pt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:u})}})),new Yl(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=Hv()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class wI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Qi(),this.Je=Ac(),this.He=Ac(),this.Ye=new oe(xt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(lm(u))if(s===0){const f=new pt(u.path);this.et(n,f,Xe.newNoDocument(f,St.min()))}else jt(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(t),y=p?this.ct(p,t,f):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=Gr(s).toUint8Array()}catch(y){if(y instanceof vT)return $a("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Xm(f,o,u)}catch(y){return $a(y instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&lm(p.target)){const y=new pt(p.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Xe.newNoDocument(y,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Pt();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new vh(t,n,this.Ye,this.je,s);return this.je=Qi(),this.Je=Ac(),this.He=Ac(),this.Ye=new oe(xt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new qv,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ce(xt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ce(xt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new qv),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Ac(){return new oe(pt.comparator)}function Hv(){return new oe(pt.comparator)}const II={asc:"ASCENDING",desc:"DESCENDING"},CI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DI={and:"AND",or:"OR"};class NI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function cm(r,t){return r.useProto3Json||fh(t)?t:{value:t}}function Jc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function XT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function OI(r,t){return Jc(r,t.toTimestamp())}function hi(r){return jt(!!r,49232),St.fromTimestamp((function(n){const s=Fr(n);return new te(s.seconds,s.nanos)})(r))}function $m(r,t){return hm(r,t).canonicalString()}function hm(r,t){const n=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function $T(r){const t=se.fromString(r);return jt(e0(t),10190,{key:t.toString()}),t}function fm(r,t){return $m(r.databaseId,t.path)}function Hd(r,t){const n=$T(t);if(n.get(1)!==r.databaseId.projectId)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pt(WT(n))}function ZT(r,t){return $m(r.databaseId,t)}function MI(r){const t=$T(r);return t.length===4?se.emptyPath():WT(t)}function dm(r){return new se(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function WT(r){return jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Fv(r,t,n){return{name:fm(r,t),fields:n.value.mapValue.fields}}function VI(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_t(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(jt(E===void 0||typeof E=="string",58123),qe.fromBase64String(E||"")):(jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),qe.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,p=f&&(function(g){const E=g.code===void 0?J.UNKNOWN:QT(g.code);return new ht(E,g.message||"")})(f);n=new YT(s,o,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Hd(r,s.document.name),u=hi(s.document.updateTime),f=s.document.createTime?hi(s.document.createTime):St.min(),p=new un({mapValue:{fields:s.document.fields}}),y=Xe.newFoundDocument(o,u,f,p),g=s.targetIds||[],E=s.removedTargetIds||[];n=new xc(g,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Hd(r,s.document),u=s.readTime?hi(s.readTime):St.min(),f=Xe.newNoDocument(o,u),p=s.removedTargetIds||[];n=new xc([],p,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Hd(r,s.document),u=s.removedTargetIds||[];n=new xc([],u,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new SI(o,u),p=s.targetId;n=new KT(p,f)}}return n}function xI(r,t){let n;if(t instanceof Kl)n={update:Fv(r,t.key,t.value)};else if(t instanceof GT)n={delete:fm(r,t.key)};else if(t instanceof $r)n={update:Fv(r,t.key,t.data),updateMask:HI(t.fieldMask)};else{if(!(t instanceof vI))return _t(16599,{Vt:t.type});n={verify:fm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,f){const p=f.transform;if(p instanceof Zc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ul)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ll)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Wc)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:f.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:OI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)})(r,t.precondition)),n}function PI(r,t){return r&&r.length>0?(jt(t!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?hi(o.updateTime):hi(u);return f.isEqual(St.min())&&(f=hi(u)),new gI(f,o.transformResults||[])})(n,t)))):[]}function kI(r,t){return{documents:[ZT(r,t.path)]}}function UI(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ZT(r,o);const u=(function(g){if(g.length!==0)return t0(gi.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(R){return{field:qa(R.field),direction:BI(R.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const p=cm(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function LI(r){let t=MI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){jt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(A){const R=JT(A);return R instanceof gi&&DT(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((R=>(function(F){return new $c(Ha(F.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(R)))})(n.orderBy));let p=null;n.limit&&(p=(function(A){let R;return R=typeof A=="object"?A.value:A,fh(R)?null:R})(n.limit));let y=null;n.startAt&&(y=(function(A){const R=!!A.before,k=A.values||[];return new Xc(k,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(A){const R=!A.before,k=A.values||[];return new Xc(k,R)})(n.endAt)),nI(t,o,f,u,p,"F",y,g)}function zI(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function JT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ha(n.unaryFilter.field);return we.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ha(n.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ha(n.unaryFilter.field);return we.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ha(n.unaryFilter.field);return we.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(n){return we.create(Ha(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return gi.create(n.compositeFilter.filters.map((s=>JT(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(n.compositeFilter.op))})(r):_t(30097,{filter:r})}function BI(r){return II[r]}function jI(r){return CI[r]}function qI(r){return DI[r]}function qa(r){return{fieldPath:r.canonicalString()}}function Ha(r){return je.fromServerFormat(r.fieldPath)}function t0(r){return r instanceof we?(function(n){if(n.op==="=="){if(Ov(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NAN"}};if(Nv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ov(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NAN"}};if(Nv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(n.field),op:jI(n.op),value:n.value}}})(r):r instanceof gi?(function(n){const s=n.getFilters().map((o=>t0(o)));return s.length===1?s[0]:{compositeFilter:{op:qI(n.op),filters:s}}})(r):_t(54877,{filter:r})}function HI(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function e0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t,n,s,o,u=St.min(),f=St.min(),p=qe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.yt=t}}function GI(r){const t=LI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?um(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.Cn=new KI}addToCollectionParentIndex(t,n){return this.Cn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(Hr.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(Hr.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class KI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ce(se.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ce(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n0=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(n0,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new to(0)}static cr(){return new to(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="LruGarbageCollector",YI=1048576;function Kv([r,t],[n,s]){const o=xt(r,n);return o===0?xt(t,s):o}class XI{constructor(t){this.Ir=t,this.buffer=new Ce(Kv),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Kv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $I{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(Qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oo(n)?ot(Qv,"Ignoring IndexedDB error during garbage collection: ",n):await ao(n)}await this.Vr(3e5)}))}}class ZI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return $.resolve(hh.ce);const s=new XI(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Gv)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gv):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,p,y,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(s=A,p=Date.now(),this.removeTargets(t,s,n)))).next((A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((A=>(g=Date.now(),Ba()<=Vt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(g-y)+`ms
Total Duration: ${g-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function WI(r,t){return new ZI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.changes=new Gs((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Dl(s.mutation,o,_n.empty(),te.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Pt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Pt()){const o=ks();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let f=Tl();return u.forEach(((p,y)=>{f=f.insert(p,y.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const s=ks();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Pt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(t,n,s,o){let u=Qi();const f=Cl(),p=(function(){return Cl()})();return n.forEach(((y,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof $r)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Dl(E.mutation,g,E.mutation.getFieldMask(),te.now())):f.set(g.key,_n.empty())})),this.recalculateAndSaveOverlays(t,u).next((y=>(y.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>p.set(g,new tC(E,f.get(g)??null)))),p)))}recalculateAndSaveOverlays(t,n){const s=Cl();let o=new oe(((f,p)=>f-p)),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const p of f)p.keys().forEach((y=>{const g=n.get(y);if(g===null)return;let E=s.get(y)||_n.empty();E=p.applyToLocalView(g,E),s.set(y,E);const A=(o.get(p.batchId)||Pt()).add(y);o=o.insert(p.batchId,A)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),g=y.key,E=y.value,A=UT();E.forEach((R=>{if(!u.has(R)){const k=HT(n.get(R),s.get(R));k!==null&&A.set(R,k),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(t,g,A))}return $.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(f){return pt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):iI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):$.resolve(ks());let p=Vl,y=u;return f.next((g=>$.forEach(g,((E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next((R=>{y=y.insert(E,R)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,y,g,Pt()))).next((E=>({batchId:p,changes:kT(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next((s=>{let o=Tl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Tl();return this.indexManager.getCollectionParents(t,u).next((p=>$.forEach(p,(y=>{const g=(function(A,R){return new mh(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((E=>{E.forEach(((A,R)=>{f=f.insert(A,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((f=>{u.forEach(((y,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Xe.newInvalidDocument(E)))}));let p=Tl();return f.forEach(((y,g)=>{const E=u.get(y);E!==void 0&&Dl(E.mutation,g,_n.empty(),te.now()),gh(n,g)&&(p=p.insert(y,g))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:hi(o.createTime)}})(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:GI(o.bundledQuery),readTime:hi(o.readTime)}})(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.overlays=new oe(pt.comparator),this.qr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ks();return $.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),$.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const o=ks(),u=n.length+1,f=new pt(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const y=p.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return $.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new oe(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ks(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const p=ks(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,E)=>p.set(g,E))),!(p.size()>=o)););return $.resolve(p)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new TI(n,s));let u=this.qr.get(n);u===void 0&&(u=Pt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.Qr=new Ce(xe.$r),this.Ur=new Ce(xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new xe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new xe(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new pt(new se([])),s=new xe(n,t),o=new xe(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new pt(new se([])),s=new xe(n,t),o=new xe(n,t+1);let u=Pt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new xe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class xe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return pt.comparator(t.key,n.key)||xt(t.Yr,n.Yr)}static Kr(t,n){return xt(t.Yr,n.Yr)||pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ce(xe.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new EI(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new xe(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(f)}lookupMutationBatch(t,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new xe(n,0),o=new xe(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const p=this.Xr(f.Yr);u.push(p)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ce(xt);return n.forEach((o=>{const u=new xe(o,0),f=new xe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{s=s.add(p.Yr)}))})),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;pt.isDocumentKey(u)||(u=u.child(""));const f=new xe(new pt(u),0);let p=new Ce(xt);return this.Zr.forEachWhile((y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(y.Yr)),!0)}),f),$.resolve(this.ti(p))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){jt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(n.mutations,(o=>{const u=new xe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new xe(n,0),o=this.Zr.firstAfterOrEqual(s);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.ri=t,this.docs=(function(){return new oe(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let s=Qi();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xe.newInvalidDocument(o))})),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Qi();const f=n.path,p=new pt(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:g,value:{document:E}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||xw(Vw(E),s)<=0||(o.has(E.key)||gh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,s,o){_t(9500)}ii(t,n){return $.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new oC(this)}getSize(t){return $.resolve(this.size)}}class oC extends JI{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),$.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t){this.persistence=t,this.si=new Gs((n=>Fm(n)),Gm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=to.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),$.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new to(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.Pr(n),$.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),$.waitFor(u).next((()=>o))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),$.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(t,n){this.ui={},this.overlays={},this.ci=new hh(0),this.li=!1,this.li=!0,this.hi=new rC,this.referenceDelegate=t(this),this.Pi=new lC(this),this.indexManager=new QI,this.remoteDocumentCache=(function(o){return new aC(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new FI(n),this.Ii=new nC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new iC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new sC(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const o=new uC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return $.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class uC extends kw{constructor(t){super(),this.currentSequenceNumber=t}}class Wm{constructor(t){this.persistence=t,this.Ri=new Zm,this.Vi=null}static mi(t){return new Wm(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(s=>{const o=pt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class th{constructor(t,n){this.persistence=t,this.pi=new Gs((s=>zw(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=WI(this,n)}static mi(t,n){return new th(t,n)}Ei(){}di(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return $.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?$.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((p=>{p||(s++,u.removeEntry(f,St.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),$.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Oc(t.data.value)),n}br(t,n,s){return $.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Pt(),o=Pt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Jm(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JA()?8:Uw($e())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new cC;return this.Ss(t,n,f).next((p=>{if(u.result=p,this.Vs)return this.bs(t,n,f,p.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(Ba()<=Vt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ba()<=Vt.DEBUG&&ot("QueryEngine","Query:",ja(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ba()<=Vt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ui(n))):$.resolve())}ys(t,n){if(Pv(n))return $.resolve(null);let s=ui(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=um(n,null,"F"),s=ui(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const f=Pt(...u);return this.ps.getDocuments(t,f).next((p=>this.indexManager.getMinOffset(t,s).next((y=>{const g=this.Ds(n,p);return this.Cs(n,g,f,y.readTime)?this.ys(t,um(n,null,"F")):this.vs(t,g,n,y)}))))})))))}ws(t,n,s,o){return Pv(n)||o.isEqual(St.min())?$.resolve(null):this.ps.getDocuments(t,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?$.resolve(null):(Ba()<=Vt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ja(n)),this.vs(t,f,n,Mw(o,Vl)).next((p=>p)))}))}Ds(t,n){let s=new Ce(xT(t));return n.forEach(((o,u)=>{gh(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Ba()<=Vt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",ja(n)),this.ps.getDocumentsMatchingQuery(t,n,Hr.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="LocalStore",fC=3e8;class dC{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new oe(xt),this.xs=new Gs((u=>Fm(u)),Gm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function mC(r,t,n,s){return new dC(r,t,n,s)}async function r0(r,t){const n=bt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],p=[];let y=Pt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}for(const g of u){p.push(g.batchId);for(const E of g.mutations)y=y.add(E.key)}return n.localDocuments.getDocuments(s,y).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:p})))}))}))}function pC(r,t){const n=bt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,g,E){const A=g.batch,R=A.keys();let k=$.resolve();return R.forEach((F=>{k=k.next((()=>E.getEntry(y,F))).next((Z=>{const H=g.docVersions.get(F);jt(H!==null,48541),Z.version.compareTo(H)<0&&(A.applyToRemoteDocument(Z,g),Z.isValidDocument()&&(Z.setReadTime(g.commitVersion),E.addEntry(Z)))}))})),k.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let y=Pt();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(y=y.add(p.batch.mutations[g].key));return y})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function s0(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function gC(r,t){const n=bt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];t.targetChanges.forEach(((E,A)=>{const R=o.get(A);if(!R)return;p.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A))));let k=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?k=k.withResumeToken(qe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(A,k),(function(Z,H,et){return Z.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=fC?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(R,k,E)&&p.push(n.Pi.updateTargetData(u,k))}));let y=Qi(),g=Pt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),p.push(yC(u,f,t.documentUpdates).next((E=>{y=E.ks,g=E.qs}))),!s.isEqual(St.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(E)}return $.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,g))).next((()=>y))})).then((u=>(n.Ms=o,u)))}function yC(r,t,n){let s=Pt(),o=Pt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let f=Qi();return n.forEach(((p,y)=>{const g=u.get(p);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(St.min())?(t.removeEntry(p,y.readTime),f=f.insert(p,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(y),f=f.insert(p,y)):ot(tp,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",y.version)})),{ks:f,qs:o}}))}function _C(r,t){const n=bt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=jm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function vC(r,t){const n=bt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,$.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Ur(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function mm(r,t,n){const s=bt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!oo(f))throw f;ot(tp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function Yv(r,t,n){const s=bt(r);let o=St.min(),u=Pt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,g,E){const A=bt(y),R=A.xs.get(E);return R!==void 0?$.resolve(A.Ms.get(R)):A.Pi.getTargetData(g,E)})(s,f,ui(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next((y=>{u=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:St.min(),n?u:Pt()))).next((p=>(EC(s,sI(t),p),{documents:p,Qs:u})))))}function EC(r,t,n){let s=r.Os.get(t)||St.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class Xv{constructor(){this.activeTargetIds=hI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class TC{constructor(){this.Mo=new Xv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Xv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="ConnectivityMonitor";class Zv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot($v,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot($v,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function pm(){return bc===null?bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="RestConnection",AC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Kc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=pm(),p=this.zo(t,n.toUriEncodedString());ot(Fd,`Sending RPC '${t}' ${f}:`,p,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:g}=new URL(p),E=no(g);return this.Jo(t,p,y,s,E).then((A=>(ot(Fd,`Received RPC '${t}' ${f}: `,A),A)),(A=>{throw $a(Fd,`RPC '${t}' ${f} failed with error: `,A,"url: ",p,"request:",s),A}))}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=AC[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class wC extends bC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=pm();return new Promise(((p,y)=>{const g=new uT;g.setWithCredentials(!0),g.listenOnce(cT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Nc.NO_ERROR:const A=g.getResponseJson();ot(Ke,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),p(A);break;case Nc.TIMEOUT:ot(Ke,`RPC '${t}' ${f} timed out`),y(new ht(J.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const R=g.getStatus();if(ot(Ke,`RPC '${t}' ${f} failed with status:`,R,"response text:",g.getResponseText()),R>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k?.error;if(F&&F.status&&F.message){const Z=(function(et){const tt=et.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(tt)>=0?tt:J.UNKNOWN})(F.status);y(new ht(Z,F.message))}else y(new ht(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ht(J.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ot(Ke,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ot(Ke,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=pm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=dT(),p=fT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const E=u.join("");ot(Ke,`Creating RPC '${t}' stream ${o}: ${E}`,y);const A=f.createWebChannel(E,y);this.I_(A);let R=!1,k=!1;const F=new RC({Yo:H=>{k?ot(Ke,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(R||(ot(Ke,`Opening RPC '${t}' stream ${o} transport.`),A.open(),R=!0),ot(Ke,`RPC '${t}' stream ${o} sending:`,H),A.send(H))},Zo:()=>A.close()}),Z=(H,et,tt)=>{H.listen(et,(rt=>{try{tt(rt)}catch(wt){setTimeout((()=>{throw wt}),0)}}))};return Z(A,El.EventType.OPEN,(()=>{k||(ot(Ke,`RPC '${t}' stream ${o} transport opened.`),F.o_())})),Z(A,El.EventType.CLOSE,(()=>{k||(k=!0,ot(Ke,`RPC '${t}' stream ${o} transport closed`),F.a_(),this.E_(A))})),Z(A,El.EventType.ERROR,(H=>{k||(k=!0,$a(Ke,`RPC '${t}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),F.a_(new ht(J.UNAVAILABLE,"The operation could not be completed")))})),Z(A,El.EventType.MESSAGE,(H=>{if(!k){const et=H.data[0];jt(!!et,16349);const tt=et,rt=tt?.error||tt[0]?.error;if(rt){ot(Ke,`RPC '${t}' stream ${o} received error:`,rt);const wt=rt.status;let ct=(function(b){const w=Ee[b];if(w!==void 0)return QT(w)})(wt),Dt=rt.message;ct===void 0&&(ct=J.INTERNAL,Dt="Unknown error status: "+wt+" with message "+rt.message),k=!0,F.a_(new ht(ct,Dt)),A.close()}else ot(Ke,`RPC '${t}' stream ${o} received:`,et),F.u_(et)}})),Z(p,hT.STAT_EVENT,(H=>{H.stat===im.PROXY?ot(Ke,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===im.NOPROXY&&ot(Ke,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(r){return new NI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="PersistentStream";class o0{constructor(t,n,s,o,u,f,p,y){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new a0(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Gi(n.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ht(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(Wv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ot(Wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IC extends o0{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=VI(this.serializer,t),s=(function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?hi(f.readTime):St.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=dm(this.serializer),n.addTarget=(function(u,f){let p;const y=f.target;if(p=lm(y)?{documents:kI(u,y)}:{query:UI(u,y).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=XT(u,f.resumeToken);const g=cm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}else if(f.snapshotVersion.compareTo(St.min())>0){p.readTime=Jc(u,f.snapshotVersion.toTimestamp());const g=cm(u,f.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,t);const s=zI(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=dm(this.serializer),n.removeTarget=t,this.q_(n)}}class CC extends o0{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=PI(t.writeResults,t.commitTime),s=hi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=dm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>xI(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{}class NC extends DC{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,hm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(J.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(t,hm(n,s),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ht(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gi(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="RemoteStore";class MC{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Qs(this)&&(ot(Fs,"Restarting streams for network reachability change."),await(async function(y){const g=bt(y);g.Ea.add(4),await Xl(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Th(g)})(this))}))})),this.Ra=new OC(s,o)}}async function Th(r){if(Qs(r))for(const t of r.da)await t(!0)}async function Xl(r){for(const t of r.da)await t(!1)}function l0(r,t){const n=bt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),rp(n)?ip(n):lo(n).O_()&&np(n,t))}function ep(r,t){const n=bt(r),s=lo(n);n.Ia.delete(t),s.O_()&&u0(n,t),n.Ia.size===0&&(s.O_()?s.L_():Qs(n)&&n.Ra.set("Unknown"))}function np(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}lo(r).Y_(t)}function u0(r,t){r.Va.Ue(t),lo(r).Z_(t)}function ip(r){r.Va=new wI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),lo(r).start(),r.Ra.ua()}function rp(r){return Qs(r)&&!lo(r).x_()&&r.Ia.size>0}function Qs(r){return bt(r).Ea.size===0}function c0(r){r.Va=void 0}async function VC(r){r.Ra.set("Online")}async function xC(r){r.Ia.forEach(((t,n)=>{np(r,t)}))}async function PC(r,t){c0(r),rp(r)?(r.Ra.ha(t),ip(r)):r.Ra.set("Unknown")}async function kC(r,t,n){if(r.Ra.set("Online"),t instanceof YT&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(r,t)}catch(s){ot(Fs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await eh(r,s)}else if(t instanceof xc?r.Va.Ze(t):t instanceof KT?r.Va.st(t):r.Va.tt(t),!n.isEqual(St.min()))try{const s=await s0(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(y.resumeToken,f))}})),p.targetMismatches.forEach(((y,g)=>{const E=u.Ia.get(y);if(!E)return;u.Ia.set(y,E.withResumeToken(qe.EMPTY_BYTE_STRING,E.snapshotVersion)),u0(u,y);const A=new Ur(E.target,y,g,E.sequenceNumber);np(u,A)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){ot(Fs,"Failed to raise snapshot:",s),await eh(r,s)}}async function eh(r,t,n){if(!oo(t))throw t;r.Ea.add(1),await Xl(r),r.Ra.set("Offline"),n||(n=()=>s0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Fs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Th(r)}))}function h0(r,t){return t().catch((n=>eh(r,n,t)))}async function Sh(r){const t=bt(r),n=Kr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:jm;for(;UC(t);)try{const o=await _C(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,LC(t,o)}catch(o){await eh(t,o)}f0(t)&&d0(t)}function UC(r){return Qs(r)&&r.Ta.length<10}function LC(r,t){r.Ta.push(t);const n=Kr(r);n.O_()&&n.X_&&n.ea(t.mutations)}function f0(r){return Qs(r)&&!Kr(r).x_()&&r.Ta.length>0}function d0(r){Kr(r).start()}async function zC(r){Kr(r).ra()}async function BC(r){const t=Kr(r);for(const n of r.Ta)t.ea(n.mutations)}async function jC(r,t,n){const s=r.Ta.shift(),o=Ym.from(s,t,n);await h0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Sh(r)}async function qC(r,t){t&&Kr(r).X_&&await(async function(s,o){if((function(f){return AI(f)&&f!==J.ABORTED})(o.code)){const u=s.Ta.shift();Kr(s).B_(),await h0(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Sh(s)}})(r,t),f0(r)&&d0(r)}async function Jv(r,t){const n=bt(r);n.asyncQueue.verifyOperationInProgress(),ot(Fs,"RemoteStore received new credentials");const s=Qs(n);n.Ea.add(3),await Xl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Th(n)}async function HC(r,t){const n=bt(r);t?(n.Ea.delete(2),await Th(n)):t||(n.Ea.add(2),await Xl(n),n.Ra.set("Unknown"))}function lo(r){return r.ma||(r.ma=(function(n,s,o){const u=bt(n);return u.sa(),new IC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:VC.bind(null,r),t_:xC.bind(null,r),r_:PC.bind(null,r),H_:kC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),rp(r)?ip(r):r.Ra.set("Unknown")):(await r.ma.stop(),c0(r))}))),r.ma}function Kr(r){return r.fa||(r.fa=(function(n,s,o){const u=bt(n);return u.sa(),new CC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:zC.bind(null,r),r_:qC.bind(null,r),ta:BC.bind(null,r),na:jC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Sh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Fs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,p=new sp(t,n,f,o,u);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ap(r,t){if(Gi("AsyncQueue",`${t}: ${r}`),oo(r))return new ht(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||pt.comparator(n.key,s.key):(n,s)=>pt.comparator(n.key,s.key),this.keyedMap=Tl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ka;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(){this.ga=new oe(pt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class eo{constructor(t,n,s,o,u,f,p,y,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new eo(t,n,Ka.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class GC{constructor(){this.queries=eE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=bt(n),u=o.queries;o.queries=eE(),u.forEach(((f,p)=>{for(const y of p.Sa)y.onError(s)}))})(this,new ht(J.ABORTED,"Firestore shutting down"))}}function eE(){return new Gs((r=>VT(r)),ph)}async function QC(r,t){const n=bt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new FC,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=ap(f,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(p)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&op(n)}async function KC(r,t){const n=bt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function YC(r,t){const n=bt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&op(n)}function XC(r,t,n){const s=bt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function op(r){r.Ca.forEach((t=>{t.next()}))}var gm,nE;(nE=gm||(gm={})).Ma="default",nE.Cache="cache";class $C{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new eo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t){this.key=t}}class p0{constructor(t){this.key=t}}class ZC{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=xT(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new tE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,A)=>{const R=o.get(E),k=gh(this.query,A)?A:null,F=!!R&&this.mutatedKeys.has(R.key),Z=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let H=!1;R&&k?R.data.isEqual(k.data)?F!==Z&&(s.track({type:3,doc:k}),H=!0):this.su(R,k)||(s.track({type:2,doc:k}),H=!0,(y&&this.eu(k,y)>0||g&&this.eu(k,g)<0)&&(p=!0)):!R&&k?(s.track({type:0,doc:k}),H=!0):R&&!k&&(s.track({type:1,doc:R}),H=!0,(y||g)&&(p=!0)),H&&(k?(f=f.add(k),u=Z?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,A)=>(function(k,F){const Z=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:H})}};return Z(k)-Z(F)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,g=y!==this.Za;return this.Za=y,f.length!==0||g?{snapshot:new eo(this.query,t.tu,u,f,t.mutatedKeys,y===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new p0(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new m0(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Pt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lp="SyncEngine";class WC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class JC{constructor(t){this.key=t,this.hu=!1}}class t2{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Gs((p=>VT(p)),ph),this.Iu=new Map,this.Eu=new Set,this.du=new oe(pt.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=to.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function e2(r,t,n=!0){const s=T0(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await g0(s,t,n,!0),o}async function n2(r,t){const n=T0(r);await g0(n,t,!0,!1)}async function g0(r,t,n,s){const o=await vC(r.localStore,ui(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await i2(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&l0(r.remoteStore,o),p}async function i2(r,t,n,s,o){r.pu=(A,R,k)=>(async function(Z,H,et,tt){let rt=H.view.ru(et);rt.Cs&&(rt=await Yv(Z.localStore,H.query,!1).then((({documents:O})=>H.view.ru(O,rt))));const wt=tt&&tt.targetChanges.get(H.targetId),ct=tt&&tt.targetMismatches.get(H.targetId)!=null,Dt=H.view.applyChanges(rt,Z.isPrimaryClient,wt,ct);return rE(Z,H.targetId,Dt.au),Dt.snapshot})(r,A,R,k);const u=await Yv(r.localStore,t,!0),f=new ZC(t,u.Qs),p=f.ru(u.documents),y=Yl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(p,r.isPrimaryClient,y);rE(r,n,g.au);const E=new WC(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),g.snapshot}async function r2(r,t,n){const s=bt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!ph(f,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await mm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ep(s.remoteStore,o.targetId),ym(s,o.targetId)})).catch(ao)):(ym(s,o.targetId),await mm(s.localStore,o.targetId,!0))}async function s2(r,t){const n=bt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ep(n.remoteStore,s.targetId))}async function a2(r,t,n){const s=d2(r);try{const o=await(function(f,p){const y=bt(f),g=te.now(),E=p.reduce(((k,F)=>k.add(F.key)),Pt());let A,R;return y.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let F=Qi(),Z=Pt();return y.Ns.getEntries(k,E).next((H=>{F=H,F.forEach(((et,tt)=>{tt.isValidDocument()||(Z=Z.add(et))}))})).next((()=>y.localDocuments.getOverlayedDocuments(k,F))).next((H=>{A=H;const et=[];for(const tt of p){const rt=_I(tt,A.get(tt.key).overlayedDocument);rt!=null&&et.push(new $r(tt.key,rt,wT(rt.value.mapValue),ci.exists(!0)))}return y.mutationQueue.addMutationBatch(k,g,et,p)})).next((H=>{R=H;const et=H.applyToLocalDocumentSet(A,Z);return y.documentOverlayCache.saveOverlays(k,H.batchId,et)}))})).then((()=>({batchId:R.batchId,changes:kT(A)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(f,p,y){let g=f.Vu[f.currentUser.toKey()];g||(g=new oe(xt)),g=g.insert(p,y),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await $l(s,o.changes),await Sh(s.remoteStore)}catch(o){const u=ap(o,"Failed to persist write");n.reject(u)}}async function y0(r,t){const n=bt(r);try{const s=await gC(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?jt(f.hu,14607):o.removedDocuments.size>0&&(jt(f.hu,42227),f.hu=!1))})),await $l(n,s,t)}catch(s){await ao(s)}}function iE(r,t,n){const s=bt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const p=f.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const y=bt(f);y.onlineState=p;let g=!1;y.queries.forEach(((E,A)=>{for(const R of A.Sa)R.va(p)&&(g=!0)})),g&&op(y)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function o2(r,t,n){const s=bt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new oe(pt.comparator);f=f.insert(u,Xe.newNoDocument(u,St.min()));const p=Pt().add(u),y=new vh(St.min(),new Map,new oe(xt),f,p);await y0(s,y),s.du=s.du.remove(u),s.Au.delete(t),up(s)}else await mm(s.localStore,t,!1).then((()=>ym(s,t,n))).catch(ao)}async function l2(r,t){const n=bt(r),s=t.batch.batchId;try{const o=await pC(n.localStore,t);v0(n,s,null),_0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await $l(n,o)}catch(o){await ao(o)}}async function u2(r,t,n){const s=bt(r);try{const o=await(function(f,p){const y=bt(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return y.mutationQueue.lookupMutationBatch(g,p).next((A=>(jt(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(g,A)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>y.localDocuments.getDocuments(g,E)))}))})(s.localStore,t);v0(s,t,n),_0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await $l(s,o)}catch(o){await ao(o)}}function _0(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function v0(r,t,n){const s=bt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function ym(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||E0(r,s)}))}function E0(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(ep(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),up(r))}function rE(r,t,n){for(const s of n)s instanceof m0?(r.Ru.addReference(s.key,t),c2(r,s)):s instanceof p0?(ot(lp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||E0(r,s.key)):_t(19791,{wu:s})}function c2(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ot(lp,"New document in limbo: "+n),r.Eu.add(s),up(r))}function up(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new pt(se.fromString(t)),s=r.fu.next();r.Au.set(s,new JC(n)),r.du=r.du.insert(n,s),l0(r.remoteStore,new Ur(ui(Qm(n.path)),s,"TargetPurposeLimboResolution",hh.ce))}}async function $l(r,t,n){const s=bt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,y)=>{f.push(s.pu(y,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Jm.As(y.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(y,g){const E=bt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(g,(R=>$.forEach(R.Es,(k=>E.persistence.referenceDelegate.addReference(A,R.targetId,k))).next((()=>$.forEach(R.ds,(k=>E.persistence.referenceDelegate.removeReference(A,R.targetId,k)))))))))}catch(A){if(!oo(A))throw A;ot(tp,"Failed to update sequence numbers: "+A)}for(const A of g){const R=A.targetId;if(!A.fromCache){const k=E.Ms.get(R),F=k.snapshotVersion,Z=k.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(R,Z)}}})(s.localStore,u))}async function h2(r,t){const n=bt(r);if(!n.currentUser.isEqual(t)){ot(lp,"User change. New user:",t.toKey());const s=await r0(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((p=>{p.forEach((y=>{y.reject(new ht(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await $l(n,s.Ls)}}function f2(r,t){const n=bt(r),s=n.Au.get(t);if(s&&s.hu)return Pt().add(s.key);{let o=Pt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function T0(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=y0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=f2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=o2.bind(null,t),t.Pu.H_=YC.bind(null,t.eventManager),t.Pu.yu=XC.bind(null,t.eventManager),t}function d2(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=l2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=u2.bind(null,t),t}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Eh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return mC(this.persistence,new hC,t.initialUser,this.serializer)}Cu(t){return new i0(Wm.mi,this.serializer)}Du(t){return new TC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class m2 extends nh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){jt(this.persistence.referenceDelegate instanceof th,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $I(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new i0((s=>th.mi(s,n)),this.serializer)}}class _m{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>iE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=h2.bind(null,this.syncEngine),await HC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new GC})()}createDatastore(t){const n=Eh(t.databaseInfo.databaseId),s=(function(u){return new wC(u)})(t.databaseInfo);return(function(u,f,p,y){return new NC(u,f,p,y)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,f,p){return new MC(s,o,u,f,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>iE(this.syncEngine,n,0)),(function(){return Zv.v()?new Zv:new SC})())}createSyncEngine(t,n){return(function(o,u,f,p,y,g,E){const A=new t2(o,u,f,p,y,g);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=bt(n);ot(Fs,"RemoteStore shutting down."),s.Ea.add(5),await Xl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Gi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="FirestoreClient";class g2{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ot(Yr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ot(Yr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=ap(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Qd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(Yr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await r0(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function sE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await y2(r);ot(Yr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>Jv(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>Jv(t.remoteStore,o))),r._onlineComponents=t}async function y2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Yr,"Using user provided OfflineComponentProvider");try{await Qd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;$a("Error using user provided cache. Falling back to memory cache: "+n),await Qd(r,new nh)}}else ot(Yr,"Using default OfflineComponentProvider"),await Qd(r,new m2(void 0));return r._offlineComponents}async function S0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Yr,"Using user provided OnlineComponentProvider"),await sE(r,r._uninitializedComponentsProvider._online)):(ot(Yr,"Using default OnlineComponentProvider"),await sE(r,new _m))),r._onlineComponents}function _2(r){return S0(r).then((t=>t.syncEngine))}async function v2(r){const t=await S0(r),n=t.eventManager;return n.onListen=e2.bind(null,t.syncEngine),n.onUnlisten=r2.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=n2.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=s2.bind(null,t.syncEngine),n}function E2(r,t,n={}){const s=new qr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,y,g){const E=new p2({next:R=>{E.Nu(),f.enqueueAndForget((()=>KC(u,A)));const k=R.docs.has(p);!k&&R.fromCache?g.reject(new ht(J.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&R.fromCache&&y&&y.source==="server"?g.reject(new ht(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),A=new $C(Qm(p.path),E,{includeMetadataChanges:!0,qa:!0});return QC(u,A)})(await v2(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="firestore.googleapis.com",oE=!0;class lE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=b0,this.ssl=oE}else this.host=t.host,this.ssl=t.ssl??oE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=n0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<YI)throw new ht(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ow("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A0(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cp{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Ew;switch(s.type){case"firstParty":return new bw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=aE.get(n);s&&(ot("ComponentProvider","Removing Datastore"),aE.delete(n),s.terminate())})(this),Promise.resolve()}}function T2(r,t,n,s={}){r=Hs(r,cp);const o=no(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;o&&(bE(`https://${p}`),RE("Firestore",!0)),u.host!==b0&&u.host!==p&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:p,ssl:o,emulatorOptions:s};if(!zs(y,f)&&(r._setSettings(y),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Ye.MOCK_USER;else{g=FA(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ht(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ye(A)}r._authCredentials=new Tw(new pT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new hp(this.firestore,t,this._query)}}class Ie{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Ql(n,Ie._jsonSchema))return new Ie(t,s||null,new pt(se.fromString(n.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Te("string",Ie._jsonSchemaVersion),referencePath:Te("string")};class zl extends hp{constructor(t,n,s){super(t,n,Qm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new pt(t))}withConverter(t){return new zl(this.firestore,t,this._path)}}function vm(r,t,...n){if(r=nn(r),arguments.length===1&&(t=zm.newId()),Nw("doc","path",t),r instanceof cp){const s=se.fromString(t,...n);return Sv(s),new Ie(r,null,new pt(s))}{if(!(r instanceof Ie||r instanceof zl))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(se.fromString(t,...n));return Sv(s),new Ie(r.firestore,r instanceof zl?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="AsyncQueue";class cE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new a0(this,"async_queue_retry"),this._c=()=>{const s=Gd();s&&ot(uE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Gd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Gd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;ot(uE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Gi("INTERNAL UNHANDLED ERROR: ",hE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=sp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:hE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function hE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Ah extends cp{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new cE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new cE(t),this._firestoreClient=void 0,await t}}}function S2(r,t){const n=typeof r=="object"?r:DE(),s=typeof r=="string"?r:Kc,o=Im(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=qA("firestore");u&&T2(o,...u)}return o}function R0(r){if(r._terminated)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||A2(r),r._firestoreClient}function A2(r){const t=r._freezeSettings(),n=(function(o,u,f,p){return new qw(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,A0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new g2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this._byteString=t}static fromBase64String(t){try{return new On(qe.fromBase64String(t))}catch(n){throw new ht(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new On(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ql(t,On._jsonSchema))return On.fromBase64String(t.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Te("string",On._jsonSchemaVersion),bytes:Te("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fi._jsonSchemaVersion}}static fromJSON(t){if(Ql(t,fi._jsonSchema))return new fi(t.latitude,t.longitude)}}fi._jsonSchemaVersion="firestore/geoPoint/1.0",fi._jsonSchema={type:Te("string",fi._jsonSchemaVersion),latitude:Te("number"),longitude:Te("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ql(t,di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new di(t.vectorValues);throw new ht(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:Te("string",di._jsonSchemaVersion),vectorValues:Te("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=/^__.*__$/;class R2{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new $r(t,this.data,this.fieldMask,n,this.fieldTransforms):new Kl(t,this.data,n,this.fieldTransforms)}}class w0{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new $r(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function I0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:r})}}class dp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new dp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ih(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(I0(this.Ac)&&b2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class w2{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Eh(t)}Cc(t,n,s,o=!1){return new dp({Ac:t,methodName:n,Dc:s,path:je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C0(r){const t=r._freezeSettings(),n=Eh(r._databaseId);return new w2(r._databaseId,!!t.ignoreUndefinedProperties,n)}function I2(r,t,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,n,o);mp("Data must be an object, but it was:",f,s);const p=D0(s,f);let y,g;if(u.merge)y=new _n(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const R=Em(t,A,n);if(!f.contains(R))throw new ht(J.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);O0(E,R)||E.push(R)}y=new _n(E),g=f.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,g=f.fieldTransforms;return new R2(new un(p),y,g)}class Rh extends fp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rh}}function C2(r,t,n,s){const o=r.Cc(1,t,n);mp("Data must be an object, but it was:",o,s);const u=[],f=un.empty();Xr(s,((y,g)=>{const E=pp(t,y,n);g=nn(g);const A=o.yc(E);if(g instanceof Rh)u.push(E);else{const R=wh(g,A);R!=null&&(u.push(E),f.set(E,R))}}));const p=new _n(u);return new w0(f,p,o.fieldTransforms)}function D2(r,t,n,s,o,u){const f=r.Cc(1,t,n),p=[Em(t,s,n)],y=[o];if(u.length%2!=0)throw new ht(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)p.push(Em(t,u[R])),y.push(u[R+1]);const g=[],E=un.empty();for(let R=p.length-1;R>=0;--R)if(!O0(g,p[R])){const k=p[R];let F=y[R];F=nn(F);const Z=f.yc(k);if(F instanceof Rh)g.push(k);else{const H=wh(F,Z);H!=null&&(g.push(k),E.set(k,H))}}const A=new _n(g);return new w0(E,A,f.fieldTransforms)}function wh(r,t){if(N0(r=nn(r)))return mp("Unsupported field value:",t,r),D0(r,t);if(r instanceof fp)return(function(s,o){if(!I0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const p of s){let y=wh(p,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=nn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=te.fromDate(s);return{timestampValue:Jc(o.serializer,u)}}if(s instanceof te){const u=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jc(o.serializer,u)}}if(s instanceof fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:XT(o.serializer,s._byteString)};if(s instanceof Ie){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$m(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof di)return(function(f,p){return{mapValue:{fields:{[bT]:{stringValue:RT},[Yc]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return Km(p.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Bm(s)}`)})(r,t)}function D0(r,t){const n={};return _T(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xr(r,((s,o)=>{const u=wh(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function N0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof te||r instanceof fi||r instanceof On||r instanceof Ie||r instanceof fp||r instanceof di)}function mp(r,t,n){if(!N0(n)||!gT(n)){const s=Bm(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function Em(r,t,n){if((t=nn(t))instanceof bh)return t._internalPath;if(typeof t=="string")return pp(r,t);throw ih("Field path arguments must be of type string or ",r,!1,void 0,n)}const N2=new RegExp("[~\\*/\\[\\]]");function pp(r,t,n){if(t.search(N2)>=0)throw ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new bh(...t.split("."))._internalPath}catch{throw ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ih(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new ht(J.INVALID_ARGUMENT,p+r+y)}function O0(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new O2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(V0("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class O2 extends M0{data(){return super.data()}}function V0(r,t){return typeof t=="string"?pp(r,t):t instanceof bh?t._internalPath:t._delegate._internalPath}class M2{convertValue(t,n="none"){switch(Qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Xr(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Yc].arrayValue?.values?.map((s=>ye(s.doubleValue)));return new di(n)}convertGeoPoint(t){return new fi(ye(t.latitude),ye(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=dh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(xl(t));default:return null}}convertTimestamp(t){const n=Fr(t);return new te(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=se.fromString(t);jt(e0(s),9688,{name:t});const o=new Pl(s.get(1),s.get(3)),u=new pt(s.popFirst(5));return o.isEqual(n)||Gi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class Al{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ls extends M0{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(V0("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ls._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ls._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ls._jsonSchema={type:Te("string",Ls._jsonSchemaVersion),bundleSource:Te("string","DocumentSnapshot"),bundleName:Te("string"),bundle:Te("string")};class Pc extends Ls{data(t={}){return super.data(t)}}class Nl{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Al(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Pc(this._firestore,this._userDataWriter,s.key,s,new Al(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const y=new Pc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Al(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const y=new Pc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Al(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return p.type!==0&&(g=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),E=f.indexOf(p.doc.key)),{type:x2(p.type),doc:y,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Nl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function x2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(r){r=Hs(r,Ie);const t=Hs(r.firestore,Ah);return E2(R0(t),r._key).then((n=>L2(t,r,n)))}Nl._jsonSchemaVersion="firestore/querySnapshot/1.0",Nl._jsonSchema={type:Te("string",Nl._jsonSchemaVersion),bundleSource:Te("string","QuerySnapshot"),bundleName:Te("string"),bundle:Te("string")};class k2 extends M2{constructor(t){super(),this.firestore=t}convertBytes(t){return new On(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,n)}}function U2(r,t,n){r=Hs(r,Ie);const s=Hs(r.firestore,Ah),o=V2(r.converter,t,n);return x0(s,[I2(C0(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ci.none())])}function fE(r,t,n,...s){r=Hs(r,Ie);const o=Hs(r.firestore,Ah),u=C0(o);let f;return f=typeof(t=nn(t))=="string"||t instanceof bh?D2(u,"updateDoc",r._key,t,n,s):C2(u,"updateDoc",r._key,t),x0(o,[f.toMutation(r._key,ci.exists(!0))])}function x0(r,t){return(function(s,o){const u=new qr;return s.asyncQueue.enqueueAndForget((async()=>a2(await _2(s),o,u))),u.promise})(R0(r),t)}function L2(r,t,n){const s=n.docs.get(t._key),o=new k2(r);return new Ls(r,o,t._key,s,new Al(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){so=o})(io),Ya(new Bs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new Ah(new Sw(s.getProvider("auth-internal")),new Rw(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ht(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Br(_v,vv,t),Br(_v,vv,"esm2020")})();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dE="popstate";function z2(r={}){function t(o,u){let{pathname:f="/",search:p="",hash:y=""}=Ks(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Tm("",{pathname:f,search:p,hash:y},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),p="";if(f&&f.getAttribute("href")){let y=o.location.href,g=y.indexOf("#");p=g===-1?y:y.slice(0,g)}return p+"#"+(typeof u=="string"?u:Bl(u))}function s(o,u){Qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return j2(t,n,s,r)}function ae(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Qn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function B2(){return Math.random().toString(36).substring(2,10)}function mE(r,t){return{usr:r.state,key:r.key,idx:t}}function Tm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ks(t):t,state:n,key:t&&t.key||s||B2()}}function Bl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ks(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function j2(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",y=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){p="POP";let H=E(),et=H==null?null:H-g;g=H,y&&y({action:p,location:Z.location,delta:et})}function R(H,et){p="PUSH";let tt=Tm(Z.location,H,et);n&&n(tt,H),g=E()+1;let rt=mE(tt,g),wt=Z.createHref(tt);try{f.pushState(rt,"",wt)}catch(ct){if(ct instanceof DOMException&&ct.name==="DataCloneError")throw ct;o.location.assign(wt)}u&&y&&y({action:p,location:Z.location,delta:1})}function k(H,et){p="REPLACE";let tt=Tm(Z.location,H,et);n&&n(tt,H),g=E();let rt=mE(tt,g),wt=Z.createHref(tt);f.replaceState(rt,"",wt),u&&y&&y({action:p,location:Z.location,delta:0})}function F(H){return q2(H)}let Z={get action(){return p},get location(){return r(o,f)},listen(H){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(dE,A),y=H,()=>{o.removeEventListener(dE,A),y=null}},createHref(H){return t(o,H)},createURL:F,encodeLocation(H){let et=F(H);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:R,replace:k,go(H){return f.go(H)}};return Z}function q2(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ae(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Bl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function P0(r,t,n="/"){return H2(r,t,n,!1)}function H2(r,t,n,s){let o=typeof t=="string"?Ks(t):t,u=Ki(o.pathname||"/",n);if(u==null)return null;let f=k0(r);F2(f);let p=null;for(let y=0;p==null&&y<f.length;++y){let g=eD(u);p=J2(f[y],g,s)}return p}function k0(r,t=[],n=[],s="",o=!1){let u=(f,p,y=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&y)return;ae(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let A=qi([s,E.relativePath]),R=n.concat(E);f.children&&f.children.length>0&&(ae(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),k0(f.children,t,R,A,y)),!(f.path==null&&!f.index)&&t.push({path:A,score:Z2(A,f.index),routesMeta:R})};return r.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))u(f,p);else for(let y of U0(f.path))u(f,p,!0,y)}),t}function U0(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=U0(s.join("/")),p=[];return p.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&p.push(...f),p.map(y=>r.startsWith("/")&&y===""?"/":y)}function F2(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:W2(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var G2=/^:[\w-]+$/,Q2=3,K2=2,Y2=1,X2=10,$2=-2,pE=r=>r==="*";function Z2(r,t){let n=r.split("/"),s=n.length;return n.some(pE)&&(s+=$2),t&&(s+=K2),n.filter(o=>!pE(o)).reduce((o,u)=>o+(G2.test(u)?Q2:u===""?Y2:X2),s)}function W2(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function J2(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let y=s[p],g=p===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=rh({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},E),R=y.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=rh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:qi([u,A.pathname]),pathnameBase:sD(qi([u,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(u=qi([u,A.pathnameBase]))}return f}function rh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=tD(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},R)=>{if(E==="*"){let F=p[R]||"";f=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const k=p[R];return A&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function tD(r,t=!1,n=!0){Qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,y)=>(s.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function eD(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Ki(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function nD(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ks(r):r;return{pathname:n?n.startsWith("/")?n:iD(n,t):t,search:aD(s),hash:oD(o)}}function iD(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Kd(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rD(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function L0(r){let t=rD(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function z0(r,t,n,s=!1){let o;typeof r=="string"?o=Ks(r):(o={...r},ae(!o.pathname||!o.pathname.includes("?"),Kd("?","pathname","search",o)),ae(!o.pathname||!o.pathname.includes("#"),Kd("#","pathname","hash",o)),ae(!o.search||!o.search.includes("#"),Kd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let A=t.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),A-=1;o.pathname=R.join("/")}p=A>=0?t[A]:"/"}let y=nD(o,p),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(g||E)&&(y.pathname+="/"),y}var qi=r=>r.join("/").replace(/\/\/+/g,"/"),sD=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),aD=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,oD=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function lD(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var B0=["POST","PUT","PATCH","DELETE"];new Set(B0);var uD=["GET",...B0];new Set(uD);var uo=K.createContext(null);uo.displayName="DataRouter";var Ih=K.createContext(null);Ih.displayName="DataRouterState";K.createContext(!1);var j0=K.createContext({isTransitioning:!1});j0.displayName="ViewTransition";var cD=K.createContext(new Map);cD.displayName="Fetchers";var hD=K.createContext(null);hD.displayName="Await";var yi=K.createContext(null);yi.displayName="Navigation";var Zl=K.createContext(null);Zl.displayName="Location";var Xi=K.createContext({outlet:null,matches:[],isDataRoute:!1});Xi.displayName="Route";var gp=K.createContext(null);gp.displayName="RouteError";function fD(r,{relative:t}={}){ae(Wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=K.useContext(yi),{hash:o,pathname:u,search:f}=Jl(r,{relative:t}),p=u;return n!=="/"&&(p=u==="/"?n:qi([n,u])),s.createHref({pathname:p,search:f,hash:o})}function Wl(){return K.useContext(Zl)!=null}function Ys(){return ae(Wl(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Zl).location}var q0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function H0(r){K.useContext(yi).static||K.useLayoutEffect(r)}function dD(){let{isDataRoute:r}=K.useContext(Xi);return r?wD():mD()}function mD(){ae(Wl(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(uo),{basename:t,navigator:n}=K.useContext(yi),{matches:s}=K.useContext(Xi),{pathname:o}=Ys(),u=JSON.stringify(L0(s)),f=K.useRef(!1);return H0(()=>{f.current=!0}),K.useCallback((y,g={})=>{if(Qn(f.current,q0),!f.current)return;if(typeof y=="number"){n.go(y);return}let E=z0(y,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:qi([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}K.createContext(null);function Jl(r,{relative:t}={}){let{matches:n}=K.useContext(Xi),{pathname:s}=Ys(),o=JSON.stringify(L0(n));return K.useMemo(()=>z0(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function pD(r,t){return F0(r,t)}function F0(r,t,n,s,o){ae(Wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=K.useContext(yi),{matches:f}=K.useContext(Xi),p=f[f.length-1],y=p?p.params:{},g=p?p.pathname:"/",E=p?p.pathnameBase:"/",A=p&&p.route;{let tt=A&&A.path||"";G0(g,!A||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let R=Ys(),k;if(t){let tt=typeof t=="string"?Ks(t):t;ae(E==="/"||tt.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),k=tt}else k=R;let F=k.pathname||"/",Z=F;if(E!=="/"){let tt=E.replace(/^\//,"").split("/");Z="/"+F.replace(/^\//,"").split("/").slice(tt.length).join("/")}let H=P0(r,{pathname:Z});Qn(A||H!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Qn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=ED(H&&H.map(tt=>Object.assign({},tt,{params:Object.assign({},y,tt.params),pathname:qi([E,u.encodeLocation?u.encodeLocation(tt.pathname).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?E:qi([E,u.encodeLocation?u.encodeLocation(tt.pathnameBase).pathname:tt.pathnameBase])})),f,n,s,o);return t&&et?K.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},et):et}function gD(){let r=RD(),t=lD(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),n?K.createElement("pre",{style:o},n):null,f)}var yD=K.createElement(gD,null),_D=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?K.createElement(Xi.Provider,{value:this.props.routeContext},K.createElement(gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vD({routeContext:r,match:t,children:n}){let s=K.useContext(uo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(Xi.Provider,{value:r},n)}function ED(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let g=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);ae(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let p=!1,y=-1;if(n)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=g),E.route.id){let{loaderData:A,errors:R}=n,k=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||k){p=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((g,E,A)=>{let R,k=!1,F=null,Z=null;n&&(R=f&&E.route.id?f[E.route.id]:void 0,F=E.route.errorElement||yD,p&&(y<0&&A===0?(G0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,Z=null):y===A&&(k=!0,Z=E.route.hydrateFallbackElement||null)));let H=t.concat(u.slice(0,A+1)),et=()=>{let tt;return R?tt=F:k?tt=Z:E.route.Component?tt=K.createElement(E.route.Component,null):E.route.element?tt=E.route.element:tt=g,K.createElement(vD,{match:E,routeContext:{outlet:g,matches:H,isDataRoute:n!=null},children:tt})};return n&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?K.createElement(_D,{location:n.location,revalidation:n.revalidation,component:F,error:R,children:et(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:s}):et()},null)}function yp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TD(r){let t=K.useContext(uo);return ae(t,yp(r)),t}function SD(r){let t=K.useContext(Ih);return ae(t,yp(r)),t}function AD(r){let t=K.useContext(Xi);return ae(t,yp(r)),t}function _p(r){let t=AD(r),n=t.matches[t.matches.length-1];return ae(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function bD(){return _p("useRouteId")}function RD(){let r=K.useContext(gp),t=SD("useRouteError"),n=_p("useRouteError");return r!==void 0?r:t.errors?.[n]}function wD(){let{router:r}=TD("useNavigate"),t=_p("useNavigate"),n=K.useRef(!1);return H0(()=>{n.current=!0}),K.useCallback(async(o,u={})=>{Qn(n.current,q0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var gE={};function G0(r,t,n){!t&&!gE[r]&&(gE[r]=!0,Qn(!1,n))}K.memo(ID);function ID({routes:r,future:t,state:n,unstable_onError:s}){return F0(r,void 0,n,s,t)}function Sm(r){ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CD({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ae(!Wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=K.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ks(n));let{pathname:y="/",search:g="",hash:E="",state:A=null,key:R="default"}=n,k=K.useMemo(()=>{let F=Ki(y,f);return F==null?null:{location:{pathname:F,search:g,hash:E,state:A,key:R},navigationType:s}},[f,y,g,E,A,R,s]);return Qn(k!=null,`<Router basename="${f}"> is not able to match the URL "${y}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:K.createElement(yi.Provider,{value:p},K.createElement(Zl.Provider,{children:t,value:k}))}function DD({children:r,location:t}){return pD(Am(r),t)}function Am(r,t=[]){let n=[];return K.Children.forEach(r,(s,o)=>{if(!K.isValidElement(s))return;let u=[...t,o];if(s.type===K.Fragment){n.push.apply(n,Am(s.props.children,u));return}ae(s.type===Sm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ae(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Am(s.props.children,u)),n.push(f)}),n}var kc="get",Uc="application/x-www-form-urlencoded";function Ch(r){return r!=null&&typeof r.tagName=="string"}function ND(r){return Ch(r)&&r.tagName.toLowerCase()==="button"}function OD(r){return Ch(r)&&r.tagName.toLowerCase()==="form"}function MD(r){return Ch(r)&&r.tagName.toLowerCase()==="input"}function VD(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function xD(r,t){return r.button===0&&(!t||t==="_self")&&!VD(r)}var Rc=null;function PD(){if(Rc===null)try{new FormData(document.createElement("form"),0),Rc=!1}catch{Rc=!0}return Rc}var kD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yd(r){return r!=null&&!kD.has(r)?(Qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uc}"`),null):r}function UD(r,t){let n,s,o,u,f;if(OD(r)){let p=r.getAttribute("action");s=p?Ki(p,t):null,n=r.getAttribute("method")||kc,o=Yd(r.getAttribute("enctype"))||Uc,u=new FormData(r)}else if(ND(r)||MD(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||p.getAttribute("action");if(s=y?Ki(y,t):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||kc,o=Yd(r.getAttribute("formenctype"))||Yd(p.getAttribute("enctype"))||Uc,u=new FormData(p,r),!PD()){let{name:g,type:E,value:A}=r;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,A)}}else{if(Ch(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kc,s=null,o=Uc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function LD(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Ki(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function zD(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BD(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function jD(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await zD(u,n);return f.links?f.links():[]}return[]}));return GD(s.flat(1).filter(BD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function yE(r,t,n,s,o,u){let f=(y,g)=>n[g]?y.route.id!==n[g].route.id:!0,p=(y,g)=>n[g].pathname!==y.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==y.params["*"];return u==="assets"?t.filter((y,g)=>f(y,g)||p(y,g)):u==="data"?t.filter((y,g)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(f(y,g)||p(y,g))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function qD(r,t,{includeHydrateFallback:n}={}){return HD(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function HD(r){return[...new Set(r)]}function FD(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function GD(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(FD(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Q0(){let r=K.useContext(uo);return vp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function QD(){let r=K.useContext(Ih);return vp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ep=K.createContext(void 0);Ep.displayName="FrameworkContext";function K0(){let r=K.useContext(Ep);return vp(r,"You must render this element inside a <HydratedRouter> element"),r}function KD(r,t){let n=K.useContext(Ep),[s,o]=K.useState(!1),[u,f]=K.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=t,R=K.useRef(null);K.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Z=et=>{et.forEach(tt=>{f(tt.isIntersecting)})},H=new IntersectionObserver(Z,{threshold:.5});return R.current&&H.observe(R.current),()=>{H.disconnect()}}},[r]),K.useEffect(()=>{if(s){let Z=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Z)}}},[s]);let k=()=>{o(!0)},F=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:vl(p,k),onBlur:vl(y,F),onMouseEnter:vl(g,k),onMouseLeave:vl(E,F),onTouchStart:vl(A,k)}]:[!1,R,{}]}function vl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function YD({page:r,...t}){let{router:n}=Q0(),s=K.useMemo(()=>P0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?K.createElement($D,{page:r,matches:s,...t}):null}function XD(r){let{manifest:t,routeModules:n}=K0(),[s,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return jD(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function $D({page:r,matches:t,...n}){let s=Ys(),{manifest:o,routeModules:u}=K0(),{basename:f}=Q0(),{loaderData:p,matches:y}=QD(),g=K.useMemo(()=>yE(r,t,y,o,s,"data"),[r,t,y,o,s]),E=K.useMemo(()=>yE(r,t,y,o,s,"assets"),[r,t,y,o,s]),A=K.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,Z=!1;if(t.forEach(et=>{let tt=o.routes[et.route.id];!tt||!tt.hasLoader||(!g.some(rt=>rt.route.id===et.route.id)&&et.route.id in p&&u[et.route.id]?.shouldRevalidate||tt.hasClientLoader?Z=!0:F.add(et.route.id))}),F.size===0)return[];let H=LD(r,f,"data");return Z&&F.size>0&&H.searchParams.set("_routes",t.filter(et=>F.has(et.route.id)).map(et=>et.route.id).join(",")),[H.pathname+H.search]},[f,p,s,o,g,t,r,u]),R=K.useMemo(()=>qD(E,o),[E,o]),k=XD(E);return K.createElement(K.Fragment,null,A.map(F=>K.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),R.map(F=>K.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),k.map(({key:F,link:Z})=>K.createElement("link",{key:F,nonce:n.nonce,...Z})))}function ZD(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Y0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y0&&(window.__reactRouterVersion="7.9.1")}catch{}function WD({basename:r,children:t,window:n}){let s=K.useRef();s.current==null&&(s.current=z2({window:n,v5Compat:!0}));let o=s.current,[u,f]=K.useState({action:o.action,location:o.location}),p=K.useCallback(y=>{K.startTransition(()=>f(y))},[f]);return K.useLayoutEffect(()=>o.listen(p),[o,p]),K.createElement(CD,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var X0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sh=K.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:y,to:g,preventScrollReset:E,viewTransition:A,...R},k){let{basename:F}=K.useContext(yi),Z=typeof g=="string"&&X0.test(g),H,et=!1;if(typeof g=="string"&&Z&&(H=g,Y0))try{let w=new URL(window.location.href),V=g.startsWith("//")?new URL(w.protocol+g):new URL(g),N=Ki(V.pathname,F);V.origin===w.origin&&N!=null?g=N+V.search+V.hash:et=!0}catch{Qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let tt=fD(g,{relative:o}),[rt,wt,ct]=KD(s,R),Dt=nN(g,{replace:f,state:p,target:y,preventScrollReset:E,relative:o,viewTransition:A});function O(w){t&&t(w),w.defaultPrevented||Dt(w)}let b=K.createElement("a",{...R,...ct,href:H||tt,onClick:et||u?t:O,ref:ZD(k,wt),target:y,"data-discover":!Z&&n==="render"?"true":void 0});return rt&&!Z?K.createElement(K.Fragment,null,b,K.createElement(YD,{page:tt})):b});sh.displayName="Link";var JD=K.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:y,...g},E){let A=Jl(f,{relative:g.relative}),R=Ys(),k=K.useContext(Ih),{navigator:F,basename:Z}=K.useContext(yi),H=k!=null&&oN(A)&&p===!0,et=F.encodeLocation?F.encodeLocation(A).pathname:A.pathname,tt=R.pathname,rt=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(tt=tt.toLowerCase(),rt=rt?rt.toLowerCase():null,et=et.toLowerCase()),rt&&Z&&(rt=Ki(rt,Z)||rt);const wt=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let ct=tt===et||!o&&tt.startsWith(et)&&tt.charAt(wt)==="/",Dt=rt!=null&&(rt===et||!o&&rt.startsWith(et)&&rt.charAt(et.length)==="/"),O={isActive:ct,isPending:Dt,isTransitioning:H},b=ct?t:void 0,w;typeof s=="function"?w=s(O):w=[s,ct?"active":null,Dt?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(O):u;return K.createElement(sh,{...g,"aria-current":b,className:w,ref:E,style:V,to:f,viewTransition:p},typeof y=="function"?y(O):y)});JD.displayName="NavLink";var tN=K.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=kc,action:p,onSubmit:y,relative:g,preventScrollReset:E,viewTransition:A,...R},k)=>{let F=sN(),Z=aN(p,{relative:g}),H=f.toLowerCase()==="get"?"get":"post",et=typeof p=="string"&&X0.test(p),tt=rt=>{if(y&&y(rt),rt.defaultPrevented)return;rt.preventDefault();let wt=rt.nativeEvent.submitter,ct=wt?.getAttribute("formmethod")||f;F(wt||rt.currentTarget,{fetcherKey:t,method:ct,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return K.createElement("form",{ref:k,method:H,action:Z,onSubmit:s?y:tt,...R,"data-discover":!et&&r==="render"?"true":void 0})});tN.displayName="Form";function eN(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $0(r){let t=K.useContext(uo);return ae(t,eN(r)),t}function nN(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=dD(),y=Ys(),g=Jl(r,{relative:u});return K.useCallback(E=>{if(xD(E,t)){E.preventDefault();let A=n!==void 0?n:Bl(y)===Bl(g);p(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[y,p,g,n,s,t,r,o,u,f])}var iN=0,rN=()=>`__${String(++iN)}__`;function sN(){let{router:r}=$0("useSubmit"),{basename:t}=K.useContext(yi),n=bD();return K.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:y,body:g}=UD(s,t);if(o.navigate===!1){let E=o.fetcherKey||rN();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function aN(r,{relative:t}={}){let{basename:n}=K.useContext(yi),s=K.useContext(Xi);ae(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Jl(r||".",{relative:t})},f=Ys();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),y=p.getAll("index");if(y.some(E=>E==="")){p.delete("index"),y.filter(A=>A).forEach(A=>p.append("index",A));let E=p.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:qi([n,u.pathname])),Bl(u)}function oN(r,{relative:t}={}){let n=K.useContext(j0);ae(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=$0("useViewTransitionState"),o=Jl(r,{relative:t});if(!n.isTransitioning)return!1;let u=Ki(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Ki(n.nextLocation.pathname,s)||n.nextLocation.pathname;return rh(o.pathname,f)!=null||rh(o.pathname,u)!=null}const ah={home:"/",profile:"/profile"},lN={apiKey:"AIzaSyDM9-NOmxOE-E5xLG0jaglmlG98Z1zRhRM",authDomain:"raven-board-game-party.firebaseapp.com",projectId:"raven-board-game-party",storageBucket:"raven-board-game-party.firebasestorage.app",messagingSenderId:"400848628410",appId:"1:400848628410:web:9357bba7f8c4dcc5bcb083",measurementId:"G-VXZ52R32MK"},uN="/board-game-party";function cN({bgUser:r,db:t}){const[n,s]=K.useState(""),[o,u]=K.useState(""),[f,p]=K.useState(!1),[y,g]=K.useState(!1);function E(){p(!0)}function A(){g(!0)}async function R(){try{if(t&&r){const F=vm(t,"users",r.uid);await fE(F,{username:n}),p(!1)}}catch(F){console.error("Error saving username:",F)}}async function k(){try{if(t&&r){const F=vm(t,"users",r.uid);await fE(F,{bggUsername:o}),g(!1)}}catch(F){console.error("Error saving username:",F)}}return K.useEffect(()=>{r?.username&&s(r.username),r?.bggUsername&&u(r.bggUsername)},[r?.bggUsername,r?.username]),ut.jsx("div",{className:"profile-page",children:r?ut.jsxs(ut.Fragment,{children:[ut.jsxs("h2",{className:"profile-name-image",children:[r.photoURL&&ut.jsx("img",{className:"profile-image",src:r.photoURL,alt:"Photo of "+r.displayName}),r.displayName]}),ut.jsxs("div",{className:"profile-grid",children:[ut.jsx("div",{className:"field-name",children:"Username:"}),ut.jsx("input",{type:"text",value:n,onChange:F=>s(F.target.value),disabled:!f}),f?ut.jsx("button",{onClick:R,children:"Save"}):ut.jsx("button",{onClick:E,children:"Edit"}),ut.jsxs("div",{className:"field-name",children:["BoardGameGeek ",ut.jsx("br",{})," Username:"]}),ut.jsx("input",{type:"text",value:o,onChange:F=>u(F.target.value),disabled:!y}),y?ut.jsx("button",{onClick:k,children:"Save"}):ut.jsx("button",{onClick:A,children:"Edit"})]})]}):ut.jsx(ut.Fragment,{})})}function hN({auth:r}){async function t(){try{r&&await oR(r)}catch(n){console.error("Sign-out error:",n)}}return ut.jsx("button",{onClick:t,children:"Sign Out"})}function fN({bgUser:r,auth:t}){return ut.jsx(ut.Fragment,{children:r&&ut.jsxs("div",{className:"nav-div",children:[ut.jsx("div",{children:ut.jsx(sh,{to:ah.home,children:ut.jsx("button",{children:"Home"})})}),ut.jsxs("div",{className:"button-spacing",children:[ut.jsx(sh,{to:ah.profile,children:ut.jsx("button",{children:"Profile"})}),ut.jsx(hN,{auth:t})]})]})})}function dN(){return ut.jsx("div",{style:{display:"flex",justifyContent:"center"},children:ut.jsx("h1",{children:"Welcome to Board Game Party Planner"})})}function mN({auth:r}){async function t(){if(r)try{const n=new zi;n.setCustomParameters({prompt:"select_account"}),await IR(r,n)}catch(n){console.error("Sign-in error:",n)}}return ut.jsxs("button",{className:"gsi-material-button",onClick:t,children:[ut.jsx("div",{className:"gsi-material-button-state"}),ut.jsxs("div",{className:"gsi-material-button-content-wrapper",children:[ut.jsx("div",{className:"gsi-material-button-icon",children:ut.jsxs("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{display:"block"},children:[ut.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),ut.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),ut.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),ut.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),ut.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]})}),ut.jsx("span",{className:"gsi-material-button-contents",children:"Sign in"}),ut.jsx("span",{style:{display:"none"},children:"Sign in with Google"})]})]})}function pN(){const[r,t]=K.useState(null),[n,s]=K.useState(null),[o,u]=K.useState(null),[f,p]=K.useState(!0);return K.useEffect(()=>{try{const y=CE(lN),g=_w(y),E=S2(y);s(g),u(E);const A=aR(g,async R=>{if(R)try{const k=vm(E,"users",R.uid),F=await P2(k);if(F.exists()){const Z=F.data();t(Z)}else{const Z={uid:R.uid,email:R.email,displayName:R.displayName,photoURL:R.photoURL,createdAt:new Date};await U2(k,Z,{merge:!0}),t(Z)}}catch(k){console.error("Error setting user profile in Firestore:",k)}else t(null);p(!1)});return()=>A()}catch(y){console.error("Firebase initialization failed:",y)}},[]),ut.jsx(WD,{basename:uN,children:f&&!r?ut.jsxs("div",{className:"loader-container",children:[ut.jsx("h1",{children:"Loading..."}),ut.jsx("div",{className:"loader"})]}):ut.jsx(ut.Fragment,{children:r?ut.jsxs("div",{className:"app-div",children:[ut.jsx(fN,{bgUser:r,auth:n}),ut.jsxs(DD,{children:[ut.jsx(Sm,{path:ah.home,element:ut.jsx(dN,{})}),ut.jsx(Sm,{path:ah.profile,element:ut.jsx(cN,{bgUser:r,db:o})})]})]}):ut.jsxs("div",{className:"sign-in-container",children:[ut.jsx("h1",{children:"Welcome to Board Game Party Planner"}),ut.jsx(mN,{auth:n})]})})})}VA.createRoot(document.getElementById("root")).render(ut.jsx(K.StrictMode,{children:ut.jsx(pN,{})}));
